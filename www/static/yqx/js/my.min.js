!function(c){function b(g){if(a[g]){return a[g].exports}var e=a[g]={exports:{},id:g,loaded:!1};return c[g].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var f=window.webpackJsonp;window.webpackJsonp=function(h,k){for(var j,e,l=0,g=[];l<h.length;l++){e=h[l],d[e]&&g.push.apply(g,d[e]),d[e]=0}for(j in k){c[j]=k[j]}for(f&&f(h,k);g.length;){g.shift().call(null,b)}};var a={},d={0:0};return b.e=function(j,k){if(0===d[j]){return k.call(null,b)}if(void 0!==d[j]){d[j].push(k)}else{d[j]=[k];var g=document.getElementsByTagName("head")[0],h=document.createElement("script");h.type="text/javascript",h.charset="utf-8",h.async=!0,h.src=b.p+""+j+".view-4793d39.min.js",g.appendChild(h)}},b.m=c,b.c=a,b.p="//as.eqh5.com/h5_view_2/",b(0)}([function(b,a,c){b.exports=c(1)},function(O,C,H){function K(){J().then(function(c){function b(g){var f=parseInt(g.userType||2),h=parseInt(g.memberType||1);B(location.host)?[2,21].includes(f)&&[1,2,3,4,6,7,8,9].includes(h)&&(R.FILE=R.VIP_USER_FILE):(R.SOURCE=R.BIND_USER_SOURCE,R.FILE=R.BIND_USER_FILE)}function d(){alert("此场景不存在!")}window.scene=c,b(c),T.setUp(c);var a=Promise.resolve(null);L()&&(a=function(){var e=location.href.split("#")[0];return c.property.wxAuth?Q().then(function(f){return f.obj?(N.setWeChatUser(f.obj),N.initWeChat({obj:c},e),f.obj):void N.hrefToWxAuth()})["catch"](function(f){console.error(f)}):Promise.resolve(N.initWeChat({obj:c},e))}()),F(c).then(function(f){return f.list.length?(_DEBUG_,f.map.wxComponent&&N.setWxCompData(f.map.wxComponent),void a.then(function(e){function g(o){var l=window.location.href,p=j.getUrlParam("toPage");l.indexOf("toPage")>-1&&j.replaceLocationHref(j.removeUrlParam("toPage"));var h={param:l.split("?")[1],selector:"#nr",mode:"view",disableBigData:!1,toPageIndex:G(o,p)},m=new M(o,h);window.app=m,window.viewData||m.config.disableBigData||z(m.meta.id,0,null,null,null,document.referrer,window.location.href),A(),m.renderScene(),$("#pre_page").click(function(){m.pageScroll.goToPrePage()}),$("#next_page").click(function(){m.pageScroll.goToNextPage()})}new I(f).addPageFn(S).addEleFn(k(f,e)).addEleFn(q).start(),g(f)})):void d()})})}function G(b,a){var c=0;return a?(b.list.forEach(function(f,d){f.id==a&&(c=d)}),c):c}H(2),H(3),H(15);var E=H(16);H(17).disableScreenElasticity(),H(18).disableWxFontSize(),window._DEBUG_=E.DEBUG,H(26);var D=H(27),T=H(28),R=H(20),B=H(38).isEqxHost,J=H(49).$getSceneMetaData,F=H(53).getPerfectSceneData;D.setUp();var L=H(23).isWeixin,Q=H(75).$getUserWxInfo,N=H(76),M=H(82),A=H(28).stopLoading,I=H(59),k=H(322).wxAdaptor,S=H(62).perfectPage,q=H(65).perfectComp,z=H(79).bigDataXBData,j=H(22);$(function(){K()})},function(b,a){},function(b,a,c){c(4),c(11),c(14)},function(b,a,c){c(5),c(6),c(7),c(8),c(9),c(10)},function(b,a){!function(c){c.forEach(function(d){d.hasOwnProperty("replaceWith")||Object.defineProperty(d,"replaceWith",{configurable:!0,enumerable:!0,writable:!0,value:function(){var g=Array.prototype.slice.call(arguments),f=document.createDocumentFragment();g.forEach(function(h){var i=h instanceof Node;f.appendChild(i?h:document.createTextNode(String(h)))}),this.parentNode.replaceChild(f,this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(b,a){!function(){Math.hypot=Math.hypot||function(){for(var d=0,c=arguments.length,f=0;f<c;f++){if(arguments[f]===1/0||arguments[f]===-(1/0)){return 1/0}d+=arguments[f]*arguments[f]}return Math.sqrt(d)}}()},function(b,a){!function(){"function"!=typeof Object.values&&!function(){Object.values=function(d){if(void 0===d||null===d){throw new TypeError("Cannot convert undefined or null to object")}var c=[];for(var f in d){d.hasOwnProperty(f)&&c.push(d[f])}return c}}(),"function"!=typeof Object.assign&&!function(){Object.assign=function(f){if(void 0===f||null===f){throw new TypeError("Cannot convert undefined or null to object")}for(var d=Object(f),h=1;h<arguments.length;h++){var c=arguments[h];if(void 0!==c&&null!==c){for(var g in c){c.hasOwnProperty(g)&&(d[g]=c[g])}}}return d}}()}()},function(b,a){!function(){Number.isInteger=Number.isInteger||function(c){return"number"==typeof c&&isFinite(c)&&Math.floor(c)===c},Number.isNaN=Number.isNaN||function(c){return"number"==typeof c&&isNaN(c)},Number.parseInt=parseInt,Number.parseFloat=parseFloat}()},function(b,a){!function(){String.prototype.includes||(String.prototype.includes=function(d,c){return"number"!=typeof c&&(c=0),!(c+d.length>this.length)&&this.indexOf(d,c)!==-1}),String.prototype.startsWith||(String.prototype.startsWith=function(d,c){return c=c||0,this.substr(c,d.length)===d}),String.prototype.endsWith||(String.prototype.endsWith=function(f,d){var g=this.toString();("number"!=typeof d||!isFinite(d)||Math.floor(d)!==d||d>g.length)&&(d=g.length),d-=f.length;var c=g.indexOf(f,d);return c!==-1&&c===d})}()},function(b,a){!function(){Array.isArray||(Array.isArray=function(c){return"[object Array]"===Object.prototype.toString.call(c)}),Array.prototype.includes||(Array.prototype.includes=function(g){var d=Object(this),j=parseInt(d.length)||0;if(0===j){return !1}var c,h=parseInt(arguments[1])||0;h>=0?c=h:(c=j+h,c<0&&(c=0));for(var f;c<j;){if(f=d[c],g===f||g!==g&&f!==f){return !0}c++}return !1}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(g){if(null==this){throw new TypeError("Array.prototype.findIndex called on null or undefined")}if("function"!=typeof g){throw new TypeError("predicate must be a function")}for(var d,j=Object(this),c=j.length>>>0,h=arguments[1],f=0;f<c;f++){if(d=j[f],g.call(h,d,f,j)){return f}}return -1},enumerable:!1,configurable:!1,writable:!1}),Array.prototype.find||(Array.prototype.find=function(g){if(null===this){throw new TypeError("Array.prototype.find called on null or undefined")}if("function"!=typeof g){throw new TypeError("predicate must be a function")}for(var d,j=Object(this),c=j.length>>>0,h=arguments[1],f=0;f<c;f++){if(d=j[f],g.call(h,d,f,j)){return d}}}),Array.from||(Array.from=function(){var f=Object.prototype.toString,d=function(e){return"function"==typeof e||"[object Function]"===f.call(e)},h=function(j){var i=Number(j);return isNaN(i)?0:0!==i&&isFinite(i)?(i>0?1:-1)*Math.floor(Math.abs(i)):i},c=Math.pow(2,53)-1,g=function(j){var i=h(j);return Math.min(Math.max(i,0),c)};return function(p){var k=this,o=Object(p);if(null==p){throw new TypeError("Array.from requires an array-like object - not null or undefined")}var j,w=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof w){if(!d(w)){throw new TypeError("Array.from: when provided, the second argument must be a function")}arguments.length>2&&(j=arguments[2])}for(var t,q=g(o.length),v=d(k)?Object(new k(q)):new Array(q),m=0;m<q;){t=o[m],w?v[m]="undefined"==typeof j?w(t,m):w.call(j,t,m):v[m]=t,m+=1}return v.length=q,v}}())}()},function(b,a,c){(function(d){!function(m){function t(){}function k(g,f){return function(){g.apply(f,arguments)}}function e(f){if("object"!=typeof this){throw new TypeError("Promises must be constructed via new")}if("function"!=typeof f){throw new TypeError("not a function")}this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],j(f,this)}function C(g,f){for(;3===g._state;){g=g._value}return 0===g._state?void g._deferreds.push(f):(g._handled=!0,void y(function(){var p=1===g._state?f.onFulfilled:f.onRejected;if(null===p){return void (1===g._state?A:z)(f.promise,g._value)}var h;try{h=p(g._value)}catch(l){return void z(f.promise,l)}A(f.promise,h)}))}function A(h,g){try{if(g===h){throw new TypeError("A promise cannot be resolved with itself.")}if(g&&("object"==typeof g||"function"==typeof g)){var l=g.then;if(g instanceof e){return h._state=3,h._value=g,void B(h)}if("function"==typeof l){return void j(k(l,g),h)}}h._state=1,h._value=g,B(h)}catch(f){z(h,f)}}function z(g,f){g._state=2,g._value=f,B(g)}function B(g){2===g._state&&0===g._deferreds.length&&setTimeout(function(){g._handled||x(g._value)},1);for(var f=0,h=g._deferreds.length;f<h;f++){C(g,g._deferreds[f])}g._deferreds=null}function q(g,f,h){this.onFulfilled="function"==typeof g?g:null,this.onRejected="function"==typeof f?f:null,this.promise=h}function j(h,g){var l=!1;try{h(function(i){l||(l=!0,A(g,i))},function(i){l||(l=!0,z(g,i))})}catch(f){if(l){return}l=!0,z(g,f)}}var v=setTimeout,y="function"==typeof d&&d||function(f){v(f,1)},x=function(f){console.warn("Possible Unhandled Promise Rejection:",f)},w=Array.isArray||function(f){return"[object Array]"===Object.prototype.toString.call(f)};e.prototype["catch"]=function(f){return this.then(null,f)},e.prototype.then=function(g,f){var h=new e(t);return C(this,new q(g,f,h)),h},e.all=function(){var f=Array.prototype.slice.call(1===arguments.length&&w(arguments[0])?arguments[0]:arguments);return new e(function(h,s){function g(o,n){try{if(n&&("object"==typeof n||"function"==typeof n)){var i=n.then;if("function"==typeof i){return void i.call(n,function(r){g(o,r)},s)}}f[o]=n,0===--p&&h(f)}catch(u){s(u)}}if(0===f.length){return h([])}for(var p=f.length,l=0;l<f.length;l++){g(l,f[l])}})},e.resolve=function(f){return f&&"object"==typeof f&&f.constructor===e?f:new e(function(g){g(f)})},e.reject=function(f){return new e(function(g,h){h(f)})},e.race=function(f){return new e(function(h,p){for(var g=0,l=f.length;g<l;g++){f[g].then(h,p)}})},e._setImmediateFn=function(f){y=f},e._setUnhandledRejectionFn=function(f){x=f},Promise?e=Promise:Promise=e,"undefined"!=typeof b&&b.exports?b.exports=e:m.Promise||(m.Promise=e),e.prototype["finally"]=function(g){var f=this.constructor;return this.then(function(h){return f.resolve(g()).then(function(){return h})},function(h){return f.resolve(g()).then(function(){throw h})})}}(this)}).call(a,c(12).setImmediate)},function(b,a,c){(function(k,g){function l(n,i){this._id=n,this._clearFn=i}var j=c(13).nextTick,h=Function.prototype.apply,d=Array.prototype.slice,m={},f=0;a.setTimeout=function(){return new l(h.call(setTimeout,window,arguments),clearTimeout)},a.setInterval=function(){return new l(h.call(setInterval,window,arguments),clearInterval)},a.clearTimeout=a.clearInterval=function(i){i.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(window,this._id)},a.enroll=function(n,i){clearTimeout(n._idleTimeoutId),n._idleTimeout=i},a.unenroll=function(i){clearTimeout(i._idleTimeoutId),i._idleTimeout=-1},a._unrefActive=a.active=function(n){clearTimeout(n._idleTimeoutId);var i=n._idleTimeout;i>=0&&(n._idleTimeoutId=setTimeout(function(){n._onTimeout&&n._onTimeout()},i))},a.setImmediate="function"==typeof k?k:function(p){var q=f++,o=!(arguments.length<2)&&d.call(arguments,1);return m[q]=!0,j(function(){m[q]&&(o?p.apply(null,o):p.call(null),a.clearImmediate(q))}),q},a.clearImmediate="function"==typeof g?g:function(i){delete m[i]}}).call(a,c(12).setImmediate,c(12).clearImmediate)},function(A,G){function m(){throw new Error("setTimeout has not been defined")}function w(){throw new Error("clearTimeout has not been defined")}function k(c){if(q===setTimeout){return setTimeout(c,0)}if((q===m||!q)&&setTimeout){return q=setTimeout,setTimeout(c,0)}try{return q(c,0)}catch(a){try{return q.call(null,c,0)}catch(a){return q.call(this,c,0)}}}function b(c){if(j===clearTimeout){return clearTimeout(c)}if((j===w||!j)&&clearTimeout){return j=clearTimeout,clearTimeout(c)}try{return j(c)}catch(a){try{return j.call(null,c)}catch(a){return j.call(this,c)}}}function H(){y&&B&&(y=!1,B.length?z=B.concat(z):E=-1,z.length&&D())}function D(){if(!y){var c=k(H);y=!0;for(var a=z.length;a;){for(B=z,z=[];++E<a;){B&&B[E].run()}E=-1,a=z.length}B=null,y=!1,b(c)}}function C(c,a){this.fun=c,this.array=a}function F(){}var q,j,x=A.exports={};!function(){try{q="function"==typeof setTimeout?setTimeout:m}catch(a){q=m}try{j="function"==typeof clearTimeout?clearTimeout:w}catch(a){j=w}}();var B,z=[],y=!1,E=-1;x.nextTick=function(c){var a=new Array(arguments.length-1);if(arguments.length>1){for(var d=1;d<arguments.length;d++){a[d-1]=arguments[d]}}z.push(new C(c,a)),1!==z.length||y||k(D)},C.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={},x.on=F,x.addListener=F,x.once=F,x.off=F,x.removeListener=F,x.removeAllListeners=F,x.emit=F,x.prependListener=F,x.prependOnceListener=F,x.listeners=function(a){return[]},x.binding=function(a){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(a){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},function(b,a){!function(j){function p(i){var c="",o=!0;return i.forEach(function(r){var n=encodeURIComponent(r.name),s=encodeURIComponent(r.value);o||(c+="&"),c+=n+"="+s,o=!1}),c.replace(/%20/g,"+")}function g(s,r){var v=s.split("&");r&&v[0].indexOf("=")===-1&&(v[0]="="+v[0]);var c=[];v.forEach(function(w){if(0!==w.length){var i=w.indexOf("=");if(i!==-1){var y=w.substring(0,i),x=w.substring(i+1)}else{y=w,x=""}y=y.replace(/\+/g," "),x=x.replace(/\+/g," "),c.push({name:y,value:x})}});var u=[];return c.forEach(function(i){u.push({name:decodeURIComponent(i.name),value:decodeURIComponent(i.value)})}),u}function h(i){if(q){return new l(i)}var c=document.createElement("a");return c.href=i,c}function f(o){var c=this;this._list=[],void 0!==o&&null!==o||(o=""),Object(o)===o&&o instanceof f||(o=String(o)),"string"==typeof o&&"?"===o.substring(0,1)&&(o=o.substring(1)),"string"==typeof o?this._list=g(o):this._list=o._list.slice(),this._url_object=null,this._setList=function(i){n||(c._list=i)};var n=!1;this._update_steps=function(){n||(n=!0,c._url_object&&("about:"===c._url_object.protocol&&c._url_object.pathname.indexOf("?")!==-1&&(c._url_object.pathname=c._url_object.pathname.split("?")[0]),c._url_object.search=p(c._list),n=!1))}}function d(n,s){function x(){var c=e.href.replace(/#$|\?$|\?(?=#)/g,"");e.href!==c&&(e.href=c)}function i(){w._setList(e.search?g(e.search.substring(1)):[]),w._update_steps()}if(!(this instanceof j.URL)){throw new TypeError("Failed to construct 'URL': Please use the 'new' operator.")}s&&(n=function(){if(q){return new l(n,s).href}var r;if(document.implementation&&document.implementation.createHTMLDocument?r=document.implementation.createHTMLDocument(""):document.implementation&&document.implementation.createDocument?(r=document.implementation.createElement("http://www.w3.org/1999/xhtml","html",null),r.documentElement.appendChild(r.createElement("head")),r.documentElement.appendChild(r.createElement("body"))):window.ActiveXObject&&(r=new window.ActiveXObject("htmlfile"),r.write("<head></head><body></body>"),r.close()),!r){throw Error("base not supported")}var t=r.createElement("base");t.href=s,r.getElementsByTagName("head")[0].appendChild(t);var c=r.createElement("a");return c.href=n,c.href}());var e=h(n||""),v=function(){if(!("defineProperties" in Object)){return !1}try{var r={};return Object.defineProperties(r,{prop:{get:function(){return !0}}}),r.prop}catch(c){return !1}}(),o=v?this:document.createElement("a"),w=new f(e.search?e.search.substring(1):null);return w._url_object=o,Object.defineProperties(o,{href:{get:function(){return e.href},set:function(c){e.href=c,x(),i()},enumerable:!0,configurable:!0},origin:{get:function(){return"origin" in e?e.origin:this.protocol+"//"+this.host},enumerable:!0,configurable:!0},protocol:{get:function(){return e.protocol},set:function(c){e.protocol=c},enumerable:!0,configurable:!0},username:{get:function(){return e.username},set:function(c){e.username=c},enumerable:!0,configurable:!0},password:{get:function(){return e.password},set:function(c){e.password=c},enumerable:!0,configurable:!0},host:{get:function(){var c={"http:":/:80$/,"https:":/:443$/,"ftp:":/:21$/}[e.protocol];return c?e.host.replace(c,""):e.host},set:function(c){e.host=c},enumerable:!0,configurable:!0},hostname:{get:function(){return e.hostname},set:function(c){e.hostname=c},enumerable:!0,configurable:!0},port:{get:function(){return e.port},set:function(c){e.port=c},enumerable:!0,configurable:!0},pathname:{get:function(){return"/"!==e.pathname.charAt(0)?"/"+e.pathname:e.pathname},set:function(c){e.pathname=c},enumerable:!0,configurable:!0},search:{get:function(){return e.search},set:function(c){e.search!==c&&(e.search=c,x(),i())},enumerable:!0,configurable:!0},searchParams:{get:function(){return w},enumerable:!0,configurable:!0},hash:{get:function(){return e.hash},set:function(c){e.hash=c,x()},enumerable:!0,configurable:!0},toString:{value:function(){return e.toString()},enumerable:!1,configurable:!0},valueOf:{value:function(){return e.valueOf()},enumerable:!1,configurable:!0}}),o}var q,l=j.URL;try{if(l){if(q=new j.URL("http://example.com"),"searchParams" in q){return}"href" in q||(q=void 0)}}catch(k){}if(Object.defineProperties(f.prototype,{append:{value:function(i,c){this._list.push({name:i,value:c}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},"delete":{value:function(i){for(var c=0;c<this._list.length;){this._list[c].name===i?this._list.splice(c,1):++c}this._update_steps()},writable:!0,enumerable:!0,configurable:!0},get:{value:function(i){for(var c=0;c<this._list.length;++c){if(this._list[c].name===i){return this._list[c].value}}return null},writable:!0,enumerable:!0,configurable:!0},getAll:{value:function(i){for(var c=[],o=0;o<this._list.length;++o){this._list[o].name===i&&c.push(this._list[o].value)}return c},writable:!0,enumerable:!0,configurable:!0},has:{value:function(i){for(var c=0;c<this._list.length;++c){if(this._list[c].name===i){return !0}}return !1},writable:!0,enumerable:!0,configurable:!0},set:{value:function(r,o){for(var s=!1,c=0;c<this._list.length;){this._list[c].name===r?s?this._list.splice(c,1):(this._list[c].value=o,s=!0,++c):++c}s||this._list.push({name:r,value:o}),this._update_steps()},writable:!0,enumerable:!0,configurable:!0},entries:{value:function(){var i=this,c=0;return{next:function(){if(c>=i._list.length){return{done:!0,value:void 0}}var e=i._list[c++];return{done:!1,value:[e.name,e.value]}}}},writable:!0,enumerable:!0,configurable:!0},keys:{value:function(){var i=this,c=0;return{next:function(){if(c>=i._list.length){return{done:!0,value:void 0}}var e=i._list[c++];return{done:!1,value:e.name}}}},writable:!0,enumerable:!0,configurable:!0},values:{value:function(){var i=this,c=0;return{next:function(){if(c>=i._list.length){return{done:!0,value:void 0}}var e=i._list[c++];return{done:!1,value:e.value}}}},writable:!0,enumerable:!0,configurable:!0},forEach:{value:function(i){var c=arguments.length>1?arguments[1]:void 0;this._list.forEach(function(o,e){i.call(c,o.name,o.value)})},writable:!0,enumerable:!0,configurable:!0},toString:{value:function(){return p(this._list)},writable:!0,enumerable:!1,configurable:!0}}),"Symbol" in j&&"iterator" in j.Symbol&&Object.defineProperty(f.prototype,j.Symbol.iterator,{value:f.prototype.entries,writable:!0,enumerable:!0,configurable:!0}),l){for(var m in l){l.hasOwnProperty(m)&&"function"==typeof l[m]&&(d[m]=l[m])}}j.URL=d,j.URLSearchParams=f}(window)},function(b,a){},function(b,a){b.exports={publicHost:"//as.eqh5.com/",HOST:"//www.eqxiu.com/",EQX:"//www.eqxiu.com/",WAP_HOST:"//wap.eqxiu.com/",SERVER_0:"//service.eqxiu.com/",SERVER_0_VIP:"//vservice.eqxiu.com/",SERVER_1:"//ketang.gzxinbibo.com/",SERVER_2:"//ketang.gzxinbibo.com/",SERVER_MAX:"//max.eqxiu.com",QUERY_SERVER:"//search.eqxiu.com/",WAP_SERVER:"//ie.eqxiu.com/",BIG_DATA:"//ketang.gzxinbibo.com/",TRACK:"//da.eqxiu.com/",PAY_HOST:"//www.eqxiu.com/",MALL_HOST:"//store.eqxiu.com/",STORE:"//store.eqxiu.com/",YQC:"//as.eqh5.cn/",MALL_BUY_ID:"10002",MALL_PIC_ID:"889874",MALL_MUSIC_ID:"889875",MALL_SOUND_ID:"889877",MALL_FONT_ID:"889873",SOURCE:"//as.eqh5.com/c/",BIND_USER_SOURCE:"//as.eqxiu.com/c/",WX_APP_ID:"wxb2f228dd2a965317",DOMAIN:"eqxiu",EQX_TPL_DOMAIN:"h5.eqxiu.com",EQX_FAN_DOMAIN:"scene.eqxiu.com",EQX_AD_DOMAIN:"scene.eqh5.cn",EQX_VIP_DOMAIN:"vip.eqxiu.cn",EQX_COMPANY_DOMAIN:"scene.eqxiu.cn",EQX_TG:"tg.eqxiu.com",FILE:"//ketang.gzxinbibo.com/static/yqx/img/",BIND_USER_FILE:"//ketang.gzxinbibo.com/static/yqx/img/",FREE_USER_FILE:"//ketang.gzxinbibo.com/static/yqx/img/",VIP_USER_FILE:"//ketang.gzxinbibo.com/",FONT:"//font.eqh5.com/",VIDEO:"//res4.eqh5.com/",WAP_TPL_CENTER:"http://ie.eqxiu.com/act/12.html"}},function(b,a){function c(){var d=$(window);d.on("scroll.elasticity",function(f){f.preventDefault()}).on("touchmove.elasticity",function(f){f.preventDefault()}),d.delegate("img","mousemove",function(f){f.preventDefault()})}b.exports={disableScreenElasticity:c}},function(N,B,G){function J(b,a,c){console.log("e--+++++"+JSON.stringify(b));window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+b+"&redirect_uri="+encodeURIComponent(a+"eqs/rel-account/wechat-mp?appId="+b)+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(c)+"#wechat_redirect"}function F(b){if(document.title=b,/ip(hone|od|ad)/i.test(navigator.userAgent)){var a=document.createElement("iframe");a.src="http://lib.eqh5.com/images/favicon.ico",a.style.display="none",a.onload=function(){setTimeout(function(){a.remove()},9)},document.body.appendChild(a)}}function D(){function a(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0}),WeixinJSBridge.on("menu:setfont",function(){WeixinJSBridge.invoke("setFontSizeCallback",{fontSize:0})})}H()&&j()&&("object"==("undefined"==typeof WeixinJSBridge?"undefined":A(WeixinJSBridge))&&"function"==typeof WeixinJSBridge.invoke?a():document.addEventListener?document.addEventListener("WeixinJSBridgeReady",a,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",a),document.attachEvent("onWeixinJSBridgeReady",a)))}function C(){var b=L(window.location.href),a="uc/kanjia/ticket?time="+Date.now(),c=[/eqxiu\.com/,/eqh5\.cn/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/];return c.some(function(d){return d.test(b)})||(a+=/eqxiu\.cn/.test(b)?"&domain=eqxiu.cn":"&domain="+b),console.log("getWxTicket",a),I({type:"GET",url:E.SERVER_1+a})}function R(){return q?q:q=Promise.all([O(),C(),M()]).then(function(c){var b=c[1].obj,d=b.appId,a=b.ticket;return new Promise(function(m,h){if(d&&a&&a!==-1){var n=location.href.split("#")[0],l="bieber",i=Date.now(),f="jsapi_ticket="+a+"&noncestr="+l+"&timestamp="+i+"&url="+n,p=new jsSHA("SHA-1","TEXT");p.update(f);var g=p.getHash("HEX");console.log("wx config appId "+d+", sign "+f+", hash "+g),wx.config({debug:!1,appId:d,timestamp:i,nonceStr:l,signature:g,jsApiList:["checkJsApi","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareWeibo","chooseImage","previewImage","getLocalImgData","uploadImage","downloadImage","startRecord","stopRecord","onVoiceRecordEnd","playVoice","pauseVoice","stopVoice","onVoicePlayEnd","uploadVoice","downloadVoice"]}),wx.ready(function(){m()})}else{h()}})})}function P(f){var b=f.title,h=f.desc,a=f.link,g=f.imgUrl,d=f.success,c=f.cancel;return R().then(function(){wx.onMenuShareTimeline({title:b,link:a,imgUrl:g,success:function(){k(d)&&d()},cancel:function(){k(c)&&c()}}),wx.onMenuShareAppMessage({title:b,desc:h,link:a,imgUrl:g,success:function(){k(d)&&d()},cancel:function(){k(c)&&c()}}),wx.onMenuShareQQ({title:b,desc:h,link:a,imgUrl:g,success:function(){k(d)&&d()},cancel:function(){k(c)&&c()}}),wx.onMenuShareWeibo({title:b,desc:h,link:a,imgUrl:g,success:function(){k(d)&&d()},cancel:function(){k(c)&&c()}}),wx.onMenuShareQZone({title:b,desc:h,link:a,imgUrl:g,success:function(){k(d)&&d()},cancel:function(){k(c)&&c()}})})}var A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},I=G(19).ajax,E=G(20),K=G(21),O=K.$loadJWeixin,M=K.$loadSHA,L=G(22).getUrlHost,z=G(23),H=z.isWeixin,j=z.isAndroid,Q=G(25),k=Q.isFunction,q=null;N.exports={register:J,disableWxFontSize:D,setDocumentTitle:F,initWx:R,setWxShareInfo:P}},function(c,b){function f(g){console.log("ne----------"+JSON.stringify(g));return Promise.resolve(g)}function a(h){console.log("ie----------"+JSON.stringify(h));if(h.url&&h.url.indexOf("code=")>0){var i=h.url.split("=");var g=i[1].split("&");h.url=window.scene.jsdata}return new Promise(function(e,j){$.ajax($.extend({},h,{success:function(k){k&&k.success===!1?j(k):e(k)},error:function(){for(var l,k=arguments.length,n=Array(k),m=0;m<k;m++){n[m]=arguments[m]}(l=console).error.apply(l,[h].concat(n)),j.apply(void 0,n)}}))})}function d(g){console.log("oe----------"+JSON.stringify(g));if(g.url&&g.url.indexOf("msg/list")>0){g.url=""}return new Promise(function(e,h){$.ajax($.extend({xhrFields:{withCredentials:!0},crossDomain:!0},g,{success:function(i){i&&i.success===!1?h(i):e(i)},error:function(){for(var k,j=arguments.length,m=Array(j),l=0;l<j;l++){m[l]=arguments[l]}(k=console).error.apply(k,[g].concat(m)),h.apply(void 0,m)}}))})}c.exports={ajax:d,$ajax:a,fajax:f}},function(d,b,g){function a(i){console.log("ie 512----------"+JSON.stringify(i));var h=window.location.protocol;return"file:"==h&&(h="http:"),i&&i.startsWith("//")?h+i:i}var f=g(16),c={SERVER_0:f.SERVER_0,SERVER_0_VIP:f.SERVER_0_VIP,SERVER_1:f.SERVER_1,SERVER_2:f.SERVER_2,WAP_SERVER:f.WAP_SERVER,SERVER_MAX:f.SERVER_MAX,QUERY_SERVER:f.QUERY_SERVER,FONT:f.FONT,HOST:f.HOST,EQX:f.EQX,WAP_HOST:f.WAP_HOST,PAY_HOST:f.PAY_HOST,MALL_HOST:f.MALL_HOST,SOURCE:f.SOURCE,BIND_USER_SOURCE:f.BIND_USER_SOURCE,TRACK:f.TRACK,BIG_DATA:f.BIG_DATA,STORE:f.STORE,YQC:f.YQC,BIND_USER_FILE:f.BIND_USER_FILE,FREE_USER_FILE:f.FREE_USER_FILE,VIP_USER_FILE:f.VIP_USER_FILE,FILE:f.FILE,DOMAIN:f.DOMAIN,EQX_FAN_DOMAIN:f.EQX_FAN_DOMAIN,EQX_AD_DOMAIN:f.EQX_AD_DOMAIN,EQX_VIP_DOMAIN:f.EQX_VIP_DOMAIN,EQX_COMPANY_DOMAIN:f.EQX_COMPANY_DOMAIN,EQX_TG:f.EQX_TG,MALL_BUY_ID:f.MALL_BUY_ID,MALL_PIC_ID:f.MALL_PIC_ID,MALL_MUSIC_ID:f.MALL_MUSIC_ID,MALL_SOUND_ID:f.MALL_SOUND_ID,MALL_FONT_ID:f.MALL_FONT_ID,VIDEO:f.VIDEO,WAP_TPL_CENTER:f.WAP_TPL_CENTER};Object.keys(c).forEach(function(i){var h=c[i];Array.isArray(h)?h.forEach(function(j,k){"string"==typeof j&&(h[k]=a(j))}):c[i]=a(h)}),d.exports=c},function(L,z,E){function H(c){console.log("ie 522----------"+JSON.stringify(c));var b=c.name,f=c.src,a=O[b];if(a){return Promise.resolve(a)}var d=j({url:q(f),dataType:"script"}).then(function(){for(var h=arguments.length,l=Array(h),g=0;g<h;g++){l[g]=arguments[g]}return O[b]=l,l});return O[b]=d,d}function D(){return H({name:"qrcode",src:F.QRCode})}function B(){return H({name:"sha",src:F.SHA})}function A(){return k?k:k=new Promise(function(b,a){window.qqMapCallback=function(){b()},H({name:"qqmap",src:F.QQMap})["catch"](a)})}function P(){return H({name:"chart",src:F.Chart})}function N(){return H({name:"threecanvas",src:F.threecanvas})}function w(){return H({name:"flux",src:F.Flux})}function G(){return H({name:"",src:F.sliders})}function C(){return H({name:"jweixin",src:F.JWeixin})}function I(){return H({name:"typed",src:F.Typed})}function M(){return H({name:"mlink",src:F.MLink})}function K(){return H({name:"parallax",src:F.Parallax})}function J(){return H({name:"canvg",src:F.canvg})}var q=E(22).addProtocol,F=E(24),j=E(19).$ajax,O={},k=null;L.exports={$loader:H,$loadQRCode:D,$loadSHA:B,$loadQQMap:A,$loadChart:P,$loadFlux:w,$loadJWeixin:C,$loadTyped:I,$loadThreeCanvas:N,$loadSliders:G,$loadParallax:K,$canvas:J,$loadMLink:M}},function(I,q,B){function E(a){console.log("oe 576----------"+JSON.stringify(a));return a.startsWith("//")&&(a=location.protocol+a),new window.URL(a)}function A(c){var a=location.href,d=w("toPage",a);d?d!==""+c&&(a=a.replace(d,c)):a+=(/\?/.test(a)?"&":"?")+"toPage="+c,window.history.replaceState({title:$("title").html(),url:a},$("title").html(),a)}function x(c,a){b()?(A(a),location.href=c):window.open(c,"_blank")}function w(c){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href;return E(a).searchParams.get(c)}function L(c){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,d=E(a);return d.searchParams["delete"](c),d.href}function K(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,d=E(a);return c.forEach(function(f){d.searchParams["delete"](f)}),d.href}function k(c,a){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.href,d=E(f);return d.searchParams.set(c,a),d.href}function D(c){var a=window.location.href;history.replaceState({},a,c)}function z(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;return E(a).host}function F(){for(var l=arguments.length,u=Array(l),g=0;g<l;g++){u[g]=arguments[g]}var h=u.length;if(0===h){throw new Error("resolveUrl requires at least one argument; got none.")}var f=document.createElement("base");if(f.href=u[0],1===h){return f.href}var d=document.getElementsByTagName("head")[0];d.insertBefore(f,d.firstChild);for(var v,p=document.createElement("a"),m=1;m<h;m++){p.href=u[m],v=p.href,f.href=v}return d.removeChild(f),v}function J(c){var a=location.protocol;return"https:"!=a&&(a="http:"),/^\w{2,}:\/\//.test(c)||(c="//"+c),c.replace(/^\/\//,a+"//")}function H(a){return J(a).replace(/^https:/,"http:")}function G(a){return J(a).replace(/^http:/,"https:")}function j(){var c=H(C.EQX),a=B(23).mobilecheck;return c=a()?"http://service.eqxiu.com/m/special/1023.html":"http://store.eqxiu.com/cats-2.html"}var C=B(20),b=B(23).mobilecheck;I.exports={parseUrl:E,getUrlParam:w,removeUrlParam:L,removeUrlParams:K,addUrlParam:k,replaceLocationHref:D,getUrlHost:z,resolveUrl:F,setUrlHistory:A,openUrl:x,addProtocol:J,url2http:H,url2https:G,redirectUrl:j}},function(q,y,g){function k(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Mobi/i.test(navigator.userAgent)||window.screen.width<500}function f(){return window.top===window&&/MicroMessenger/i.test(navigator.userAgent)}function b(){return k()&&z()}function z(){return/Android/i.test(navigator.userAgent)||/Linux/i.test(navigator.appVersion)}function w(){return/ipad|android|android 3.0|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent)}function v(){return/iPhone/i.test(navigator.userAgent)}function x(){return !(k()||w()&&window===window.top)}function j(){var a=g(22).getUrlParam;return !!a("appclient")||!!window.viewData}function d(){return/ipad|iphone/i.test(navigator.userAgent)}function m(){return/msie|applewebkit.+safari/i.test(navigator.userAgent)}q.exports={mobilecheck:k,isMobile:k,isWeixin:f,isAndroidPhone:b,isAndroid:z,tabletCheck:w,iphoneCheck:v,isPc:x,isApp:j,isIOS:d,isSafari:m}},function(b,a){b.exports={Parallax:"//lib.eqh5.com/parallax/1.0.2/parallax.min.js",JWeixin:"//res.wx.qq.com/open/js/jweixin-1.2.0.js",QQMap:"//map.qq.com/api/js?v=2.exp&callback=qqMapCallback",SHA:"//lib.eqh5.com/jsSHA/2.0.2/sha1.js",Chart:"//lib.eqh5.com/Chart.js/1.0.2/Chart.min.js",sliders:"//lib.eqh5.com/slidesjs/3.0.3/jquery.slides.min.js",QRCode:"//lib.eqh5.com/@eqxiu/qrcode/1.1.1/qrcode.min.js",Flux:"//lib.eqh5.com/@eqxiu/flux/1.0.2/flux.min.js",Typed:"//lib.eqh5.com/@eqxiu/typed/1.1.4/typed.min.js",threecanvas:"//lib.eqh5.com/@eqxiu/threecanvas/1.1.0/threecanvas.js",canvg:"//lib.eqh5.com/canvg/0.0.1/canvg.min.js",MLink:"https://static.mlinks.cc/scripts/dist/mlink.min.js",datePicker:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.js",datePickerCss:"//lib.eqh5.com/bootstrap-daterangepicker/2.1.25/daterangepicker.css",moment:"//lib.eqh5.com/moment.js/2.15.2/moment.min.js",imgJcropJs:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.js",imgJcropCss:"//lib.eqh5.com/jquery-jcrop/0.9.12/jquery.Jcrop.min.css",plupload:"//lib.eqh5.com/plupload/2.1.8/plupload.full.min.js",qiniu:"//lib.eqh5.com/qiniu-js-sdk/1.0.14-beta/qiniu.min.js",html2canvas:"//lib.eqh5.com/html2canvas/0.0.8/html2canvas.min.js"}},function(c,b){function d(f){return f&&"function"==typeof f}function a(){}c.exports={isFunction:d,noop:a}},function(b,a){},function(b,a){function c(){$.ajaxSetup({cache:!0}),$.support.cors=!0}b.exports={setUp:function(){c()}}},function(j,q,f){function h(c){var a=$(document.body),i=$("html");m()?window.top===window?(a.prepend(k.div()),$(".phone_panel").append(k.pcCtrlBtn()),"1"==c.isTemplate&&k.addSample(c.id),a.addClass("pc"),$("title").text(c.name+" | H5微场景制作-易企秀(www.eqxiu.com)"),v(c)):location.href.indexOf("exemplarReview")>=0?(a.prepend(p.phoneDiv()),a.append(p.ctrlBtnDiv())):location.href.indexOf("control")>=0?(a.prepend(p.phoneDiv()),a.append(p.ctrlBtnDiv2())):(i.addClass("iframe-html"),a.prepend(p.div()),a.addClass("pc"),$(".scene_title").text(c.name),$("title").text(c.name)):(a.prepend(g.div()),$("title").text(c.name)),$(".main").show()}function d(){$(".loading").show()}function b(){$(".loading").hide()}f(29),f(30),f(31),f(32);var v=f(33).addElementsToPc,m=f(23).isPc,k=f(44),p=f(47),g=f(48);j.exports={setUp:h,stopLoading:b,startLoading:d}},function(b,a){},function(b,a){},function(b,a){},function(b,a){},function(k,w,g){function j(l){var c=l.name,o=l.description,a=l.cover;$(".scene_title").text(l.name),x({name:c,description:o,cover:a}),f(),b(l)}function f(){v()["catch"](function(){return g(43)}).then(function(a){return $("body").css("backgroundImage","url("+a+")")})}function b(a){h().then(function(){var c=q(d(a));c.searchParams.set("eqrcode",1),console.info("qrCodeUrl:",c.href),$("#downApp").click(function(){$("#downAppView").css("display","block")}),$("#close").click(function(){$("#downAppView").css("display","none")}),$("#downCode").qrcode({render:"canvas",width:200,height:200,text:"http://a.app.qq.com/o/simple.jsp?pkgname=cn.knet.eqxiu"}),$("#codeImg").qrcode({render:"canvas",width:200,height:200,text:"http://ketang.gzxinbibo.com/uc/weixin/demo/id/100"})})}function x(l){var c=l.name,r=l.description,a=l.cover;r=r||"";var p=window.location.href.split("?")[0];$("#view_share .share-qq").attr("href","\n            http://connect.qq.com/widget/shareqq/index.html?url=\n            "+encodeURIComponent(p)+"?from=sqq&title="+c+"\n            &site=易企秀http://eqxiu.com&summary="+r+"\n            &pics="+(m.FILE+a)+"&desc="+r+"&appkey=3508809852\n        "),$("#view_share .share-qqZone").attr("href","\n            http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=\n            "+encodeURIComponent(p)+"?from=qzone&title="+c+"\n            &site=易企秀http://eqxiu.com&summary="+r+"\n            &pics="+(m.FILE+a)+"&desc="+r+"&appkey=3508809852\n        "),$("#view_share .share-weibo").attr("href","\n            http://service.weibo.com/share/share.php?url=\n            "+encodeURIComponent(p)+"?from=sina_weibo\n            &title="+encodeURIComponent("#易企秀分享# 这是我用@易企秀 做的【"+c+"】，赶紧打开看看吧！")+"\n            &pic="+(m.FILE+a)+"&appkey=3508809852\n        ")}g(34),g(35),g(36);var q=g(22).parseUrl,m=g(20),v=g(37).$getPcBgImg,h=g(21).$loadQRCode,d=g(38).getShareUrl;k.exports={addElementsToPc:j}},function(b,a){},function(b,a){},function(b,a){},function(k,w,g){function j(a){return function(c){return c.includes("http")||(c=h.FILE+c),v({type:"GET",url:c,dataType:a})}}function f(a){return v({type:"POST",url:h.SERVER_0+"eqs/material/uptokens?type="+a,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}})}function b(c,a){return v({type:"POST",url:"//up.qiniu.com/putb64/-1",contentType:"application/octet-stream",beforeSend:function(e){e.setRequestHeader("Authorization","UpToken "+c)},data:a})}function x(c,a){return v({type:"POST",url:h.SERVER_1+"eqs/board/drawing/save?compKey="+c,data:{data:JSON.stringify(a)}})}function q(a){return v({type:"GET",dataType:"text"})}function m(){return v({type:"GET",url:h.SERVER_2+"eqs/image/scene/preview"}).then(function(a){return a?a:Promise.reject("No Background Image")})}var v=g(19).$ajax,h=g(20),d=j("xml");k.exports={$getSvg:d,$getSymbol:q,$getPcBgImg:m,$getUploadToken:f,$uploadBase64:b,$saveCompInfoByCompKey:x}},function(A,G,m){function w(u){var I=u.code,c=window.location.href,o=window.location.host,a=x.EQX_FAN_DOMAIN,h=x.EQX_AD_DOMAIN,v=x.EQX_VIP_DOMAIN,s=x.EQX_COMPANY_DOMAIN;try{return k(o)?(console.info("第三方域名"),c):H(o)?(console.info("MAX 域名"),c):D(u)?(console.info("流量域名"),j(u,h)):C(u)?(console.info("CDN 加速"),E(v+"/s/"+I)):F(u)?(console.info("企业账号"),j(u,s)):(console.info("普通泛域名"),j(u,a))}catch(p){return console.error(p),c}}function k(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return !b(a)}function b(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:location.host;return["eqshow.cn","yqxiu.cn","eqxiu.cc","eqxiu.com","eqxiu.cn","eqh5.cn"].some(function(c){return a.endsWith("."+c)})||/localhost/.test(a)}function H(a){return b(a)&&/^max\./.test(a)}function D(c){var a=c.ext||{};return a.yqc&&a.yqc.ad}function C(c){var a=x.EQX_VIP_DOMAIN;return 1==c.staticStatus&&location.host.includes(a)}function F(d){var c=d.userType,f=d.memberType,a=d.expiryTime;return(c==y["企业账号"]||c==y["企业子账号"])&&f&&a&&B(a)}function q(){return location.host.includes(x.EQX_TG)}function j(d,c){var g=d.code,a=d.userId||d.createUser;if(!a){throw new Error("No User Id")}var f=z(a);return E(f+"."+c+"/s/"+g)}var x=m(20),B=m(39).isNotExpired,z=m(40).hashCode,y=m(41).USER_ROLE,E=m(22).addProtocol;A.exports={getShareUrl:w,isEqxAdScene:D,isVipScene:C,isEqxHost:b,isThirdPartyHost:k,isTgScene:q}},function(module,exports){function dateFormat(x,y){var z={M:x.getMonth()+1,d:x.getDate(),h:x.getHours(),m:x.getMinutes(),s:x.getSeconds()};return y=y.replace(/(M+|d+|h+|m+|s+)/g,function(v){return((v.length>1?"0":"")+eval("z."+v.slice(-1))).slice(-2)}),y.replace(/(y+)/g,function(e){return x.getFullYear().toString().slice(-e.length)})}function isNotExpired(e){return new Date(e).getTime()>Date.now()}function isExpired(e){return new Date(e).getTime()<Date.now()}module.exports={dateFormat:dateFormat,isExpired:isExpired,isNotExpired:isNotExpired}},function(c,b){function d(h){var g=0;if(0===h.length){return g}for(var j=0;j<h.length;j++){var f=h.charCodeAt(j);g=(g<<5)-g+f,g&=g}return Math.abs(g)}function a(h,g){var j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;/\$\{([^}]*)}/.test(h)&&console.error("DO NOT USE ${}",h);for(var f=h;j&&/#\{([^}]*)}/.test(f);){f=f.replace(/#\{([^}]*)}/g,function(l,m){var k=g[m];return void 0!==k?k:l}),j--}return f}c.exports={hashCode:d,parse:a}},function(c,b,f){var a=f(42).make,d=a({1:"普通账号",2:"企业账号",21:"企业子账号",5:"公共账号",51:"公共子账号",3:"高级用户",4:"秀客",99:"运营人员"});c.exports={USER_ROLE:d}},function(b,a){function c(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f={};for(var h in g){if(g.hasOwnProperty(h)){var d=g[h];f[f[h]=d]=h}}return f}b.exports={make:c}},function(b,a,c){b.exports=c.p+"images/spring-5632ca.jpg"},function(j,q,f){function h(){var c=m.nr(),a=m.ppitest(),i=b();return"\n"+a+"\n"+i+'\n<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        '+c+'\n        <div class="bottom"></div>\n    </div>\n</div>'}function d(){return""}function b(){var a=f(46);return'\n<div id="code">\n    <div style="margin-bottom:15px;">\n        <div class="app" style="position:relative;">\n            \n            <div id="downAppView" class="zoomIn-change">\n                <h3><a id="close" style="cursor:pointer">X</a>易企秀APP</h3>\n                <div id="downCode"></div>\n                <p style="padding-bottom:20px;padding-top:10px;">一键生成H5，随时随地查数据</p>\n            </div>\n        </div>\n        扫一扫，分享给朋友！\n    </div>\n    <div style="text-align: center;background:#fff;padding: 10px;" id="codeImg"/>\n    <div id="view_share" class="bdsharebuttonbox">\n        \n    </div>\n    \n</div>\n'}function v(a){$("#view_reg").after('<div id="sample_btn">使用该模板</div>'),$("body").on("click","#sample_btn",function(){window.open(g+"cats-2.html?useTplId="+a)})}var m=f(45),k=f(20),p=k.EQX,g=k.STORE;j.exports={div:h,pcCtrlBtn:d,addSample:v}},function(f,b,h){function a(){return'<div id="ppitest" style="width:1in;visible:hidden;padding:0px"></div>'}function g(){var i=$(".loading").remove().show()[0].outerHTML;return'\n<div class="nr" id="nr">\n    '+i+"\n</div>\n"}function d(j,i){j=j||"场景名称";var k=i.startsWith("http")?i:c.FILE+i;return'\n<div id="verifyCode" class="verifyCode">\n    <div class="container">\n        <div class="scene-cover">\n            <!-- 3、场景封面 -->\n            <img class="cover-img" src="'+k+'">\n        </div>\n        <!-- 4、场景名称 -->\n        <div class="scene-name">'+j+'</div>\n        <div class="confirm-password">\n            <div class="verify-label">请输入访问密码</div>\n            <div class="verify-tips" id="verifyTip">\n                <ul class="password-indicator">\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                    <li></li>\n                </ul>\n            </div>\n            <div class="password-numbers">\n                <span>1</span>\n                <span>2</span>\n                <span>3</span>\n                <span>4</span>\n                <span>5</span>\n                <span>6</span>\n                <span>7</span>\n                <span>8</span>\n                <span>9</span>\n                <span>0</span>\n            </div>\n            <div class="password-operation">\n                <span class="btn-clear" id="btnClear">清空</span>\n                <span class="btn-cancel" id="btnCancel">取消</span>\n            </div>\n        </div>\n    </div>\n</div>'}var c=h(20);f.exports={nr:g,ppitest:a,pwd:d}},function(b,a,c){},function(h,d,k){function c(){var a=b.nr();return'<div class="phone_panel">\n   \n    <div class="p-index main phoneBox" id="con" style="display: none;">\n        <div class="top"></div>\n        <div class="phone_menubar"></div>\n        <div class="scene_title_baner">\n            <h1 class="scene_title"></h1>\n        </div>\n        '+a+'\n        <div class="bottom"></div>\n    </div>\n</div>'}function j(){var i=b.nr(),a=b.ppitest();return"\n"+a+'\n<div class="p-index main iframe-phone" id="con" style="display: none; width: 320px; margin-right: 40px;">\n'+i+"\n</div>\n"}function g(){return'<div class = "iframe_panel" style="z-index:2;">\n        <div class="preview"><a id = "pre_page" type = "button" class = "scroll_btn"><span class="eqf-clickmore2"></span></a></div>\n        <div class="next"><a id = "next_page" type = "button" class = "scroll_btn"><span class="eqf-clickmore"></span></a></div>\n    </div>'}function f(){return'<div class="iframe_panel2">\n                    <ul>\n                        <li id="pre_page">上一页</li>\n                        <li id="next_page">下一页</li>\n                    </ul>\n                </div>'}var b=k(45);h.exports={div:c,phoneDiv:j,ctrlBtnDiv:g,ctrlBtnDiv2:f}},function(c,b,f){function a(){var h=d.nr(),g=d.ppitest();return"\n"+g+'\n<div class="p-index main" id="con" style="display: none;">\n'+h+"\n</div>\n"}var d=f(45);c.exports={div:a}},function(J,w,C){function F(){return/max\.(eqshow\.cn|yqxiu\.cn|eqxiu\.com|eqxiu\.cc)/.test(window.location.host)}function B(){return(/\/(\w+)$/.exec(window.location.pathname)||[])[1]}function z(){function a(b){return D(b),b}return new Promise(function(b,e){var d=window.scene;if(d){b(a(d))}else{if(window.__isServerRendered&&!window.scene&&e("场景数据异常"),F()){var c=B();window.__isMax=!0,K({type:"GET",url:E.SERVER_MAX+"m/new/check/model/code?objectId="+c+"&JSESSIONID=ff4ff6599aa04597861955583c300a5d"}).then(function(f){if(f&&f.data){var l=f.data,h=window.scene=l.scene,g=l.pages.map(function(i){return{elements:i}});window.viewData={list:g},b(a(h))}else{e("无审核场景数据")}})["catch"](function(){e("无审核场景数据")})}else{G({type:"GET",url:E.SERVER_1+"eqs/sc?code="+L()}).then(function(f){f.obj?b(a(f.obj)):e("无场景数据")})["catch"](function(){e("无场景数据")})}}})}function x(b){if(window.viewData){return Promise.resolve(window.viewData)}var a={type:"GET",url:N()};return b&&(a.data={password:b}),K(a)}function N(){var l=window.scene||{},O=l.id,g=l.code;if(!O){throw new Error("Not Valid Scene! No Id!")}if(!g){throw new Error("Not Valid Scene! No Code!")}var h=H("userKey"),f=H("compKey"),b=H("cache"),P=E.SERVER_1,v=j(window.scene);(v||M())&&(P=E.SERVER_2),(h||b)&&(P=E.SERVER_1);var m=P+"eqs/page/"+O+"?code="+g,y=k(m);if(h&&y.searchParams.set("userKey",h),f&&y.searchParams.set("compKey",f),b&&y.searchParams.set("cache",b),m=y.href,!v){var d=k(m);d.searchParams.set("time",(new Date).getTime()),m=d.href}return m}function L(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;if(window.scene){return window.scene.code}c=k(c);var b=c.pathname,d=b.lastIndexOf("/");if(d>-1){var a=b.substr(d+1)}if(!a){throw new Error("No Valid Scene Code!")}return a.length>10&&console.error("URL Code 大于 10 位, 请检查 Code"),a}function q(){return Math.ceil(10000000000*Math.random())}var E=C(20),A=C(19),G=A.ajax,K=A.$ajax,I=C(22),H=I.getUrlParam,k=I.parseUrl,D=C(50).perfectMeta,j=C(38).isVipScene,M=C(38).isTgScene;J.exports={$getSceneMetaData:z,$getSceneData:x,randomId:q}},function(j,q,f){function h(a){return a.ext||(a.ext={}),"string"==typeof a.property&&(a.property=JSON.parse(a.property)||{}),"string"==typeof a.bgAudio&&(a.bgAudio=JSON.parse(a.bgAudio)||null),null===a.accessCode&&(a.accessCode=""),k(a),v(a),m(a),console.log("aa--------\n"+JSON.stringify(a)),a}function d(a){a.name=a.name||"未命名场景",a.name=a.name.replace(/&quot;/g,'"')}function b(a){a.description=a.description||"我用易企秀做了一个超酷炫的H5，快来看看吧。"}function v(c){switch(c.pageMode+""){case"2":c.pageMode=p["上下翻页"]}void 0===p[c.pageMode]&&(_DEBUG_,c.pageMode=p["上下翻页"]),c.property||(c.property={});var a=c.property;return"triggerLoop" in a||(a.triggerLoop=!0),"autoFlip" in a||(a.autoFlip=!1),a.autoFlipTime||(a.autoFlipTime=3),"forbidHandFlip" in a||(a.forbidHandFlip=!1),void 0!==a.slideNumber&&null!==a.slideNumber||(a.slideNumber=!0),c}function m(w){var c=w.property,y=w.createTime,a=w.hideEqAd,x=w.eqAdType,u=w.isAdvancedUser,l=w.bottomLabel;switch(y<1416502800000|a|99===x&&(c.eqAdType=g["无尾页无底标"],delete c.createTime,delete c.hideEqAd),u&&(c.ad=2,l&&l.id?c.eqAdType=g["品牌联合底标"]:c.eqAdType=g["技术支持底标"],delete c.isAdvancedUser),""+c.eqAdType){case g["无尾页无底标"]:c.ad=0;break;case g["技术支持尾页"]:c.ad=1;break;case g["技术支持底标"]:case g["品牌联合底标"]:c.ad=2;break;case g["deepshare尾页"]:c.ad=4;break;default:c.eqAdType=g["技术支持尾页"],c.eqAdType=parseInt(c.eqAdType),c.ad=1}}function k(l){var c=l.property;if(c.shareDes&&"string"==typeof c.shareDes){try{c.shareDes=JSON.parse(c.shareDes)}catch(s){c.shareDes={description:{type:"position",description:c.shareDes}}}}var a=!1;if(c.wxCount>0||(1==c.clickFarmerStatus||2==c.clickFarmerStatus)&&c.wxClickFarmerCount>0){a=!0}else{var r=c.shareDes;r&&(r.description&&["myself","selfAndPosition"].includes(r.description.type)||r.title&&["myself","selfAndPosition"].includes(r.title.type)||r.avatar)&&(a=!0)}c.wxAuth=a}var p=f(51).PAGE_MODE,g=f(52).AD_TYPE;j.exports={perfectMeta:h,perfectPageMode:v,perfectAdType:m,perfectName:d,perfectDescription:b}},function(h,l){function f(a){return k.includes(a)}function g(a){return j.includes(a)}var d={up:1,right:2,down:3,left:4},b=[{name:"上下翻页",type:0,dir:d.down},{name:"上下惯性翻页",type:1,dir:d.down},{name:"左右惯性翻页",type:3,dir:d.right},{name:"左右翻页",type:4,dir:d.right},{name:"左右连续翻页",type:5,dir:d.right},{name:"立体翻页",type:6,dir:d.down},{name:"卡片翻页",type:7,dir:d.down},{name:"放大翻页",type:8,dir:d.down},{name:"交换翻页",type:9,dir:d.right},{name:"翻书翻页",type:10,dir:d.right},{name:"上下连续翻页",type:11,dir:d.down},{name:"掉落翻页",type:12,dir:d.down},{name:"淡入翻页",type:13,dir:d.down},{name:"上下推出翻页",type:14,dir:d.down},{name:"左右推出翻页",type:15,dir:d.right},{name:"折叠翻页",type:16,dir:d.down}],m={};b.forEach(function(a){m[a.type]=a.name,m[a.name]=a.type});var k=b.filter(function(a){return a.dir==d.down}).map(function(a){return a.type}),j=b.filter(function(a){return a.dir==d.right}).map(function(a){return a.type});h.exports={isBottomArrow:f,isRightArrow:g,BOTTOM_ARROWS:k,RIGHT_ARROWS:j,PAGE_MODE:m}},function(c,b,f){var a=f(42).make,d=a({0:"无尾页无底标",1:"技术支持尾页",2:"技术支持底标",3:"品牌联合底标",4:"deepshare尾页"});c.exports={AD_TYPE:d}},function(A,G,m){function w(f){var d=f.property.activityPageId;if(f.isPwd){var g=new Promise(function(e){new b(f.cover,$("#nr"),e)})}else{g=H()}var c=g.then(function(e){return e.meta=f,new q(e,[j]).start(),e}),a=D(d)["catch"](function(){return null});return Promise.all([c,a]).then(function(o){var l=k(o,2),p=l[0],h=l[1];return h instanceof Object&&p.list.push(h),p}).then(function(i){var h=i.meta;if(!z(h)){return i}var l=h.ext;return C(l.yqc.ad).then(function(e){return e&&e.list&&e.list.length?(e.list.filter(function(n){return !!n.scenePage||!!n.scenePageDTO}).forEach(function(O){for(var I=O.scenePage,K=O.scenePageDTO,v=O.pageNum,p=K||I,P=p.elements||[],M=0;M<P.length;M++){var L=P[M];if(L&&"EqxAdvertise"==E[L.type]){L.content="";break}}var N=v-1,J=i.list;N>J.length?J.push(p):J.splice(N,0,p)}),i):i})["catch"](function(e){return console.error(e||"广告尾页请求或者解析失败"),i})}).then(function(h){return new F(h).addPageFn(x).addEleFn(B).start(),y(h)})}var k=function(){function a(l,v){var g=[],h=!0,f=!1,d=void 0;try{for(var I,u=l[Symbol.iterator]();!(h=(I=u.next()).done)&&(g.push(I.value),!v||g.length!==v);h=!0){}}catch(p){f=!0,d=p}finally{try{!h&&u["return"]&&u["return"]()}finally{if(f){throw d}}}return g}return function(c,d){if(Array.isArray(c)){return c}if(Symbol.iterator in Object(c)){return a(c,d)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),b=m(54).Guess,H=m(49).$getSceneData,D=m(57).$getActivityPage,C=m(58).$getYqcAd,F=m(59),q=m(60).ObjAdaptor,j=m(61).perfectScene,x=m(62).perfectPage,B=m(65).perfectComp,z=m(38).isEqxAdScene,y=m(72).addEqAdInfo,E=m(64).COMP_TYPE;A.exports={getPerfectSceneData:w,$getActivityPage:D}},function(x,C,k){function q(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var j=function(){function a(f,d){for(var h=0;h<d.length;h++){var c=d[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}();k(55);var b=k(56),D=k(40).parse,A=k(49).$getSceneData,z=k(23),B=z.mobilecheck,m=z.isAndroidPhone,g=z.tabletCheck,v=z.isPc,y=k(20),w=function(){function a(e,r,l){if(q(this,a),this.callBack=l,this.password="",e.startsWith("http")||(e=y.FILE+e),r.append(D(b,{cover:e})),$("#loading").hide(),$("#verifyCode").show(),v()||m()?($(".password-numbers>span").on("click",this.passwordEventListener.bind(this)),$("#btnClear").on("click",this.btnClearEventListener.bind(this)),$("#btnCancel").on("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").on("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").on("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").on("touchstart",this.btnCancelEventListener.bind(this))),B()||g()){var d,p=$(".container"),i=p.width(),h=p.height();d=Math.floor(10*Math.min(document.documentElement.clientHeight/h,document.documentElement.clientWidth/i))/10,p.css("transform","scale("+d+", "+d+")")}}return j(a,[{key:"requestSceneDataWithPassword",value:function(d){var c=this;A(d).then(function(f){c.clearGuess(),c.callBack(f)})["catch"](function(){c.warnGuess()})}},{key:"animateVerifyTip",value:function(){var c=this;$("#verifyTip").addClass("shake").one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){$(this).removeClass("shake"),c.syncronizeTheIndicator()})}},{key:"syncronizeTheIndicator",value:function(){var c=this;$(".password-indicator li").each(function(d,e){d<c.password.length?$(e).addClass("active"):$(e).removeClass("active")})}},{key:"passwordEventListener",value:function(d){var c=$(d.target);c.addClass("active"),this.password+=c.text(),this.syncronizeTheIndicator(),4==this.password.length&&(this.requestSceneDataWithPassword(this.password),this.password=""),setTimeout(function(){c.removeClass("active")},100)}},{key:"btnClearEventListener",value:function(c){this.password="",this.syncronizeTheIndicator()}},{key:"btnCancelEventListener",value:function(c){this.password&&(this.password=this.password.substring(0,this.password.length-1),this.syncronizeTheIndicator())}},{key:"clearGuess",value:function(){$("#verifyCode").remove(),v()||m()?($(".password-numbers>span").off("click",this.passwordEventListener.bind(this)),$("#btnClear").off("click",this.btnClearEventListener.bind(this)),$("#btnCancel").off("click",this.btnCancelEventListener.bind(this))):($(".password-numbers>span").off("touchstart",this.passwordEventListener.bind(this)),$("#btnClear").off("touchstart",this.btnClearEventListener.bind(this)),$("#btnCancel").off("touchstart",this.btnCancelEventListener.bind(this)))}},{key:"warnGuess",value:function(){$("#verifyCode").show(),this.animateVerifyTip()}}]),a}();x.exports={Guess:w}},function(b,a){},function(b,a){b.exports='<div id="verifyCode" class="verifyCode"><div class="container"><div class="scene-cover"><img class="cover-img" src="#{cover}"></div><div class="scene-name">场景名称</div><div class="confirm-password"><div class="verify-label">请输入访问密码</div><div class="verify-tips" id="verifyTip"><ul class="password-indicator"><li></li><li></li><li></li><li></li></ul></div><div class="password-numbers"><span>1</span> <span>2</span> <span>3</span> <span>4</span> <span>5</span> <span>6</span> <span>7</span> <span>8</span> <span>9</span> <span>0</span></div><div class="password-operation"><span class="btn-clear" id="btnClear">清空</span> <span class="btn-cancel" id="btnCancel">取消</span></div></div></div></div>'},function(f,b,h){function a(i){return d({type:"GET",url:c.SERVER_2+"eqs/trailer/"+i})}function g(i){return i?a(i).then(function(j){return j.obj?(j.obj.isActivity=!0,j.obj):Promise.reject("活动尾页数据错误")}):Promise.reject("没有活动尾页 ID")}var d=h(19).$ajax,c=h(20);f.exports={$getPageInfo:a,$getActivityPage:g}},function(f,b,h){function a(i){return d({type:"GET",url:c.SERVER_1+"adview/scenePage/find",data:{sceneId:i,time:Date.now()}})}function g(i){return d({type:"GET",url:c.SERVER_1+"adview/tail/find",data:{sceneId:i,time:Date.now()}})}var d=h(19).ajax,c=h(20);f.exports={$getYqcAd:a,$getYqcTail:g}},function(h,m,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function a(q,o){for(var r=0;r<o.length;r++){var c=o[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(q,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),b=f(60),p=b.ObjAdaptor,k=b.ListAdaptor,j=f(61).perfectScene,l=function(){function a(c){g(this,a),j(c),this.sceneJson={map:c.map,meta:c.meta,list:c.list},this.mapAdaptor=new p(c.map),this.metaAdaptor=new p(c.meta),this.pageAdaptor=new k(c.list),this.eleAdptorList=c.list.map(function(i){return i.elements||(i.elements=[]),new k(i.elements)})}return d(a,[{key:"addMapFn",value:function(c){return this.mapAdaptor.addFn(c),this}},{key:"addMetaFn",value:function(c){return this.metaAdaptor.addFn(c),this}},{key:"addPageFn",value:function(c){return this.pageAdaptor.addFn(c),this}},{key:"addEleFn",value:function(c){return this.eleAdptorList.forEach(function(e){return e.addFn(c)}),this}},{key:"start",value:function(){var c=this;this.mapAdaptor.start(this.sceneJson),this.metaAdaptor.start(this.sceneJson),this.pageAdaptor.start(this.sceneJson),this.eleAdptorList.forEach(function(e){return e.start(c.sceneJson)})}}]),a}();h.exports=l},function(h,l){function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function g(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function d(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var b=function(){function a(p,o){for(var q=0;q<o.length;q++){var c=o[q];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),m=function(){function a(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];d(this,a),this.fns=c}return b(a,[{key:"addFns",value:function(i){var c=this;return i.forEach(function(n){return c.addFn(n)}),this}},{key:"addFn",value:function(c){return this.fns.includes(c)||this.fns.push(c),this}},{key:"removeFn",value:function(i){var c=this.fns.indexOf(i);return c>-1&&this.fns.splice(c,1),this}},{key:"clearFns",value:function(){return this.fns.length=0,this}},{key:"start",value:function(){return this}}]),a}(),k=function(c){function a(p){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];d(this,a);var o=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,n));return o.data=p,o}return g(a,c),b(a,[{key:"start",value:function(n){var i=this;return this.fns.forEach(function(e){return e.call(null,i.data,n)}),this}}]),a}(m),j=function(c){function a(p){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];d(this,a);var o=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,n));return Array.isArray(p)||(_DEBUG_&&console.error("Invalid Array"),p=[]),o.list=p,o}return g(a,c),b(a,[{key:"start",value:function(n){var i=this;return this.fns.forEach(function(e){return i.list.forEach(function(o){return e.call(null,o,n)})}),this}}]),a}(m);h.exports={ObjAdaptor:k,ListAdaptor:j}},function(b,a){function c(d){return d.meta?d.obj=d.meta:d.obj=d.obj||{},d.meta=d.obj,d.map=d.map||{},d.list=d.list||[],d.list.forEach(function(g,f){g.num=f+1}),d}b.exports={perfectScene:c}},function(q,y,g){function k(c,a){f(c),w(c,a),b(c,a),z(c),x(c),j(c.properties)}function f(a){a.elements&&a.elements.forEach(function(h){h.css=h.css||{};var c=h.type;"3"==c?h.css.zIndex=-1:"q"==c&&(h.css.zIndex=0)})}function b(a){a.elements=a.elements.filter(function(p){var h=p.type;if("EqxShape"==d[h]){var u=p.properties,c=u.type,s=u.src;if(s){return !0}if(!c){return !1}if(c.includes("symbols")){return !0}var l=c.replace(/-([a-z])/g,function(n,i){return i.toUpperCase()});return !!l}return !0})}function z(c){var a=c.properties,h=a.longPage;h&&h>1&&h<6&&(a.longPage=486*h)}function w(c,a){c.properties=c.properties||{},c.elements=c.elements||[],c.sceneId=a.meta.id,c.elements.forEach(function(e){return e.pageId=c.id})}function v(c){var a=c+"Effect";m.includes(a)||m.push(a)}function x(h){var c=h.properties||{};if(c.image||c.scratch){v("scratch");var p=c.effect=Object.assign({name:"scratch"},c.image||c.scratch),a=p.percentage?p.percentage.value||p.percentage||0.15:0.15;return delete p.percentage,p.percentage=a,void (c.image?delete c.image:delete c.scratch)}if(c.finger){return v("finger"),c.effect=Object.assign({name:"finger"},c.finger),void delete c.finger}if(c.fallingObject){return v("fallingObject"),c.effect=Object.assign({name:"fallingObject"},c.fallingObject),void delete c.fallingObject}if(c.effect){var l=c.effect.name;v(l),"money"===l&&_DEBUG_&&(c.effect.seconds=2)}}var j=g(63),d=g(64).COMP_TYPE,m=[];q.exports={perfectPage:k,perfectJson:w,perfectLongPage:z,perfectTrigger:j,effectArr:m,perfectEffect:x}},function(b,a){function c(g){var f=g.trigger;if(f){var h=f.sends,d=f.receives;Array.isArray(h)&&(h.forEach(function(i){return i.handles=i.handles.filter(function(j){return j.ids.length})}),f.sends=h.filter(function(i){return i.handles.length})),Array.isArray(d)&&(f.receives=d.filter(function(i){return i.ids.length})),_DEBUG_&&g.pageId}}b.exports=c},function(h,d){var k={7:"EqxNewText",2:"EqxText",x:"EqxText",298:"EqxDeepShare",299:"EqxReport",3:"EqxBackground",4:"EqxImage",8:"EqxTelephone",9:"EqxRedPacket",b:"EqxComment",h:"EqxShape",i:"EqxCount",l:"EqxLink",t:"EqxChart",v:"EqxInteractiveVideo",p:"EqxImageSlider",m:"EqxMap",n:"EqxRandom",s:"EqxSound",d:"EqxPv",g:"EqxAdvertise",e:"EqxDownTime",f:"EqxUpTime",a:"EqxScore",c:"EqxCheckbox",r:"EqxRadio",z:"EqxDropDownList",5:"EqxInput",501:"EqxInput",502:"EqxInputPhone",503:"EqxInputEmail",504:"EqxInput",6:"EqxSubmitButton",601:"EqxSubmitButton",201:"EqxWxNickName",401:"EqxWxProfile",403:"EqxWxUploadImage",w01:"EqxWxSoundPlay",w02:"EqxWxSoundRecord",j:"EqxImgVote",k:"EqxTextVote",q:"EqxGravity",u:"EqxDrawingBoard"},c=["5","501","502","503","504","c","r","z","a"],j=["201","401","403","w01","w02","j","k"],g=["i","6","601"],f=["3","q"],b=Date.now()+""+Math.floor(100000*Math.random());h.exports={COMP_TYPE:k,FORM_COMPS:c,WX_COMPS:j,WX_CLICK_FARMER_COMPS:g,FIX_INDEX_COMPS:f,COMP_KEY:b}},function(R,D,I){function M(b,a,c){return F(b,a),E(b,a,c),V(b),C(b),H(b,a),T(b),K(b),G(b),S(b,a),U(b),N(b),b}function H(b,a){if("EqxDrawingBoard"===J[b.type]&&a.map[L]){var c=a.map[L][b.id];c&&(b.properties.imgSrc=c,b.properties.qiniuSrc=c)}}function F(b,a){b.properties=b.properties||{},b.css=b.css||{},b.sceneId=a.meta.id,b.trigger&&(b.properties.initType=b.trigger.initType||b.properties.initType,delete b.trigger.initType)}function E(h,m,f){var g=h.css,d=J[h.type];if("translate3d(0px, 0px, 0px) rotateZ(0deg) scale(1, 1)"===g.transform&&(g.transform=""),"EqxBackground"!==d){var b=["top","left","width","height","zIndex"];b.forEach(function(a){void 0===g[a]&&(_DEBUG_,"height"===a&&(["EqxInput","EqxInputEmail","EqxInputPhone"].includes(d)&&(g.height=38),"EqxSubmitButton"===d&&(g.height=36),"EqxRadio"!==d&&"EqxCheckbox"!==d||_DEBUG_&&console.info(d),_DEBUG_&&console.info("add height",g.height)))});var p={color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},l=Object.assign({},p,g);Object.assign(g,l)}if(O(h),Q(g),f){var k=f.properties.longPage||486;g.bottom&&!g.top&&(g.top=k-g.bottom-g.height,console.log("bottom "+g.bottom+" height "+g.height+" -> top "+g.top),delete g.bottom)}return g.top||(g.top=0),g.left||(g.left=0),h}function V(b){var a=b.properties;"string"==typeof a&&(a={}),a.anim?(Array.isArray(a.anim)||(a.anim=[a.anim]),a.anim=a.anim.filter(function(f){var d=f||{},g=d.type,c=d.direction;return !(g==-1||null==g||void 0==g||!z[g])&&(z[g][c]||(console.error("invalid animation type",f),f.direction=0),!0)})):a.anim=[],a.anim.forEach(function(c){["delay","duration"].forEach(function(d){"string"==typeof c[d]&&(c[d]=parseFloat(c[d]))})})}function T(d){var b=d.type,g=d.properties,a=g.cropSize,f=g.croptype,c=g.pageLength;"EqxBackground"===J[b]&&(a&&!f&&(g.croptype=q["固定背景模式"]),c&&(c<2&&delete g.pageLength,c<10&&(g.pageLength=486*c)))}function C(b){if("EqxImage"===J[b.type]){var a=b.properties;Q(a),Q(a.imgStyle||(a.imgStyle={}))}}function K(b){var a=J[b.type];"string"!=typeof b.choices||"EqxCheckbox"!==a&&"EqxDropDownList"!==a&&"EqxRadio"!==a||(b.choices=JSON.parse(b.choices)||{})}function G(a){}function N(a){"EqxDropDownList"==J[a.type]&&(a.showText&&a.placeholderText&&(a.choices.options.unshift({id:0,label:a.placeholderText}),a.choices.options.map(function(b){b.value=b.id,delete b.id,b.selected=!1,b.label==a.showText&&(b.selected=!0)})),delete a.showText,delete a.placeholderText,delete a.choices.seq)}function S(c,b){var f=b.meta.publishTime,a=J[c.type];if("EqxText"===a||"EqxAwesomeText"===a){c.type=2,c.properties&&c.properties.dataUrl&&delete c.properties.dataUrl;var d=c.content;d&&d.length>0&&(d=d.replace(/(^\s*)|(\s*$)/g,""),A.isBadStr(d)&&(console.error("xss text"),d=A.toGoodStr(d)),c.content=d),c.publishTime=f}}function Q(a){"100%"===a.width&&(a.width=320),["opacity","width","height","top","bottom","left","right","zIndex","borderWidth","borderBottomLeftRadius","borderBottomRightRadius","borderTopRightRadius","borderTopLeftRadius","borderRadius"].forEach(function(b){var c=a[b];c&&(a[b]=parseFloat(c))})}function O(c){var b=c.css,d=J[c.type],a=["top","bottom","left","zIndex","width","height","lock","transform","opacity","color","backgroundColor","lineHeight","fontSize","textAlign","fontWeight","writingMode","letterSpacing","fontFamily","paddingBottom","paddingTop","letterSpacing","fontStyle","textDecoration","letterSpacing","fontStyle","borderWidth","borderStyle","borderColor","borderRadius","borderRadiusPerc","borderBottomRightRadius","borderBottomLeftRadius","borderTopRightRadius","borderTopLeftRadius","boxShadow","boxShadowDirection","boxShadowSize"];return Object.keys(b).forEach(function(h){var i=a.indexOf(h),g=b[h];if(i===-1&&(_DEBUG_,"EqxInput"===d&&"text-align"===h&&(b.textAlign=b.textAlign||b["text-align"],delete b[h]),"border"===h)){var f=B(g);b.borderColor=f.borderColor||b.borderColor,b.borderWidth=f.borderWidth||b.borderWidth,b.borderStyle=f.borderStyle||b.borderStyle,delete b[h],_DEBUG_&&console.info("delete border:",g,"add",b.borderColor,b.borderWidth,b.borderStyle)}}),c}function B(b){var a=b.split(" ");return{borderWidth:a[0],borderStyle:a[1],borderColor:a[2]}}var J=I(64).COMP_TYPE,q=I(66).BG_CROP_TYPE,U=I(63),z=I(67).ANIMATION_TYPE,A=I(71),j=I(22).getUrlParam,L=j("compKey");R.exports={perfectComp:M,perfectJson:F,perfectCss:E,perfectAnim:V,perfectBg:T,perfectChoice:K,perfectInput:G,perfectText:S,perfectTrigger:U}},function(b,a){var c={"固定背景模式":1,"全屏背景模式":2};b.exports={BG_CROP_TYPE:c}},function(h,m,f){function g(c){if(c.$boxDiv.css({animation:""}),c.$contextCopy){var a=c.$contextCopy.data("typed");a&&a.reset()}}function d(y,B){function q(){if(A++,A>=w.length){r&&r()}else{var L=w[A],W=L.type,R=L.direction,F=L.duration,X=void 0===F?0.1:F,H=L.linear,J=L.count,v=L.countNum,U=void 0===v?1:v,Y=L.delay,K=void 0===Y?0:Y;0===X&&(X=0.1),null==K&&(K=0);var n=H?"linear":"ease",o=l[W];if(!o){return q()}var D=o[R]||l[W][0],e=J?"infinite":U;if(c&&(e=1),u.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),"typer"===D){z.css({opacity:0}),b().then(function(){var E=w[A].interval,C=y.create$context(),O={position:"absolute","pointer-events":"none"};y.compJson.css.writingMode&&"vertical-rl"===y.compJson.css.writingMode?O.left="-30px":O.top="0px",C.attr("context-copy",1).css(O),z.after(C),y.$contextCopy=C;var I=function(){y.$contextCopy=null,setTimeout(function(){C.remove(),C=null,y.$contextCopy||z.css({opacity:1}),q()},100)};C.typed({strings:[x.content],contentType:"html",showCursor:!1,typeSpeed:1000*E||0,startDelay:1000*K||0,onFirstTyped:function(){setTimeout(function(){C&&C.css({opacity:1})},0)},callback:function(){clearInterval(C.data("typed").timeout),C.removeData("typed"),I()},resetCallback:function(){I()}})},function(){z.css({opacity:1})})}else{if("particles"===D){var G=function(){if("number"==typeof e){if(1==e){return void q()}e>1&&M(),e--}else{M()}},M=function Q(){var C=Math.abs(parseInt(u.find("img").css("marginLeft"))),E=Math.abs(parseInt(u.find("img").css("marginTop")));u.css("opacity","0");var i=new k({type:y.compJson.type,top:C,left:E,$parEle:a,imgUrl:j+y.compJson.properties.src,startX:y.compJson.css.width,startY:y.compJson.css.height,imgX:0,imgY:0,delay:1000*K,duration:1000*X,interval:0,ease:"linear"},G);i.animate()};a.remove("canvas"),"h"==y.compJson.type?(u.css("opacity","0"),p().then(function(){M()})):M()}else{var N={"animation-name":D,"animation-duration":X+"s","animation-timing-function":n,"animation-delay":K+"s","animation-iteration-count":e,"animation-direction":"normal","animation-fill-mode":"both"},V=Object.keys(N).map(function(i){return N[i]}).join(" ");u.css("animation",V),u.one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){A<w.length-1&&u.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),setTimeout(function(){q()},0)})}}}}var s=B.animIndex,c=B.maxCount,r=B.callback,a=y.$li,u=y.$boxDiv,z=y.$context,x=y.compJson,w=x.properties.anim||[];s&&(w=w.slice(s,s+1));var A=-1;q()}var b=f(21).$loadTyped,p=f(21).$canvas,k=f(68).Particles,j=f(20).FILE,l=f(69).ANIMATION_TYPE;f(70),h.exports={startAnimation:d,stopAnimation:g,ANIMATION_TYPE:l}},function(h,d){function k(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function")}}function c(i,a,l){return a in i?Object.defineProperty(i,a,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[a]=l,i}var j,g=function(){function a(o,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}return function(l,m,e){return m&&a(l.prototype,m),e&&a(l,e),l}}(),f=(j={easeInOutBack:function(m,l,q,a,p){return void 0==p&&(p=1.70158),(m/=a/2)<1?q/2*(m*m*(((p*=1.525)+1)*m-p))+l:q/2*((m-=2)*m*(((p*=1.525)+1)*m+p)+2)+l},linear:function(m,l,o,a){return o*m/a+l},easeInOutQuad:function(m,l,o,a){return m/=a/2,m<1?o/2*m*m+l:(m--,-o/2*(m*(m-2)-1)+l)},easeOutQuad:function(m,l,o,a){return m/=a,-o*m*(m-2)+l}},c(j,"easeOutQuad",function(m,l,o,a){return m/=a,-o*m*(m-2)+l}),c(j,"easeInCubic",function(m,l,o,a){return m/=a,o*m*m*m+l}),c(j,"easeOutCubic",function(m,l,o,a){return m/=a,m--,o*(m*m*m+1)+l}),c(j,"easeInOutCubic",function(m,l,o,a){return m/=a/2,m<1?o/2*m*m*m+l:(m-=2,o/2*(m*m*m+2)+l)}),c(j,"easeInQuart",function(m,l,o,a){return m/=a,o*m*m*m*m+l}),c(j,"easeOutQuart",function(m,l,o,a){return m/=a,m--,-o*(m*m*m*m-1)+l}),c(j,"easeInOutQuart",function(m,l,o,a){return m/=a/2,m<1?o/2*m*m*m*m+l:(m-=2,-o/2*(m*m*m*m-2)+l)}),c(j,"easeInQuint",function(m,l,o,a){return m/=a,o*m*m*m*m*m+l}),c(j,"easeOutQuint",function(m,l,o,a){return m/=a,m--,o*(m*m*m*m*m+1)+l}),c(j,"easeInOutQuint",function(m,l,o,a){return m/=a/2,m<1?o/2*m*m*m*m*m+l:(m-=2,o/2*(m*m*m*m*m+2)+l)}),c(j,"easeInSine",function(m,l,o,a){return -o*Math.cos(m/a*(Math.PI/2))+o+l}),c(j,"easeOutSine",function(m,l,o,a){return o*Math.sin(m/a*(Math.PI/2))+l}),c(j,"easeInOutSine",function(m,l,o,a){return -o/2*(Math.cos(Math.PI*m/a)-1)+l}),c(j,"easeInExpo",function(m,l,o,a){return o*Math.pow(2,10*(m/a-1))+l}),c(j,"easeOutExpo",function(m,l,o,a){return o*(-Math.pow(2,-10*m/a)+1)+l}),j),b=function(){function a(l,e){k(this,a),this.colNumber=3,this.$parEle=l.$parEle,this.canvas={},this.image={},this.requestId=0,this.startTime=0,this.array=[],this.startX=l.startX,this.startY=l.startY,this.callBackFn=e,this.param=l,this.init()}return g(a,[{key:"randomX",value:function(){return parseInt(Math.random()*this.startX)}},{key:"randomY",value:function(){return parseInt(Math.random()*this.startY)}},{key:"init",value:function(){var l=this;if(this.$parEle.find("canvas").remove(),this.$canvas=$("<canvas></canvas>"),this.$parEle.prepend(this.$canvas),this.$canvas.css({position:"absolute",top:0,left:0}),this.canvas=this.$canvas[0],this.image.isLoaded=!1,this.canvas.width=this.$parEle.width(),this.canvas.height=this.$parEle.height(),this.canvas.width>300&&this.canvas.height>300&&(this.colNumber=4),this.canvas.ctx=this.canvas.getContext("2d"),"h"===this.param.type){return void setTimeout(function(){canvg(l.canvas,l.$parEle.find(".element-box-contents")[0],{ignoreMouse:!0,ignoreAnimation:!0}),l.calCanvas()},10)}if(this.canvas&&this.canvas.getContext){var i=new Image;i.onload=function(){var q=l.$parEle.find("img").width(),e=l.$parEle.find("img").height(),p=i.height/e,m=i.width/q;l.canvas.ctx.drawImage(i,l.param.top*m,l.param.left*p,m*l.canvas.width,p*l.canvas.height,0,0,l.canvas.width,l.canvas.height),l.calCanvas()},i.crossOrigin="anonymous",i.src=this.param.imgUrl}}},{key:"draw",value:function(){this.image.isLoaded?this._draw():setTimeout(this.draw.bind(this))}},{key:"animate",value:function(){this.image.isLoaded?this._animate(this.param.delay):setTimeout(this.animate.bind(this))}},{key:"_calculate",value:function(v){for(var z=this.image.imgData.data,p=v.cols,q=v.rows,m=Math.round(this.canvas.width/p),l=Math.round(this.canvas.height/q),A=0,x={},w=0;w<p;w++){for(var y=0;y<q;y++){A=4*(y*l*this.canvas.width+w*m),z[A+3]>25&&(x={x0:this.randomX(),y0:this.randomY(),x1:this.param.imgX+w*m,y1:this.param.imgY+y*l,delay:y/20,currTime:0,count:0,duration:parseInt(v.duration/16.66)+1,interval:parseInt(10*Math.random()*v.interval),ease:v.ease,ratioX:v.ratioX,ratioY:v.ratioY},x.fillStyle="rgba("+z[A]+", "+z[A+1]+", "+z[A+2]+","+z[A+3]+")",this.array.push(x))}}}},{key:"_draw",value:function(){this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var l=this.array.length,i=null,m=0;m<l;m++){i=this.array[m],this.canvas.ctx.fillStyle=i.fillStyle,this.canvas.ctx.fillRect(i.x1,i.y1,1,1)}}},{key:"_render",value:function(){var z=this;this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height);for(var D,v,x=this.array,s=x.length,m=null,B=0,A=0,C=0,w=1,q=1,y=0;y<s;y++){if(m=x[y],m.count++>m.delay){if(this.canvas.ctx.fillStyle=m.fillStyle,B=m.currTime,A=m.duration,C=m.interval,1!==m.ratioX?w=m.ratioX+2*Math.random():1,1!==m.ratioY?q=m.ratioY+2*Math.random():1,x[s-1].duration+x[s-1].interval<0.9*x[s-1].currTime){return this.canvas=null,cancelAnimationFrame(this.requestId),this.$parEle.find("canvas").remove(),this.$parEle.find(".element-box").css("opacity","1"),void setTimeout(function(){z.callBackFn()},300)}B<A+C?B>=C&&(D=f[m.ease]((B-C)*w,m.x0,(m.x1-m.x0)*w,A),v=f[m.ease]((B-C)*q,m.y0,(m.y1-m.y0)*q,A),this.canvas.ctx.fillRect(D,v,1,1)):this.canvas.ctx.fillRect(m.x1,m.y1,1,1),m.currTime+=Math.random()+0.5}}this.requestId=requestAnimationFrame(this._render.bind(this))}},{key:"_animate",value:function(l){var i=this;this.startTime+l<(new Date).getTime()?this.requestId=requestAnimationFrame(this._render.bind(this)):setTimeout(function(){i._animate(l)})}},{key:"calCanvas",value:function(){var i=this.param;this.image.imgData=this.canvas.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),this.canvas.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this._calculate({duration:i.duration||0,delay:i.delay||0,interval:i.interval||0,ease:i.ease,ratioX:1,ratioY:1,cols:Math.ceil(this.canvas.width/this.colNumber)||100,rows:Math.ceil(this.canvas.height/this.colNumber)||100}),this.image.isLoaded=!0,this.startTime=(new Date).getTime()}}]),a}();h.exports={Particles:b}},function(b,a){var c={0:["fadeIn"],1:["fadeInLeft","fadeInDown","fadeInRight","fadeInUp"],2:["bounceInLeft","bounceInDown","bounceInRight","bounceInUp"],3:["bounceIn"],4:["zoomIn"],5:["rubberBand"],6:["wobble"],7:["rotateIn"],8:["flip"],9:["swing"],10:["fadeOut"],11:["flipOutY"],12:["rollInRight","rollInDown","rollInLeft","rollInUp"],13:["lightSpeedInRight","lightSpeedInDown","lightSpeedInLeft","lightSpeedInUp"],14:["bounceOut"],15:["rollOutRight","rollOutDown","rollOutLeft","rollOutUp"],16:["lightSpeedOutRight","lightSpeedOutDown","lightSpeedOutLeft","lightSpeedOutUp"],17:["fadeOutRight","fadeOutDown","fadeOutLeft","fadeOutUp"],18:["zoomOut"],19:["bounceOutRight","bounceOutDown","bounceOutLeft","bounceOutUp"],20:["flipInY"],21:["tada"],22:["jello"],23:["flash"],24:["flipInX"],25:["flipOutX"],26:["twisterInDownRight","twisterInDownDown","twisterInDownLeft","twisterInDownUp"],27:["puffIn"],28:["puffOut"],29:["slideDown"],30:["slideUp"],31:["twisterInUpRight","twisterInUpDown","twisterInUpLeft","twisterInUpUp"],32:["hingeRight","hingeLeft"],particles:["particles"],typer:["typer"]};b.exports={ANIMATION_TYPE:c}},function(b,a){},function(c,b){function d(f){return f?f.replace(/<\s*(img|input)[^>]*\/?>/gi,"").replace(/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi,""):f}function a(f){return !!f&&(f=f.replace(/[↵\n\t\s]/g,""),/<\s*(img|input)[^>]*\/?>/gi.test(f)||/<\s*(script|textarea|svg|iframe|embed)[^>]*>.*?<\s*\/\1\s*>/gi.test(f))}c.exports={toGoodStr:d,isBadStr:a}},function(N,B,G){function J(b){if(Array.isArray(b)){for(var a=0,c=Array(b.length);a<b.length;a++){c[a]=b[a]}return c}return Array.from(b)}function F(b,a){var c={};return new Promise(function(d,e){return b?j(b).then(function(f){return O(a,f.obj)}).then(function(f){return R(f),d(f)}):(c=A(a),R(c),d(c))})}function D(s){var x=s.meta,h=x.id,d=x.property,a=d.lastPageId,u=d.eqAdType,b=x.bizType,m=x.isTemplate,l=x.ext,v=s.list,i=v.length;return new Promise(function(g,w){function c(){return e=A(s),R(e),v.push(e),g(s)}if(i){var e=v[i-1];e.elements=e.elements||[]}if(40==b&&location.host.includes("eqxiu")){return e=H.bizType40Page(s),R(e,!0),v.push(e),g(s)}if(!(k()||30!=b&&2!=m||u!=z["deepshare尾页"]&&(u!=z["技术支持尾页"]||a))){return e=C(s),R(e),v.push(e),g(s)}switch(""+u){case z["无尾页无底标"]:return g(s);case z["技术支持尾页"]:if(l&&l.yqc&&l.yqc.tail){var p=Q(h).then(function(o){return e=o.obj,R(e),v.push(e),g(s)})}else{p=Promise.reject()}return p["catch"](function(){return a?j(a).then(function(o){return O(s,o.obj)}).then(function(o){return R(o),v.push(o),g(s)})["catch"](function(){return c()}):(e=A(s),R(e),v.push(e),g(s))});case z["技术支持底标"]:try{var n=I(e),f=H.bottomLabel({sceneId:h,pageId:e.pageId,top:n,pageIndex:i});return e.elements.push(f),g(s)}catch(r){return console.error("添加技术支持底标尾页失败",r),c()}case z["品牌联合底标"]:try{return K(s).then(function(o){return e.elements=[].concat(J(e.elements),J(o)),g(s)})}catch(r){return console.error("添加品牌联合底标失败",r),c()}default:return c()}})}function C(f){var b=f.meta,h=b.id,a=b.cover,g=b.name,d=b.code,c=f.list.length+1;return H.lastPage({id:h,name:g,num:c,cover:a,code:d,isDeepShare:!0})}function R(d,b){var g=d.pageId,a=d.sceneId,f=d.num,c=H.report({pageId:g,sceneId:a,pageIndex:f,center:b});d.elements.push(c)}function P(b){var a=b.sceneId,c=b.url;return L.SERVER_1+"eqs/link?id="+a+"&url="+encodeURIComponent(c)}function A(d){var b=d.meta,g=b.id,a=b.cover,f=b.name,c=d.list.length+1;return H.lastPage({id:g,name:f,num:c,cover:a})}function I(b){var a=(b.properties||{}).longPage||1;return a<10?486*(a-1):a-486}function E(c,b,f){var a=I(c),d=H.bottomLabel({sceneId:b,pageId:c.pageId,top:a,pageIndex:f});return d}function K(l){var x=l.meta,g=x.id,h=x.property.bottomLabel,f=h.id,b=h.name,y=h.url;if(!f){throw new Error("No bottomLabel's id")}var v=l.list,m=v[v.length-1],w=I(m),d=m.pageId;return j(f).then(function(a){return(a.obj.elements||[]).map(function(c){return M({ele:c,sceneId:g,pageId:d,url:y,top:w,name:b})})},function(){if(_DEBUG_){throw new Error("Invalid Custom Bottom Label")}return[]})}function O(h,v){var f=h.list;v.properties=v.properties||{};var d=h.meta,b=d.cover,w=d.id,m=d.name;v.sceneId=w;var i=function(c){var a=c.properties.src;return 4==c.type&&!!a&&["group1/M00/A5/5E/yq0KA1QmePmAKr7yAAEByp5jyLc752.jpg","group1/M00/C5/9D/yq0KA1SH1zuAFgkLAAAFgBR8hJs456.png","group1/M00/C5/3F/yq0KA1SHp-2AQZZZAAB-7rIaK6I743.png","group1/M00/C5/9D/yq0KA1SH1zuAeQuFAAAFfUkeXDc110.png"].includes(a)},p=function(a){2==a.type&&/http:\/\/service.eqxiu.com\/eqs\/link/.test(a.content)&&(a.content=a.content.replace(/;url=.*com"/,";url="+encodeURIComponent(q)))};if("group1/M00/61/8A/yq0KA1T2vYSAEgo7AACovQVgHxk048.jpg"!=b){var g=H.image1();g.properties.src=b}else{g=H.eqxLogo()}return v.elements=v.elements.filter(function(a){return !i(a)}),v.elements.forEach(p),v.elements=[].concat(J(v.elements),[H.shadow(),g,H.line(),H.title(m)]),v.num=f.length+1,v}function M(h){var d=h.ele,m=h.sceneId,c=(h.pageId,h.url),l=h.top,g=h.name;d.sceneId=m,d.pageId=129811;var f="EQXIU.COM科技公司",b=d.type;return 2==b&&(g&&c&&"http://"!=c&&(d.content=d.content.replace(new RegExp(f),'<a href="'+P({sceneId:m,url:c})+'" target=_blank data-event="1120203">'+g+"</a>")),g?d.content=d.content.replace(new RegExp(f),g):/易企秀技术支持/.test(d.content)&&(Object.assign(d.css,{zIndex:1000,height:33,width:129,left:97}),d.content='<div style="text-align: center;">'+d.content+"</div>")),d.css.top+=l,d.css.zIndex=200,d}var L=G(20),z=G(52).AD_TYPE,H=G(73),j=G(57).$getPageInfo,Q=G(58).$getYqcTail,k=G(23).isApp,q=G(22).redirectUrl();N.exports={addEqAdInfo:D,getLastPage:F,getDefaultBottom:E,getCustomBottomLabel:K}},function(G,k,z){function C(l){var f=l.sceneId,p=void 0===f?16060:f,d=l.pageId,m=l.top,h=l.pageIndex,g=H.SERVER_1+"eqs/link?id="+p+"&url="+encodeURIComponent(F),c='\n<div style="text-align: center;transform: translateY(-2px);-webkit-animation: fadeIn 2s ease 1s both;-webkit-animation-play-state: initial;">\n    <a href="'+g+'" target="_blank"\n       style="font-size: x-small;display:block;line-height: 10px;">\n        <font color="#ffffff">'+E+"</font>\n    </a>\n</div>";return{id:A(),pageId:d,sceneId:p,num:h,type:2,content:c,status:1,css:{zIndex:"1000",height:"20",width:"129",left:"97px",top:418+m+"px",backgroundColor:"rgba(0,0,0,0.6)",borderBottomLeftRadius:20,borderBottomRightRadius:20,borderTopRightRadius:20,borderTopLeftRadius:20,borderRadius:20},properties:{anim:{type:0,direction:0,duration:2,delay:0}}}}function y(l){var u=l.pageId,g=void 0===u?1:u,h=l.sceneId,f=void 0===h?1:h,d=l.pageIndex,v=void 0===d?1:d,p=l.center,m='\n<div style="text-align: right;">\n    <span style="line-height: 1; background-color: initial;">\n        <font size="2" color="#888888"><b></b></font>\n    </span>\n</div>';return{id:A(),pageId:g,sceneId:f,num:v,type:299,content:m,status:1,css:{zIndex:999,height:36,width:60,left:p?130:10,top:420},properties:{anim:{type:0,direction:0,duration:3,delay:1}}}}function w(){return{id:A(),pageId:"",sceneId:"",num:1,type:"4",isInput:0,title:null,content:null,status:1,css:{borderRadius:"0",borderStyle:"solid",height:"158",zIndex:"1000",borderColor:"rgba(0,0,0,1)",boxShadow:"0 0px 0px #333333",color:"#000000",backgroundColor:"white",borderWidth:"0px",width:"158",left:"84px",paddingTop:"11px",paddingLeft:"10px",top:"170px"},properties:{height:"100px",imgStyle:{width:139,height:136,marginTop:"0px",marginLeft:"0px"},width:"100px",src:"group1/M00/01/30/yq0JCFQpOR-AOULFAAFBPO1yzBQ984.jpg"}}}function q(){return{id:A(),pageId:129810,sceneId:16060,num:1,type:2,isInput:0,title:null,content:'\n<div class="logo-shadow1" style="text-align: center; \n    cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);\n    position:absolute;left:20px;top:56px;">\n</div>',status:1,css:{height:"257",width:"257",left:"78px",top:"175px"},properties:{}}}function J(){return{id:A(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:'\n<div class="bottom-logo" style="text-align: center;cursor:pointer;height:136px;width:139px;">\n    <em style="color:white;line-height:136px;font-size:120px;" class="eqf-eqxiu"></em>\n</div>',status:1,css:{height:"158",width:"158",left:"84px",top:"170px",backgroundColor:"white"},properties:{}}}function I(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"点击此处进行编辑";return{id:A(),pageId:"",sceneId:"",num:1,type:"2",isInput:0,title:null,content:'<div style="text-align: center;"><font color="#ffffff" size="3">'+a+"</font></div>",status:1,css:{zIndex:"102",height:"65",width:"320",left:"0px",top:"70px"},properties:{}}}function j(){var a='<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>';return{id:A(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:a,status:1,css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}}}function B(){var a='<div class="logo-shadow1" style="text-align: center;cursor:pointer;height:127px;width:220px;transform:rotate(-45deg);-webkit-transform:rotate(-45deg);position:absolute;left:20px;top:56px;"></div>';return{id:A(),pageId:129810,sceneId:16060,num:1,type:"2",isInput:0,title:null,content:a,status:1,css:{height:257,width:257,left:"78px",top:"175px"},properties:{}}}function x(U){var K=U.id,P=void 0===K?16060:K,R=U.name,O=U.num,M=U.cover,L=void 0===M?"group1/M00/BA/DA/yq0KA1Rq8COAAYRjAAKU4OVYum0889.jpg":M,X=(U.code,U.isDeepShare);R||(R="");var V=129810,v=P,Q=b()?"":window.location.href,N="美媒课堂",S="#23a3d3",T="",d='<div style="text-align: center;"><span style="line-height: 1; background-color: initial;"><font size="4" color="#888888"><b>'+R+"</b></font></span></div>",W='<div style="width:280px;height:1px;background-color:rgba(60,60,60,0.4);\n        cursor:pointer;position:absolute;left:0;-webkit-filter:drop-shadow(0px 1px 0px rgba(60,60,60,0.4));top:12px;"></div>',f='<div style="text-align: center;padding-top: 0;"><span style="font-size: small; line-height: 1; background-color: initial;">\n         <a href="'+Q+'" target="_blank"><font color="#888888">'+T+'</font><font color="'+S+'">'+N+"</font></a></span></div>",m='<a class="element comp_anchor editable-text deepShareHref" style="cursor: default; width: 100px; height: 36px; display: block;\nbackground: #08c3fd; color:#ffffff;font-size:13px;border-radius: 4px;" data-event="1120601">使用该模板</a>';return{id:"",sceneId:v,num:O,name:R,properties:{},elements:[{id:A(),pageId:V,sceneId:v,num:0,type:"3",css:{},properties:{bgColor:"#E6E9EE"}},{id:A(),pageId:V,sceneId:v,num:1,type:"2",content:d,css:{height:"65",zIndex:"10",width:"320",left:"0px",top:"77px"},properties:{}},{id:A(),pageId:V,sceneId:v,num:2,type:"4",isInput:0,title:null,content:null,status:1,css:{borderBottomLeftRadius:10,borderBottomRightRadius:10,borderTopRightRadius:10,borderTopLeftRadius:10,borderRadius:10,borderStyle:"solid",zIndex:"9",borderColor:"rgba(0,0,0,1)",paddingTop:"0px",height:"141",backgroundColor:"",color:"",boxShadow:"0px 0px 0px #333333",borderWidth:"0px",width:"142.13709677419354",left:"92px",paddingBottom:"0px",top:"177px"},properties:{height:"100px",imgStyle:{width:142,height:142,marginTop:"-0.5px",marginLeft:"0px"},width:"100px",src:L}},{id:A(),pageId:129810,sceneId:v,num:1,type:"2",content:W,css:{height:"24",width:"280",left:"21px",top:"122px"},properties:{}},{id:A(),pageId:V,sceneId:v,num:1,type:X&&!b()?"298":"2",content:X?m:"",css:{height:"36",width:"120",left:"98px",top:"350px",zIndex:"13"},properties:{}},{id:439885,pageId:V,sceneId:v,num:1,type:X&&!b()?"298":"2",content:f,css:{borderRadius:"0px",borderStyle:"solid",height:"30",paddingTop:"0px",borderColor:"rgba(222,220,227,1)",zIndex:"12",boxShadow:"0px 0px 0px rgba(200,200,200,0.6)",color:"",backgroundColor:"rgba(255,255,255,0)",borderWidth:"0px",width:"320",left:"1px",bottom:"36px",paddingBottom:"20px"},properties:{anim:[{type:1,direction:3,duration:"1",delay:"0.6"}]}}]}}function D(){return{id:849219621,sceneId:87910723,num:1,name:null,properties:{},elements:[{css:{top:-132,left:-270,width:873,height:692,zIndex:1,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",imgStyle:{width:873,height:1376.3390625,marginTop:-342.16953125,marginLeft:0},maskSrc:"",originSrc:"Fl5L4C5JXbrlNDUm1TlMi6rZP7SA",anim:[],initType:0},type:4,id:4791539496,pageId:849219621,sceneId:87910723,num:1,name:"图片1"},{css:{top:-197.5,left:-118,width:579.5,height:388,zIndex:2,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"Fie_7zLKX1jFwnowjnupl0uxuRzf",imgStyle:{width:579.5,height:388,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"Fie_7zLKX1jFwnowjnupl0uxuRzf",anim:[{type:0,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1200"}],initType:0},type:4,id:2648920976,pageId:849219621,sceneId:87910723,num:2,name:"图片2"},{css:{top:283.5,left:78,width:165,height:50.5,zIndex:5,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",imgStyle:{width:165,height:50.5,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FszOmxnRNeOR4QbwDnYQHGP4uF4G",anim:[{type:24,direction:0,duration:1,delay:0.2,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1336"}],initType:0},type:4,id:6696803295,pageId:849219621,sceneId:87910723,num:5,name:"图片4"},{css:{top:118.5,left:86,width:148,height:148,zIndex:4,color:"#676767",backgroundColor:"",opacity:1,transform:"rotateZ(0deg)",textAlign:"left",borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0},properties:{src:"FvqrpftukXbdDhFScUbzUuFZEIkz",imgStyle:{width:148,height:148,marginLeft:0,marginTop:0},maskSrc:"",originSrc:"FvqrpftukXbdDhFScUbzUuFZEIkz",anim:[{type:4,direction:0,duration:1,delay:0,countNum:1,interval:0,count:0,$show:!0,$$hashKey:"object:1268"}],initType:0},type:4,id:8888432263,pageId:849219621,sceneId:87910723,num:4,name:"图片5"}],price:null,isPaid:null,forms:null}}var H=z(20),F=z(22).redirectUrl(),E="易企秀技术支持",b=z(23).isApp,A=z(49).randomId;z(74),G.exports={bottomLabel:C,report:y,image1:w,image2:q,eqxLogo:J,title:I,line:j,shadow:B,lastPage:x,bizType40Page:D}},function(b,a){},function(h,l,f){function g(a){return m({type:"POST",url:k.SERVER_1+"eqs/wx/component",data:a})}function d(){return m({type:"GET",url:k.SERVER_1+"eqs/wx/user/cache"})}function b(){var c=j(window.location.href),a="eqs/wx/ticket?time="+Date.now(),i=[/eqxiu\.com/,/eqh5\.cn/,/eqxiu\.cc/,/eqshow\.cn/,/yqxiu\.cn/];return i.some(function(e){return e.test(c)})||(a+=/eqxiu\.cn/.test(c)?"&domain=eqxiu.cn":"&domain="+c),console.log("getWxTicket",a),m({type:"GET",url:k.SERVER_1+a})}var m=f(19).ajax,k=f(20),j=f(22).getUrlHost;h.exports={$postWxComp:g,$getUserWxInfo:d,$getWxTicket:b}},function(ao,Z,af){function ak(c,b){if(ag="",U=c.obj.name,ar=au.FILE+c.obj.cover,Q=c.obj.description||"",F=c.obj.property,V=c.obj.dsAppId||"",W=b,F.shareDes&&"string"==typeof F.shareDes){var d=F.shareDes;F.shareDes={description:{type:"position",description:d}}}if(!F.shareDes){return Y()}F.shareDes.avatar&&(ar=L.headimgurl);var a=c.obj.id;ae(F.shareDes,a).then(function(){return Y()})["catch"](function(f){return console.error(f)})}function ae(c,b){var d=function(){return Promise.resolve(null)},a=function(){return Promise.resolve(null)};return c.title&&c.title.type&&(d=function(){return aa(c.title,b).then(function(f){U=f})}),c.description&&c.description.type&&(a=function(){return aa(c.description,b).then(function(f){Q=f})}),d().then(function(){a()})}function ab(a){return void 0!==ai?Promise.resolve(ai):J(a).then(function(b){return ai=b||""})["catch"](function(){return ai=""})}function aa(b,a){var c="";return new Promise(function(d,e){switch(b.type){case"myself":c+="我是"+L.nickname+","+b.description,d(c);break;case"position":ab(a).then(function(f){c+="我是第"+f+"位"+b.description,d(c)});break;case"selfAndPosition":ab(a).then(function(f){c+="我是"+L.nickname+", 我是第"+f+"位 "+b.description,d(c)})}})}function at(){ag=Date.now()+""+Math.floor(100000*Math.random()),W=B("userKey",ag,W),Y()}function aq(b,a){W=b,W=B("compKey",a,W),Y()}function Y(){am().then(function(){var b=G("toPage",W),a=V?DS.linkChange(b):b;wx.onMenuShareTimeline({title:U,link:a,imgUrl:ar,success:function(){V&&DS.sendRepost("appMessage"),ah()},cancel:function(){}}),wx.onMenuShareAppMessage({title:U,desc:Q,link:b,imgUrl:ar,success:function(){V&&DS.sendRepost("appMessage"),ah(b),N(window.scene.id,4,null,7,"浏览完毕转发操作")},cancel:function(){}}),wx.onMenuShareQQ({title:U,desc:Q,link:b,imgUrl:ar,success:function(){},cancel:function(){}}),wx.onMenuShareWeibo({title:U,desc:Q,link:b,imgUrl:ar,success:function(){},cancel:function(){}}),wx.onMenuShareQZone({title:U,desc:Q,link:b,imgUrl:ar,success:function(){},cancel:function(){}})})}function ah(b){if(ag){var a={userKey:ag};L&&L.headimgurl&&(H.shareUserHeader=L.headimgurl),L&&L.nickname&&(H.shareUserName=L.nickname),a.data=JSON.stringify(H),z(a)["catch"](function(c){ac(JSON.stringify(c))})}}function ad(a){Object.assign(L,a)}function al(){return L}function ap(a){H=a}function an(b,a){H[b]=a}function am(){return aj.initWx()}function X(){var c=window.location.href.split("?")[0],b=R("userKey",window.location.href),d=R("toPage",window.location.href),a=R("compKey",window.location.href);b&&(c=B("userKey",b,c)),d&&(c=B("toPage",d,c)),a&&(c=B("compKey",a,c)),window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid="+K+"&redirect_uri="+encodeURIComponent(au.SERVER_1+"eqs/wx/user/info")+"&response_type=code&scope=snsapi_userinfo&state="+encodeURIComponent(c)+"#wechat_redirect"}var ag,U,ar,V,W,F,ai,au=af(20),K=af(77).APP_ID,R=af(22).getUrlParam,B=af(22).addUrlParam,G=af(22).removeUrlParam,z=af(75).$postWxComp,J=af(78).$getPvCount,N=af(79).bigDataXBData,ac=af(80).popUpModal,aj=af(18),Q="",L={},H={};ao.exports={initWeChat:ak,shareWidthSDK:Y,setWeChatUser:ad,getWeChatUser:al,setWxCompData:ap,saveWxCompData:an,generateUserKey:at,getWxJSSDK:am,hrefToWxAuth:X,addCompKey:aq}},function(c,b,d){var a=d(16);c.exports={APP_ID:a.WX_APP_ID}},function(f,b,h){function a(i){return d({type:"GET",url:c.SERVER_1+"eqs/scene/pv?sceneId="+i})}function g(l){var k=l.id,p=l.param,j=l.ad,m=c.SERVER_1+"eqs/pv/"+k;return p&&(m+="?1=1",m+=/\?.*/.test(p)?"&"+p.substring(1):/&.*/.test(p)?p:"&"+p),m+=(/\?/.test(m)?"&":"?")+"ad="+j,d({type:"GET",url:m})}var d=h(19).ajax,c=h(20);f.exports={$getPvCount:a,$postPVCount:g}},function(f,b,h){function a(q,w,k,o,s,r,v){var m={ua:navigator.userAgent.toLowerCase(),netType:navigator.connection?navigator.connection.type:"unknown",eqxPlatformType:"view",eqxPlatformVersion:window.eqxVersion,categoryOne:"scene_preview",categoryOneId:"11",categoryTwoId:o,categoryTwo:s,itemType:"内容页",itemId:scene.id,pageSizeTotal:app.sceneJson.list.length.toString(),pageCurrentNum:null,itemMaps:k,pubOwner:q,mediaType:navigator.platform,refer:r,actionType:w,actionTime:(new Date).getTime()};v&&(m.url=v);var j=g.BIG_DATA+"uc/kanjia/logserver/push";c("exemplarReview")||d({withCredentials:!0,method:"POST",url:j,headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:JSON.stringify(m)})}var g=h(20),d=h(19).ajax,c=h(22).getUrlParam;f.exports={bigDataXBData:a}},function(c,b,d){function a(g){var f=$('<div class="pop-up-box">\n                        <div class="pop-up-form">\n                            <div class="pop-up-content">\n                                <span class="pop-up-msg">'+g+'</span>\n                            </div>\n                            <div class="pop-up-btn"><a class="pop-up-btn-close">关闭</a></div>\n                        </div>\n                    </div>');$(".main-page.z-current").not(".editor-section").prepend(f);var h=$(".pop-up-btn");h.on("click",function(){f.animate({opacity:0},{duration:300,complete:function(i){return f.remove()}})})}d(81),c.exports={popUpModal:a}},function(b,a){},function(R,D,I){function M(b){if(Array.isArray(b)){for(var a=0,c=Array(b.length);a<b.length;a++){c[a]=b[a]}return c}return Array.from(b)}function H(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}var F=function(){function a(h,m){var f=[],g=!0,d=!1,b=void 0;try{for(var p,l=h[Symbol.iterator]();!(g=(p=l.next()).done)&&(f.push(p.value),!m||f.length!==m);g=!0){}}catch(k){d=!0,b=k}finally{try{!g&&l["return"]&&l["return"]()}finally{if(d){throw b}}}return f}return function(b,c){if(Array.isArray(b)){return b}if(Symbol.iterator in Object(b)){return a(b,c)}throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),E=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),V=I(23).mobilecheck,T=I(23).isApp,C=I(62).perfectPage,K=I(83),G=I(285),N=I(287),S=I(303),Q=I(307),O=I(308),B=I(310),J=I(311),q=I(312),U=I(314),z=I(50).perfectMeta,A=I(21).$loadMLink,j=I(315),L=j.diff,W=function(){function a(b){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};H(this,a),this.sceneJson=b,this.config=Object.assign({toPageIndex:0,selector:"#nr",mode:"view",disablePageEffect:!1,disableCompEvent:!1,disableSubmit:!1,disableTrigger:!1,disableArrow:!1,disableCommentManager:!1,disableProgressBar:!1,disableCompAnim:!1,disableReport:!1,disablePageScroll:!1,initManagers:!0,disableQiniuZoom:!1,mobileEdit:!1,disableBigData:!0,EqxGravity:{disableGravityMotion:!1}},c),this.meta=z(this.sceneJson.meta),this.eqxPageList=[],this.eqxPageList.length=0,this.currentPage=null,this.soundManager=null,this.statManager=null,this.commentManager=null,this.formManager=null,this.pageScroll=null,this.progressBar=null,this.config.initManagers&&this.initManagers()}return E(a,[{key:"setPageList",value:function(c){var b;this.sceneJson.list.length=0,(b=this.sceneJson.list).push.apply(b,M(c)),this.eqxPageList=[],this.eqxPageList.length=c.length}},{key:"getMetaWx",value:function(){var b=this.meta.property;return{wxCount:b.wxCount,wxClickFarmerCount:b.wxClickFarmerCount}}},{key:"calMetaWx",value:function(){return this.eqxPageList.reduce(function(c,b){return c.wxCount+=b.getWxCompCount(),c.wxClickFarmerCount+=b.getWxClickFarmerCompCount(),c},{wxCount:0,wxClickFarmerCount:0})}},{key:"syncMetaWx",value:function(){var b=this.calMetaWx();console.log("wxObj",b),this.setProps({property:b})}},{key:"toJson",value:function(){var c=JSON.parse(JSON.stringify(this.sceneJson));for(var b in c){c.hasOwnProperty(b)&&b.startsWith("$")&&delete c[b]}return c}},{key:"renderScene",value:function(c){var b=this;this.initContainer(c||this.config.selector),this.renderBgm(),V()&&"view"==this.config.mode&&!T()&&2==this.meta.isTemplate&&this.tempAppUseBtn(),this.renderPages().then(function(){b.initPageScroll(),b.initProgressBar()})}},{key:"tempAppUseBtn",value:function(){var h=this;if(!this.$tempAppUseBtn){var d='<a  class="temp-app-use">\n                                        <div class="temp-app-use-btn">\n                                            <span class="eqf-xiuziti"></span>\n                                        </div>\n                                        <div class="temp-app-use-tip">使用</div>\n                                    </a>',l=window.scene,c=l.isTemplate,k=l.sourceId,g=l.id,f={sceneId:g};c&&(f.isTemplate=c),k&&(f.sourceId=k),A().then(function(){var e={mlink:"https://ax8bgc.mlinks.cc/AK00",button:h.$ele.find(".temp-app-use")[0],autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:f};console.log("mlink",e),new Mlink(e)});var b=$(d);this.$ele.append(b)}}},{key:"updateMeta",value:function(d){d=z(d);var c=JSON.parse(JSON.stringify(this.meta));delete c.property.wxAuth,Object.assign(this.meta,d);var f=JSON.parse(JSON.stringify(this.meta));delete f.property.wxAuth;var b=L(c,f);console.log(JSON.stringify(b))}},{key:"setProps",value:function(d){var c=JSON.parse(JSON.stringify(this.meta)),g=this.meta;Object.keys(d).filter(function(h){return"property"!==h}).forEach(function(e){g[e]=d[e]}),d.property&&("string"==typeof d.property&&(d.property=JSON.parse(d.property)),Object.keys(d.property).forEach(function(e){g.property[e]=d.property[e]}));var b=JSON.parse(JSON.stringify(this.meta)),f=L(c,b);console.log(JSON.stringify(f))}},{key:"getMeta",value:function(b){return this.meta[b]}},{key:"getMetaProperty",value:function(b){return this.meta.property[b]}},{key:"initContainer",value:function(c){$(this.$ele).is(c)||(this.$ele=$(c));var b=this.$ele;"static"===b.css("position")&&b.css({position:"relative"}),V()&&b.css({width:"100%",height:"100%"}),this.width=b.width(),this.height=b.height()}},{key:"createBgm",value:function(c){var b=c||this.meta.bgAudio;if(b){return this.bgm=new S(b,this),this.bgm}}},{key:"renderBgm",value:function(){this.bgm||this.createBgm(),this.bgm&&this.$ele.append(this.bgm.$bgmBtn)}},{key:"updateBgm",value:function(b){return this.meta.bgAudio=b,b?void (this.bgm?this.bgm.updateJson(b):(this.createBgm(b),this.renderBgm())):void (this.bgm&&(this.bgm.hide(),this.bgm.stopPlay(),this.bgm=null))}},{key:"renderPages",value:function(){var b=this;return this.sceneJson.list.forEach(function(c,d){b.initEqxPage(d),b.renderPage(d)}),Promise.resolve([])}},{key:"initEqxPages",value:function(){var b=this;this.sceneJson.list.forEach(function(c,d){return b.initEqxPage(d)})}},{key:"initEqxPage",value:function(d){var c=this.sceneJson.list[d];if(c){C(c,this.sceneJson);var f=K.get(c),b=new f(c,this);return this.eqxPageList[d]=b,b}throw new Error("Invalid Page Index: "+d)}},{key:"renderPage",value:function(d){var c=this,f=this.eqxPageList[d];if(f){var b=f.$section;return b||(b=f.create$section(),"edit"!==this.config.mode&&f.addEventListener()),this.$ele.append(b),this.sceneJson.list.length>1&&f.renderArrow(),0===d&&f.arrow&&f.arrow.updateCss({bottom:"30px"}),f.addEffect().then(function(){d===c.config.toPageIndex&&(c.currentPage=f,f.active().then(function(g){return f.deactive().show()}))})}return console.error("no eqxPage at index "+d),Promise.reject(new Error("no eqxPage at index "+d))}},{key:"changePageMode",value:function(b){this.eqxPageList.forEach(function(c){c.arrow?c.arrow.updatePageMode(b):c.renderArrow(b)})}},{key:"initProgressBar",value:function(){this.progressBar=new G(this.sceneJson.list.length),this.$ele.append(this.progressBar.$progress),this.updateProgressBar()}},{key:"updateProgressBar",value:function(d){if(d||(d=this.currentPage),d){c=d.pageJson.num}else{var c=this.eqxPageList[0].pageJson.num}var f=this.sceneJson.list.length;this.progressBar.update(c,f);var b=this.meta.property.slideNumber&&!this.config.disableProgressBar;b?this.progressBar.show():this.progressBar.hide()}},{key:"initPageScroll",value:function(){this.config.disablePageScroll||(this.pageScroll=new N(this))}},{key:"initManagers",value:function(){this.initSoundManager(),this.initPageEffectManager(),this.initStatManager(),this.config.disableCommentManager||this.initCommentManager(),this.initEventManager(),this.initFormManager()}},{key:"initSoundManager",value:function(){this.soundManager=new q}},{key:"initStatManager",value:function(){return this.statManager=new J(this.sceneJson),this.statManager.iterate(),this.statManager}},{key:"initCommentManager",value:function(){this.commentManager=new O(this.meta.id),this.commentManager.loadMoreComments()}},{key:"initEventManager",value:function(){this.eventManager=new Q}},{key:"initFormManager",value:function(){this.formManager=new B}},{key:"initPageEffectManager",value:function(){this.pageEffectManager=new U}},{key:"replaceEqxPage",value:function(d,c){var f=this.eqxPageList[d];f.destroy(),this.sceneJson.list.splice(d,1,JSON.parse(JSON.stringify(c))),this.updatePageNum(),this.eqxPageList[d]=null;var b=this.initEqxPage(d);return this.currentPage&&this.currentPage.pageJson.num==d+1&&(this.currentPage=b),b}},{key:"updatePageNum",value:function(){this.sceneJson.list.forEach(function(c,b){c.num=b+1})}},{key:"insertPage",value:function(c,b){var d=this.sceneJson.list;return d.splice(c+1,0,b),this.updatePageNum(),this.eqxPageList.splice(c+1,0,null),this.initEqxPage(c+1)}},{key:"deletePage",value:function(c){var b=this.sceneJson.list,d=this.eqxPageList[c];d.destroy(),b.splice(c,1),this.updatePageNum(),this.eqxPageList.splice(c,1)}},{key:"destroy",value:function(){this.eqxPageList.forEach(function(b){return b.destroy()}),this.bgm&&(this.bgm.destroy(),this.bgm=null)}},{key:"sortPage",value:function(v,X){var g=this.sceneJson.list,m=g.length;if(v===X||v<0||v>m-1||X<0||X>m-1){return console.error("invalid sortPage arguments")}if(v>X){var f=g.splice(v,1),Y=F(f,1),y=Y[0];g.splice(X,0,y);var x=this.eqxPageList.splice(v,1),P=F(x,1);y=P[0],this.eqxPageList.splice(X,0,y)}else{var k=g.splice(v,1),b=F(k,1);y=b[0],g.splice(X,0,y);var r=this.eqxPageList.splice(v,1),w=F(r,1);y=w[0],this.eqxPageList.splice(X,0,y)}this.updatePageNum()}},{key:"getEqxPageByIndex",value:function(c){var b=this.eqxPageList[c];return b||(b=this.initEqxPage(c)),b}},{key:"getEqxPageById",value:function(b){return this.getEqxPageByKeyValue("id",b)}},{key:"getEqxPageByKeyValue",value:function(c,b){var d=this.sceneJson.list.findIndex(function(e){return e[c]===b});if(d>-1){return this.getEqxPageByIndex(d)}}}]),a}();R.exports=W},function(d,b,g){var a=g(84),f=g(283),c=g(284);d.exports={get:function(j){var h=j.properties,k=h.longPage,i=h.xb;return i?c:k?f:a}}},function(ab,K,R){function X(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}var Q=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),M=R(64).COMP_TYPE,L=R(64).FORM_COMPS,af=R(64).WX_COMPS,ad=R(64).FIX_INDEX_COMPS,H=R(64).WX_CLICK_FARMER_COMPS,V=R(65),N=V.perfectComp,Y=V.perfectBg,ac=R(49).randomId,aa=R(85),Z=R(87),G=R(23).isPc,U=R(110),B=R(113),ae=R(269),D=R(274),F=R(118).hasShakeEvent,z=R(206),W=R(276),ag=R(277),J=R(281),q=R(79).bigDataXBData,A=R(21).$loadParallax,j=R(282),C=function(){function a(k,e){X(this,a),this.pageJson=k,this.eqxScene=e,this.eqxCompList=[],this.displayed=!1,this.hasCoverEffect=!1,this.destroyed=!1;var d=this.eqxScene.sceneJson,b=d.meta,m=b.pageMode,h=b.property.forbidHandFlip,g=this.eqxScene,i=g.width,f=g.height;this.width=i,this.height=f,this.pageMode=m,this.forbidHandFlip=h,this.bgm=this.eqxScene.bgm,this.eqxStatManager=null,this.pv=0}return Q(a,[{key:"addGroupManager",value:function(){return this.groupManager=new j(this),this.groupManager}},{key:"toPageJson",value:function(g){g=Object.assign({transformText:!0,addForms:!0},g);var f=JSON.parse(JSON.stringify(this.pageJson)),l=f.id,d=f.sceneId,h=f.forms=[],b=f.redPacket={};if(f.elements.forEach(function(o){var n=o.type+"";if("EqxRedPacket"===M[n]){var p=o.properties;b.title=p.title,b.activity=p.activity,b.amount=p.amount,b.begin=p.begin,b.end=p.end,b.count=p.count,b.chance=p.chance}if("EqxText"===M[n]&&o.content&&(o.content=o.content.replace(/(^\s*)|(\s*$)/g,"")),L.concat("i").includes(n)){var m={id:o.id,pageId:l,sceneId:d,type:n,fieldType:n,title:o.title,num:o.num};/^[rc]/.test(n)&&(o.choices&&"string"!=typeof o.choices&&(o.choices=JSON.stringify(o.choices)),m.choices=o.choices),h.push(m)}if(o.trigger){var i=o.trigger;i.sends&&0===i.sends.length&&delete i.sends,i.receives&&0==i.receives.length&&delete i.receives,i.sends||i.receives||delete o.trigger}"EqxTelephone"!==M[n]&&"EqxLink"!==M[n]&&"EqxSubmitButton"!==M[n]||o.properties.title&&(o.properties.title=o.properties.title.replace(/ /g,"&nbsp;"))}),f.trigger){var k=f.trigger;k.sends&&0===k.sends.length&&delete k.sends,k.receives&&0==k.receives.length&&delete k.receives,k.sends||k.receives||delete f.trigger}return f}},{key:"getWxCompCount",value:function(){return this.pageJson.elements.reduce(function(c,b){return af.includes(b.type+"")&&(c+=1),c},0)}},{key:"getWxClickFarmerCompCount",value:function(){return this.pageJson.elements.reduce(function(c,b){var d=b.type+"";return H.includes(d)&&b.properties.clickFarmer&&(c+=1),c},0)}},{key:"getCompName",value:function(f){if(f.name){return _DEBUG_,f.name}var c=J.find(function(e){return e.types.includes(f.type+"")});if(!c){return _DEBUG_&&console.error("Lack Name for Type",f.type),null}var h=c.types,b=this.pageJson.elements.filter(function(i){return h.includes(i.type+"")}),g=0;b.forEach(function(l){if(l.name){var m=new RegExp(c.name+"(\\d+)"),k=parseInt((m.exec(l.name)||[])[1]);k&&k>g&&(g=k)}});var d=c.name+(g+1);return _DEBUG_,d}},{key:"setProps",value:function(c){var b=this.pageJson.properties;Object.keys(c).forEach(function(d){b[d]=c[d]})}},{key:"isLongPage",value:function(){return"longPage" in this.pageJson.properties}},{key:"getPageWidth",value:function(){return 320}},{key:"getPageHeight",value:function(){var b=this.pageJson.properties;return b.longPage||486}},{key:"toString",value:function(){return"page-"+this.pageJson.id}},{key:"initStatManager",value:function(){return this.statManager=new W(this.pageJson.elements),this.statManager.iterate(),this.statManager}},{key:"show",value:function(){if(this.displayed=!0,this.triggerEventAgent&&this.triggerEventAgent.addEventListener(),this.$section.addClass("z-current"),window.scene){var b=window.scene.property.activityPageId;!b||this.pv||this.eqxScene.config.disableBigData||(this.pv+=1,q(window.scene.id,"3",{activityPageId:b},"32","活动页面"))}return this}},{key:"hide",value:function(){return this.displayed=!1,this.triggerEventAgent&&this.triggerEventAgent.removeEventListener(),this.eqxCompList.forEach(function(b){return b.eleHide()}),this.effect&&this.effect.stopEffect&&this.effect.stopEffect(),this.$section&&this.$section.removeClass("z-current"),this}},{key:"showElements",value:function(){var b=this;this.eqxCompList.forEach(function(c){var d=c.compJson.css.top;c.compJson.properties.anim&&c.compJson.properties.anim[0]&&30===c.compJson.properties.anim[0].type&&(d-=c.compJson.css.height),c.compJson.properties.anim&&c.compJson.properties.anim[0]&&(2===c.compJson.properties.anim[0].type||19===c.compJson.properties.anim[0].type)?c.eleShow():d&&parseFloat(d)<=b.height?c.eleShow():d||c.eleShow()}),this.eqxBackground&&this.eqxBackground.eleShow()}},{key:"active",value:function(){function d(g){g.hasCoverEffect?(g.bgm&&g.bgm.hide(),g.eqxScene.progressBar&&g.eqxScene.progressBar.hide()):g.showElements(),g.effect&&g.effect.startEffect&&g.effect.startEffect(),g.$section.addClass("z-active")}function c(h){var g=[],i=h.eqxCompList;return i.forEach(function(k){k.anim.forEach(function(l){l.sound&&l.soundAgent&&g.push(l.soundAgent.audio)})}),g}var f=this,b=new Promise(function(e,k){var h=c(f),g=h.length;h&&h.length?h.forEach(function(i){4===i.readyState?0===--g&&(d(f),e()):(i.load(),$(i).on("canplay",function(){0===--g&&(d(f),e())}).on("error",function(){0===--g&&(d(f),e())}))}):(d(f),e())});return b}},{key:"deactive",value:function(){if(this.$section){return this.$section.removeClass("z-active"),this}}},{key:"destroy",value:function(){this.hide(),this.eqxCompList.forEach(function(b){return b.destroy()}),this.eqxCompList=[],this.$ul&&(this.$ul.remove(),this.$ul=null),this.$editDiv&&(this.$editDiv.remove(),this.$editDiv=null),this.$pageDiv&&(this.$pageDiv.remove(),this.$pageDiv=null),this.$section&&(this.$section.remove(),this.$section=null),this.destroyed=!0}},{key:"create$section",value:function(){var v=this,P=this.pageJson,f=P.num,p=P.id,b=P.elements,S=void 0===b?[]:b;this.$section=$(aa.section()),this.section=this.$section[0],this.$pageDiv=$(aa.pageDiv(f)),this.$editDiv=$(aa.editDiv(p)),this.$ul=$(aa.ul(p)),this.$editDiv.append(this.$ul),this.$pageDiv.append(this.$editDiv),this.$section.append(this.$pageDiv);var I=!1;if(S.map(function(c){return c.name=v.getCompName(c),c}).filter(function(d){var c=d.type;return"EqxBackground"!==M[c]&&"EqxGravity"!==M[c]}).sort(function(g,d){var l=g.css.zIndex,c=d.css.zIndex;return l-c}).map(function(d,c){return d.num=c+1,d.css.zIndex=c+1,d}).forEach(function(d){N(d,v.eqxScene.sceneJson,v.pageJson);var e=v.initEqxCompByJson(d);v.renderEqxComp(e);var c=d.properties.GSensor;c&&c.isUsed&&(I=!0)}),I&&"edit"!==this.eqxScene.config.mode){var x=this;A().then(function(){x.parallax=new window.Parallax(x.$ul.get(0))})}for(var O=-1,k=0;k<S.length;k++){"EqxBackground"===M[S[k].type]&&(O=k)}if(O>-1){var w=S[O];Y(w),this.eqxBackground=this.initEqxBgByJson(w),this.renderBg(this.eqxBackground)}var r=-1;for(k=0;k<S.length;k++){"EqxGravity"===M[S[k].type]&&(r=k)}if(r>-1){var h=S[r];this.eqxGravity=this.initEqxGravityByJson(h),this.renderGravity(this.eqxGravity)}var E=this.eqxScene.config;return E.disableTrigger||this.addTriggerEvent(),G()||(window.top===window?this.setUlTopAndLeft():this.setIframeUlTopAndLeft()),this.$section}},{key:"addEventListener",value:function(){}},{key:"renderGravity",value:function(b){b.$gravity?console.error("gravity already rendered"):this.$editDiv.prepend(b.create$gravity())}},{key:"addGravityJson",value:function(b){return this.deleteGravity(),this.addCompJson(b)}},{key:"deleteGravity",value:function(){var c=this;if(this.eqxGravity){var b=this.pageJson.elements.findIndex(function(d){return d.id===c.eqxGravity.compJson.id});b>-1&&this.pageJson.elements.splice(b,1),this.eqxGravity.delete$gravity(),this.eqxGravity=null}}},{key:"renderBg",value:function(b){b.$bg?console.error("background already rendered"):b.create$bg(this.$editDiv,this.width,this.height)}},{key:"addBgJson",value:function(b){return this.deleteBg(),this.addCompJson(b)}},{key:"deleteBg",value:function(){var c=this;if(this.eqxBackground){var b=this.pageJson.elements.findIndex(function(d){return d.id===c.eqxBackground.compJson.id});b>-1&&this.pageJson.elements.splice(b,1),this.eqxBackground.delete$bg(),this.eqxBackground=null}}},{key:"addCompJson",value:function(c){var b=JSON.parse(JSON.stringify(c));return this.addPageInfo(b),N(b,this.eqxScene.sceneJson,this.pageJson),this.pageJson.elements.push(b),b}},{key:"deleteEqxComp",value:function(c){var b=this.pageJson.elements.findIndex(function(d){return d.id===c.compJson.id});b>-1&&this.pageJson.elements.splice(b,1),b=this.eqxCompList.findIndex(function(d){return d===c}),b>-1&&(c.destroy(),this.eqxCompList.splice(b,1)),this.deleTriggerSends(c),this.deleTriggerReceives(c)}},{key:"deleTriggerSends",value:function(c){var b=this;if(c.compJson.trigger&&c.compJson.trigger.sends){var d=c.compJson.trigger.sends;d.forEach(function(e){e.handles.forEach(function(f){f.ids.forEach(function(g){var h=b.getEqxCompById(g);h&&3!=f.type?h.deleReceiveId(c.compJson.id):h&&b.deleteEqxComp(h)})})})}}},{key:"deleTriggerReceives",value:function(c){var b=this;if(c.compJson.trigger&&c.compJson.trigger.receives){var d=c.compJson.trigger.receives;d.forEach(function(e){e.ids.forEach(function(g){if(g==b.pageJson.id){b.deleSendId(c.compJson.id)}else{var f=b.getEqxCompById(g);f&&f.deleSendId(c.compJson.id)}})})}}},{key:"reEffectJson",value:function(b){this.pageJson.properties.effect=b}},{key:"getCopyJson",value:function(){var b=JSON.parse(JSON.stringify(this.pageJson));return b.elements.forEach(function(c){(""+c.id).includes("wx")||(c.id=ac())}),b}},{key:"addPageInfo",value:function(c){var b=this.pageJson,d=0;return ad.indexOf(""+c.type)==-1&&(this.eqxCompList.forEach(function(g){var f=g.getCss("zIndex");f>d&&(d=f)}),void 0===c.css.zIndex&&(c.css.zIndex=d+1)),c.id||(c.id=ac()),Object.assign(c,{id:c.id,pageId:b.id,sceneId:b.sceneId,num:d+1}),c.fromSource&&"psd"===c.fromSource?(delete c.fromSource,c):(delete c.name,c.name=this.getCompName(c),c)}},{key:"addPageGroup",value:function(b){this.pageJson.groups=this.pageJson.groups||[],this.pageJson.groups.push(b)}},{key:"getPageGroup",value:function(){return this.pageJson.groups||[]}},{key:"getPageGroupSettings",value:function(){var b=this.pageJson.properties;return b.groupSettings=b.groupSettings||[],b.groupSettings}},{key:"initEqxCompById",value:function(c){var b=this.pageJson.elements.find(function(d){return d.id===c});return this.initEqxCompByJson(b)}},{key:"initEqxBgByJson",value:function(b){return this.eqxBackground=new z(b,this),this.eqxBackground}},{key:"initEqxGravityByJson",value:function(b){return this.eqxGravity=new ag(b,this),this.eqxGravity}},{key:"updateEqxComp",value:function(c,b){b=JSON.parse(JSON.stringify(b)),N(b,this.eqxScene.sceneJson,this.pageJson);var d=this.pageJson.elements.find(function(e){return e.id===c});return d?(delete b.id,delete b.num,delete b.pageId,delete b.sceneId,delete b.type,Object.assign(d,b),this.getEqxCompById(c)):void console.error("invalid comp Id")}},{key:"initEqxCompByJson",value:function(d){if(d){var c=this.getCompJsonById(d.id);c||(d=this.addCompJson(d));var g=this.getEqxCompById(d.id);if(g){return void console.error("already init",d,g)}var b=U[d.type];if(!(b&&b.prototype instanceof B)){return void console.error("In Valid Type: "+d.type+" @Page"+this.pageJson.id,d)}var f=new b(d,this);return this.eqxCompList.push(f),f}}},{key:"getEqxCompById",value:function(b){return this.eqxCompList.find(function(c){return c.compJson.id==b})}},{key:"getCompJsonById",value:function(b){return this.pageJson.elements.find(function(c){return c.id===b})}},{key:"renderEqxComp",value:function(c){if(c&&c instanceof B){var b=c.$li;return b&&(c.$li.remove(),c.$li=null),b=c.create$li(),this.eqxScene.config.disableCompEvent||c.addEventListeners(),"view"===this.eqxScene.config.mode&&c.updateDisplyStatus(),this.$ul.append(b),b}console.error("invalid eqxComp")}},{key:"renderEqxCompById",value:function(b){return this.renderEqxComp(this.getEqxCompById(b))}},{key:"renderArrow",value:function(c){var b=this.eqxScene.config;c||(c=this.pageMode),this.forbidHandFlip||b.disableArrow||(this.arrow=new ae(c),this.$section.append(this.arrow.$arrow))}},{key:"setUlTopAndLeft",value:function(){var c,b;this.width/this.height>=320/486?c=(this.width/(this.height/486)-320)/2:b=(this.height/(this.width/320)-486)/2,c&&this.$ul.css({marginLeft:c}),b&&this.$ul.css({marginTop:b})}},{key:"setIframeUlTopAndLeft",value:function(){var c,b=(this.width-320)/2,d=(this.height-486)/2;return c=this.width/this.height<=320/486?"scale("+this.width/320+")":"scale("+this.height/486+")",this.$ul.css({marginTop:d,marginLeft:b,transform:c}),{marginLeft:b,marginTop:d}}},{key:"addEffect",value:function(){var d=this,c=this.pageJson,g=c.num,b=c.properties.effect,f=this.eqxScene.config;return new Promise(function(k,n){if(!b||f.disablePageEffect||"gravity"===b.name){k()}else{var m=d,h=function(){if(m.hasCoverEffect=!0,1===g){var l=m.eqxScene.progressBar;l.hide(),m.bgm&&(m.bgm.hide(),m.bgm.stopPlay())}},o=function(){m.hasCoverEffect=!1;var l=m.eqxScene.progressBar;l&&l.show(),m.bgm&&m.bgm.show(),1===g&&m.bgm&&m.bgm.resumePlay(),m.showElements()},i=b.name,e=d;Z.load(i).then(function(l){e.effect=new l(b,e.$pageDiv,e.width,e.height,h,o),e.eqxScene.pageEffectManager.add(e.effect),e.effect.init(),k()})["catch"](function(){n()})}})}},{key:"addTriggerEvent",value:function(){var b=this.pageJson.properties.trigger;b&&F(b.sends)&&(window.shake=this.triggerEventAgent=new D(this,b,this.eqxScene.eventManager))}},{key:"updateCompZIndex",value:function(h,p){function f(r,o,s){var c=r[o];r[o]=r[s],r[s]=c}function g(c){return c.compJson.css.zIndex}var d=this.eqxCompList.map(function(c){return c}).sort(function(i,c){var s=g(i),r=g(c);return s<r?1:s==r?0:-1}),b=d.length;if(p.startsWith("-")){var v=(/-(\d+|-)/.exec(p)||[])[1];if("-"===v){d=d.filter(function(c){return c!==h}),d.push(h),this.resetZIndex(d)}else{for(v=parseInt(v);v-->0;){for(var l=0;l<b;l++){if(d[l]===h&&l!==b-1){f(d,l,l+1);break}}}this.resetZIndex(d)}}else{if(p.startsWith("+")){var k=(/\+(\d+|\+)/.exec(p)||[])[1];if("+"===k){d=d.filter(function(c){return c!==h}),d.unshift(h),this.resetZIndex(d)}else{for(k=parseInt(k);k-->0;){for(var m=0;m<b;m++){if(d[m]===h&&0!==m){f(d,m,m-1);break}}}this.resetZIndex(d)}}}}},{key:"resetZIndex",value:function(d){for(var c=d.length,f=c-1;f>=0;f--){var b=d[f];b.compJson.css.zIndex=c-f,b.update$li({zIndex:b.compJson.css.zIndex})}}},{key:"deleSendId",value:function(c){if(this.pageJson.properties.trigger&&this.pageJson.properties.trigger.sends){var b=this.pageJson.properties.trigger.sends;b.forEach(function(e,d){e.handles.forEach(function(g,f){g.ids.indexOf(c)!=-1&&g.ids.splice(g.ids.indexOf(c),1),0===g.ids.length&&e.handles.splice(f,1)}),0===e.handles.length&&b.splice(d,1)}),0===b.length&&delete this.pageJson.properties.trigger}}}]),a}();ab.exports=C},function(f,b,h){function a(){return'<section class="main-page"></section>'}function g(i){return'<div class="m-img" id="page'+i+'"></div>'}function d(i){return'<div class="edit_wrapper" data-scene-id="'+i+'" style="position: relative; z-index: 1"></div>'}function c(i){return'<ul id="edit_area'+i+'" class="edit_area weebly-content-area weebly-area-active"></ul>'}h(86),f.exports={section:a,pageDiv:g,editDiv:d,ul:c}},function(b,a){},function(b,a,c){b.exports={load:function(d){return new Promise(function(f,e){switch(d){case"finger":c.e(1,function(){return f(c(88))});break;case"money":c.e(2,function(){return f(c(93))});break;case"scratch":c.e(3,function(){return f(c(97))});break;case"snowFly":c.e(4,function(){return f(c(99))});break;case"fallingObject":c.e(5,function(){return f(c(101))});break;case"fireWorks":c.e(6,function(){return f(c(102))});break;case"gradient":c.e(7,function(){return f(c(103))});break;case"glassBreak":c.e(8,function(){return f(c(106))});break;default:var g="Invalid Effect name: "+d;console.error(g),e(g)}})}}},,,function(v,A,j){function m(a){return new Promise(function(d,e){var c=new Image;c.onload=function(){d(this)},c.onerror=c.onabort=function(){e(new Error("download image fail"))},c.src=a})}function g(p,h,u){if(!p){return""}if("string"!=typeof p){throw new Error("Typeof src is not string")}var d=b(p);if(/\.(ico|svg)$/i.test(p.split("?")[0])){return encodeURI(d)}if(!h){return encodeURI(/\?imageMogr2/.test(p)?d:d+"?imageMogr2/auto-orient")}var r=window.devicePixelRatio||1;h=q(h),u=q(u),h&&u?(h*=r,u*=r):(h*=r,u=h);var l=9999;h>u?h>l&&(u*=1-(h-l)/h,h=l):h<u?u>l&&(h*=1-(u-l)/u,u=l):h>l&&(h=u=l);var c="imageMogr2/auto-orient/thumbnail/"+Math.round(h)+"x"+Math.round(u)+">";return d+=/\?imageMogr2/.test(p)?"|"+c:"?"+c,encodeURI(d)}function b(d){if(!d){return void console.error("add prefix invalid src")}var c=window.location.protocol;if(d.startsWith("//")&&"file:"!==c&&(d=c+d),!d.startsWith("/")&&!d.startsWith("file://")){if(/^https?:\/\//.test(d)){for(var l,a=[f.BIND_USER_FILE,f.FREE_USER_FILE,f.VIP_USER_FILE],h=0;h<a.length;h++){if(l=a[h],d.startsWith(l)){d=d.replace(l,f.FILE);break}}}else{d=f.FILE+d}}return d}function B(c){var a=window.location.protocol;return c?/^http.*/.test(c)?c:c.startsWith("//")&&"file:"==a?"http:"+c:c.startsWith("//")?c:f.FILE+c:c}function y(d){var c=window.URL||window.webkitURL;try{var h=c.createObjectURL(d)}catch(a){return Promise.reject(new TypeError("不支持URL.createObjectURL"))}return x(h)}function x(a){return m(a).then(function(c){return{width:c.width,height:c.height,ratio:c.width/c.height}})}function z(h,a){if(h.shape){return Promise.resolve(h.shape)}var i=g(h.path,a||115),d=f.FILE+h.path,c=0;return m(d).then(function(l){return c=l.width/l.height,m(i)}).then(function(o){var l=window.devicePixelRatio||1,p=o.height/l;return{width:p*c,height:p,ratio:c}})}function k(c){var a=b(c);return a=a.replace(/\?.*$/,""),a+="?imageInfo",w({method:"GET",url:a})}var f=j(20),q=Number.parseInt,w=j(19).$ajax;v.exports={loadImg:m,qiniuZoom:g,addPrefix:b,initEffectImgPath:B,getImgShapeByNativeFile:y,getImgShape:z,getImgShapeBySrc:x,getQiniuImgInfo:k}},,,,,,,,,,,,,,,function(c,b){function f(){var h=navigator.userAgent,g=h.indexOf("Opera")>-1;return g?"Opera":h.indexOf("Firefox")>-1?"FF":h.indexOf("Chrome")>-1?"Chrome":h.indexOf("Safari")>-1?"Safari":h.indexOf("compatible")>-1&&h.indexOf("MSIE")>-1&&!g?"IE":void 0}function a(){var g={Chrome:"-webkit-",FF:"-moz-",Opera:"-o-",Safari:"-webkit-"};return g[f()]||"-webkit-"}function d(g){return g in document.documentElement.style}c.exports={getBrowserPrefix:a,isSupportStyle:d}},,,,,function(az,aj,ap){var av=ap(111),ao=ap(127),al=ap(144),ak=ap(148),aD=ap(150),aB=ap(152),ai=ap(156),ar=ap(162),an=ap(164),aw=ap(171),aA=ap(174),ay=ap(178),ax=ap(181),ah=ap(193),aq=ap(199),ae=ap(203),aC=ap(204),af=ap(206),ag=ap(210),K=ap(215),at=ap(218),aE=ap(219),Y=ap(224),ad=ap(226),G=ap(230),N=ap(233),z=ap(234),W=ap(235),aa=ap(239),am=ap(240),au=ap(244),ac=ap(247),Z=ap(251),Q=ap(253),H=ap(254),X=ap(256),U=ap(258),V=ap(264),ab=ap(267);az.exports={EqxRedPacket:ag,9:ag,EqxNewText:Y,7:Y,EqxText:K,2:K,x:K,EqxDeepShare:at,298:at,EqxReport:aE,299:aE,EqxBackground:af,3:af,EqxImage:ao,4:ao,EqxTelephone:an,8:an,EqxComment:ax,b:ax,EqxShape:aB,h:aB,EqxCount:ah,i:ah,EqxLink:al,l:al,EqxChart:av,t:av,EqxVideo:ai,v:ai,EqxInteractiveVideo:ar,o:ar,EqxImageSlider:aD,p:aD,EqxMap:ak,m:ak,EqxRandom:ay,n:ay,EqxSound:aw,s:aw,EqxPv:aA,d:aA,EqxAdvertise:aC,g:aC,EqxDownTime:aq,e:aq,EqxUpTime:ae,f:ae,EqxScore:W,a:W,EqxCheckbox:aa,c:aa,EqxRadio:am,r:am,EqxDropDownList:ad,z:ad,EqxInput:G,5:G,501:G,EqxInputPhone:z,502:z,EqxInputEmail:N,503:N,504:G,EqxSubmitButton:au,6:au,601:au,EqxWxNickName:Q,201:Q,EqxWxProfile:H,401:H,EqxWxUploadImage:X,403:X,EqxWxSoundPlay:ac,w01:ac,EqxWxSoundRecord:Z,w02:Z,EqxTextVote:U,k:U,EqxImgVote:V,j:V,EqxDrawingBoard:ab,u:ab}},function(k,w,g){function j(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var x=function(){function a(o,l){for(var p=0;p<l.length;p++){var c=l[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}();g(112);var q=g(21).$loadChart,m=g(113),v=g(71).toGoodStr,h=g(71).isBadStr,d=function(c){function a(l,o){j(this,a);var i=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,o));return $.extend(!0,i.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1}),i.pieOptions={segmentShowStroke:!1,showTooltips:!1,scaleFontColor:"#000",legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<segments.length; i++){%><li><%if(segments[i].label){%><span style="background-color:<%=segments[i].fillColor%>"></span><%=segments[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var B=this.chart.ctx,y=this.segments;B.textAlign="start",B.textBaseline="middle";for(var D=0,u=0;u<y.length;u++){D+=parseFloat(y[u].value)}B.fillText(D,B.width/2-20,B.height/2,100);for(var u=0;u<y.length;u++){var C=y[u].startAngle+(y[u].endAngle-y[u].startAngle)/2,A=(y[u].outerRadius-y[u].innerRadius)/1.5+y[u].innerRadius,z=y[u].x+Math.cos(C)*A,p=y[u].y+Math.sin(C)*A;B.textAlign="center",B.textBaseline="middle",B.fillStyle=this.options.scaleFontColor,B.font="normal 12px Helvetica",B.fillText(y[u].value,z,p)}}},i.barOptions={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].fillColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var n=this.chart.ctx;n.fillStyle=this.options.scaleFontColor,n.font="normal 12px Helvetica",n.textAlign="center",n.textBaseline="bottom",this.datasets.forEach(function(e){e.bars.forEach(function(p){n.fillText(p.value,p.x,p.y)})})}},i.lineOptions={showTooltips:!1,scaleShowLabels:!0,scaleShowGridLines:!1,scaleBeginAtZero:!0,legendTemplate:'<ul class="<%=name.toLowerCase()%>-legend"><% for (var i=0; i<datasets.length; i++){%><li><%if(datasets[i].label){%><span style="background-color:<%=datasets[i].pointColor%>"></span><%=datasets[i].label%><%}%></li><%}%></ul>',animation:!1,onAnimationComplete:function(){var n=this.chart.ctx;n.font=this.scale.font,n.fillStyle=this.options.scaleFontColor,n.textAlign="center",n.textBaseline="bottom",this.datasets.forEach(function(e){e.points.forEach(function(r,p){0===p?n.fillText(r.value,r.x+10,r.y-5):p===e.points.length-1?n.fillText(r.value,r.x-10,r.y-5):n.fillText(r.value,r.x,r.y-5)})})}},i}return b(a,c),x(a,[{key:"create$context",value:function(){var u=this.compJson,p=$('<div class="create-chart" id="chart-'+u.id+'"></div>');this.perfectJson(u);var z=document.createElement("h5");z.setAttribute("class","chart-title"),p.append(z);var l=this.canvas=document.createElement("canvas");l.id=u.id,l.setAttribute("ctype",u.type),p.append(l);var y=document.createElement("div");y.id="legend-"+u.id,p.append(y);var s=this;return this.initedChart=new Promise(function(e){q().then(function(){s.initChart(y,l,z,u),e()})["catch"](function(i){return console.error(i)})}),p}},{key:"perfectJson",value:function(u){function p(i){z(i),l(i),y(i)}function z(i){i&&i.chartTitle&&(i.chartTitle=v(i.chartTitle))}function l(i){i&&i.segments&&i.segments.length&&i.segments.forEach(function(n){h(n.label)&&(n.label=v(n.label))})}function y(i){i&&i.lengends&&i.lengends.length&&i.lengends.forEach(function(e,o){h(e)&&(i.lengends[o]=v(e))})}var s=u.properties;z(s),p(s.pieChart),p(s.barChart),p(s.lineChart)}},{key:"initChart",value:function(A,E,y,z){var p,l=z.properties.chartType,F=E.getContext("2d"),C=parseFloat(z.css.width),B=parseFloat(z.css.height);$(E).css("width",C+"px"),$(E).css("height",B/2+"px"),E.width=parseInt(window.getComputedStyle(E).width),E.height=parseInt(window.getComputedStyle(E).height),"pie"===l?p=this.pieChart=this.createPieChart(F):"bar"===l?p=this.barChart=this.createBarChart(F):"line"!==l&&"curve"!==l||(p=this.lineChart=this.createLineChart(F,l)),z.properties.chartTitle&&(y.innerHTML=z.properties.chartTitle),"pie"===l&&z.properties.pieChart&&(p=this.pieChart=this.setPieChartView(z,F,p),$(E).data("pieChart",p)),"bar"===l&&z.properties.barChart&&(p=this.barChart=this.setBarChartView(z,F,p),$(E).data("barChart",p)),"line"!==l&&"curve"!==l||!z.properties.lineChart||(p=this.lineChart=this.setLineChartView(z,F,p),$(E).data("lineChart",p)),A.innerHTML=p.generateLegend();var D=z.properties.legPosition;"position-align"===D?$(A).addClass("position-align"):"position-right"===D?$(A).addClass("position-right"):"position-none"===D&&$(A).addClass("position-none")}},{key:"getChartValue",value:function(C){for(var G,z=[],B=[],y=[],p=[],H="",E="",D="",F="",A=0;A<C.segments.length;A++){G=C.segments[A],H=isNaN(G.value)||G.value<0?"":G.value,E=isNaN(G.value1)||G.value1<0?"":G.value1,D=isNaN(G.value2)||G.value2<0?"":G.value2,F=isNaN(G.value3)||G.value3<0?"":G.value3,(G.label||H||E||D||F)&&(p.push(G.label),E=H||E,z.push(E),B.push(D),y.push(F))}return{data1:z,data2:B,data3:y,xLabels:p}}},{key:"setLineChartView",value:function(z,C,u){var y=z.properties.lineChart,p=this.getChartValue(y),l=[],D=[];u.datasets.forEach(function(i){l.push(i.strokeColor),D.push(i.fillColor)});var B={labels:p.xLabels,datasets:[{label:y.lengends[0],fillColor:D[0],strokeColor:l[0],pointColor:l[0],pointStrokeColor:"#fff",data:p.data1},{label:y.lengends[1],fillColor:D[1],strokeColor:l[1],pointColor:l[1],pointStrokeColor:"#fff",data:p.data2},{label:y.lengends[2],fillColor:D[2],strokeColor:l[2],pointColor:l[2],pointStrokeColor:"#fff",data:p.data3}]},A=u.options;return y.options&&y.options.scaleFontColor&&(A.scaleFontColor=y.options.scaleFontColor),u.destroy(),u=new Chart(C).Line(B,A),u.datasets.forEach(function(n){var i=!0;n.points.forEach(function(o){o.value&&(i=!1)}),i?n.points.length=0:n.points.forEach(function(o){o.value||(o.value=0)})}),u.update(),u}},{key:"setBarChartView",value:function(z,p,B){var l=B.options,A=z.properties.barChart,y=this.getChartValue(A),u={labels:y.xLabels,datasets:[{fillColor:A.fillColors[0],strokeColor:"rgba(0,0,0,0)",data:y.data1,label:A.lengends[0]},{fillColor:A.fillColors[1],strokeColor:"rgba(0,0,0,0)",data:y.data2,label:A.lengends[1]},{fillColor:A.fillColors[2],strokeColor:"rgba(0,0,0,0)",data:y.data3,label:A.lengends[2]}]};return A.options&&A.options.scaleFontColor&&(l.scaleFontColor=A.options.scaleFontColor),B.destroy(),new Chart(p).Bar(u,l)}},{key:"setPieChartView",value:function(A,u,C){var p=C.options,B="#000",z=A.properties.pieChart;z.options&&z.options.scaleFontColor&&(B=z.options.scaleFontColor),p.scaleFontColor=B;var y=this.getChartValue(z),l=y.data1.map(function(n,i){return{value:n,color:z.fillColors[i],label:y.xLabels[i]}});return C.destroy(),new Chart(u).Pie(l,p)}},{key:"getPixelRatio",value:function(l){var i=l.webkitBackingStorePixelRatio||l.mozBackingStorePixelRatio||l.msBackingStorePixelRatio||l.oBackingStorePixelRatio||l.backingStorePixelRatio||1;return(window.devicePixelRatio||1)/i}},{key:"createPieChart",value:function(l){var i=[{value:300,color:"#57c7d4",label:"1月"},{value:150,color:"#3aa99e",label:"2月"},{value:100,color:"#f2a654",label:"3月"},{value:140,color:"#f96868",label:"4月"},{value:120,color:"#926dde",label:"5月"}],o=new Chart(l).Pie(i,this.pieOptions);return o}},{key:"createBarChart",value:function(l){var i={labels:["1月","2月","3月","4月","5月"],datasets:[{fillColor:"#62a8ea",strokeColor:"rgba(0,0,0,0)",data:[60,70,80,56,40],label:"图例1"},{fillColor:"#926dde",strokeColor:"rgba(0,0,0,0)",data:[80,56,40,93,112],label:"图例2"},{fillColor:"#f2a654",strokeColor:"rgba(0,0,0,0)",data:[160,86,140,123,23],label:"图例3"}]},o=new Chart(l).Bar(i,this.barOptions);return o}},{key:"createLineChart",value:function(u,p){var z=["rgba(146,109,222,1)","rgba(87,199,212,1)","rgba(242,166,84,1)"],l=z.map(function(i){return i.replace(/[^,]+(?=\))/,"0")});this.lineOptions.bezierCurve=!1,"curve"===p&&(l=l.map(function(i){return i.replace(/[^,]+(?=\))/,"0.2")}),this.lineOptions.bezierCurve=!0);var y={labels:["1月","2月","3月","4月","5月"],datasets:[{label:"图例1",fillColor:l[0],strokeColor:z[0],pointColor:z[0],pointStrokeColor:"#fff",data:[28,24,40,19,27]},{label:"图例2",fillColor:l[1],strokeColor:z[1],pointColor:z[1],pointStrokeColor:"#fff",data:[123,132,146,118,189]},{label:"图例3",fillColor:l[2],strokeColor:z[2],pointColor:z[2],pointStrokeColor:"#fff",data:[201,232,256,215,278]}]},s=new Chart(u).Line(y,this.lineOptions);return s}},{key:"updateSize",value:function(z,C){var u=parseFloat(C.width),y=parseFloat(C.height),p=this.canvas,l=p.getContext("2d"),D=this.compJson,B=D.properties.chartType,A=null;$(p).css("width",u+"px"),$(p).css("height",y/2+"px"),p.width=parseInt(window.getComputedStyle(p).width),p.height=parseInt(window.getComputedStyle(p).height),"pie"===B?A=this.pieChart=this.createPieChart(l):"bar"===B?A=this.barChart=this.createBarChart(l):"line"!==B&&"curve"!==B||(A=this.lineChart=this.createLineChart(l,B)),"pie"===B&&D.properties.pieChart&&(A=this.pieChart=this.setPieChartView(D,l,A),$(p).data("pieChart",A)),"bar"===B&&D.properties.barChart&&(A=this.barChart=this.setBarChartView(D,l,A),$(p).data("barChart",A)),"line"!==B&&"curve"!==B||!D.properties.lineChart||(A=this.lineChart=this.setLineChartView(D,l,A),$(p).data("lineChart",A))}}]),a}(m);k.exports=d},function(b,a){},function(I,q,B){function E(c,a,d){return a in c?Object.defineProperty(c,a,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[a]=d,c}function A(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var x=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),w=B(114),L=B(67),K=B(40).parse,k=B(90).qiniuZoom,D=B(115),z=B(116),F=B(120),J=B(122),H=B(124),G=B(125).isPhoneNumber,j=B(22).openUrl,C=B(126),b=function(){function a(c){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};A(this,a),this.$ability={style:{self:!0,base:{self:!0,backgroundColor:!0,color:!0,opacity:!0,paddingTop:!0,lineHeight:!0,lock:!0},border:{self:!0,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,rotate:!0},compFont:{self:!1,fontFamily:!1},boxShadow:{self:!0,boxShadowSize:!0,boxShadowBlur:!0,boxShadowColor:!0,boxShadowDirection:!0},compStyle:{self:!0},commonStyle:{self:!0,title:!0,display:!1,status:!1,size:!0,position:!0,rotate:!0,opacity:!0,align:!0,zIndex:!0},advanceStyle:{self:!0,paddingTop:!0,borderWidth:!0,borderRadius:!0,borderStyle:!0,borderColor:!0,boxShadowSize:!0,boxShadowBlur:!0,boxShadowColor:!0,boxShadowDirection:!0,lock:!0}},anim:!0,trigger:!0,sound:!0,link:!0,flexLine:"n,ne,e,se,s,sw,w,nw,r"},this.compJson=c,this.type=this.compJson.type,this.displayed=!1,"string"==typeof this.compJson.properties&&(this.compJson.properties={}),this.compJson.properties.initType=this.compJson.properties.initType||0,this.anim=this.compJson.properties.anim||[],this.eqxPage=d,this.eqxScene=d.eqxScene}return x(a,[{key:"toJson",value:function(){return JSON.parse(JSON.stringify(this.compJson))}},{key:"isEditLock",value:function(){return this.getProp("editLock")}},{key:"updateDisplyStatus",value:function(){}},{key:"getImgSrc",value:function(f){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=this.eqxScene.config.disableQiniuZoom,c=d.width,g=d.height;return h?k(f):k(f,c,g)}},{key:"getName",value:function(){var c=this.compJson.name;return c||_DEBUG_&&console.error("comp has no name",this),c}},{key:"getCss",value:function(d){var c=this.compJson.css;return d?c[d]:c}},{key:"toString",value:function(){var f=this.compJson,d=f.pageId,g=f.id,c=f.num;return"page-"+d+"-comp-"+g+"-num-"+c}},{key:"getProp",value:function(c){return this.compJson.properties[c]}},{key:"setProps",value:function(d){var c=this,f=this.compJson.properties;Object.keys(d).forEach(function(e){var g=d[e];"sound"===e?c.compJson.sound=g:null===g||void 0===g||""===g?delete f[e]:f[e]=g})}},{key:"setProp",value:function(d,c){this.setProps(E({},d,c))}},{key:"update$li",value:function(c){this.updateCss(c),this.$li.css(c)}},{key:"update$boxDiv",value:function(d){var c=this;this.updateCss(d),this.$boxDiv.css(d),Object.keys(d).forEach(function(e){"fontSize"===e&&c.$boxDiv.css({"font-size":d[e]+"px"}).find("#"+c.compJson.id).css({"font-size":d[e]+"px"})})}},{key:"updateCss",value:function(d){var c=this.compJson.css;Object.keys(d).forEach(function(e){c[e]=d[e]})}},{key:"updatePos",value:function(d,c){var f=this.compJson.css;isNaN(f.width)&&(f.width=parseInt(this.$li.css("width"))),isNaN(f.height)&&(f.height=parseInt(this.$li.css("height"))),isNaN(f.top)&&(f.top=parseInt(this.$li.css("top"))),isNaN(f.left)&&(f.left=parseInt(this.$li.css("left"))),this.update$li({left:d+f.left,top:c+f.top})}},{key:"updatePos2",value:function(d,c){this.update$li({left:d,top:c})}},{key:"updateSize",value:function(d,c){}},{key:"resetStyle",value:function(){var d={opacity:1,transform:"rotateZ(0deg)"};this.update$li(d);var c={fontSize:"24px",color:"#676767",backgroundColor:"",fontWeight:"normal",fontStyle:"normal",textAlign:"left",textDecoration:"none",letterSpacing:0,borderWidth:0,borderStyle:"solid",borderColor:"rgba(0,0,0,1)",borderRadius:0,borderRadiusPerc:0,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderTopRightRadius:0,borderTopLeftRadius:0,paddingBottom:0,paddingTop:0,boxShadow:"0px 0px 0px rgba(0,0,0,0.5)",boxShadowDirection:0,boxShadowSize:0,transform:"none",opacity:1};this.update$boxDiv(c)}},{key:"create$li",value:function(){var ac=this.compJson,R=ac.id,V=ac.num,Y=ac.type,U=ac.css,S=ac.properties.lock,af=U.width,Q=U.height,X=U.left,T=U.top,Z=U.zIndex,ad=U.bottom,ab=U.transform,aa=U.display,O=U.opacity;if(ab&&ab.length>1){var W=/rotateZ\((-?\d*\.?\d*)(deg|)\)/.exec(ab);W&&W.length&&(ab=W[0])}var s=$(K(w,{id:R,num:V,type:Y}));S&&s.addClass("alock"),s.css({width:af,height:Q,left:X,top:T,zIndex:Z,bottom:ad,transform:ab,display:aa,opacity:O}),this.$li=s,this.addClassToLi(this.$li);var ae=Object.assign({},U,{width:"100%",height:"100%",transform:"none",fontFamily:"",opacity:"",marginTop:"0px",marginBottom:"0px"});this.$boxDiv=this.$li.find(".element-box").css(ae);var M={};U.turnOver?M.transform=U.turnOver:U.transform&&U.transform.indexOf&&(U.transform.indexOf("rotateX(180deg)")>-1||U.transform.indexOf("rotateY(180deg)")>-1)&&(U.transform.indexOf("rotateX(180deg)")>-1&&(U.turnOver="rotateX(180deg)"),U.turnOver&&U.transform.indexOf("rotateY(180deg)")>-1?U.turnOver=U.turnOver+" rotateY(180deg)":U.transform.indexOf("rotateY(180deg)")>-1&&(U.turnOver="rotateY(180deg)"),U.turnOver&&(M.transform=U.turnOver)),this.$boxContentDiv=this.$boxDiv.find(".element-box-contents").css(M),this.compJson.sound&&this.compJson.sound.id&&"edit"===this.eqxScene.config.mode&&this.addSoundIcon(),this.$contentsDiv=this.$boxDiv.find(".element-box-contents"),this.$context=this.create$context(),this.$contentsDiv.append(this.$context);var N=this.compJson.properties.GSensor;if(N&&N.isUsed&&"edit"!==this.eqxScene.config.mode){var c="positive"===N.direction?N.distance:-N.distance;this.$li.addClass("layer"),this.$li.attr("data-depth",c)}return this.$li}},{key:"removeSoundIcon",value:function(){this.$soundIcon&&(this.$soundIcon.remove(),this.$soundIcon=null)}},{key:"addSoundIcon",value:function(){this.removeSoundIcon(),this.$soundIcon=$('<div class="sound-icon eqf-music"></div>'),this.$boxDiv.after(this.$soundIcon)}},{key:"destroy",value:function(){this.eleHide(),this.$li.remove(),this.$li=null}},{key:"create$context",value:function(){return $()}},{key:"addClassToLi",value:function(c){}},{key:"addEventListeners",value:function(){this.bindAfterRenderEvent(this.$li,this.compJson),this.addTriggerEvent(),this.addSoundEvent(),this.addAnimSoundEvent(),this.addInteractiveVideoEvent()}},{key:"eleHide",value:function(){this.$li&&this.compJson.properties.anim&&this.compJson.properties.anim.length&&this.$li.css({display:"none"}),this.soundAgent&&this.soundAgent.update(new D("hide")),this.anim&&this.anim.length&&this.anim.forEach(function(c){c.sound&&c.soundAgent&&c.soundAgent.update(new D("stop"))}),this.displayed=!1,this.stopAnimation(),this.flux&&this.flux.playing&&this.flux.stop()}},{key:"stopAnimation",value:function(){L.stopAnimation(this)}},{key:"startAnimation",value:function(){var f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=f.index,h=f.maxCount;if(f.reset){var c=this,g=function(){c.stopAnimation()}}L.startAnimation(this,{animIndex:d,maxCount:h,callback:g})}},{key:"eleShow",value:function(){if(this.eqxScene.config.disableCompAnim){var c=this.compJson.properties.anim;c[0]&&"typer"===c[0].type&&this.$context.css({opacity:1})}else{this.startAnimation()}this.$li&&this.compJson.properties.anim&&this.compJson.properties.anim.length&&this.$li.css("display","block"),this.displayed=!0,this.receiveEventAgent&&this.receiveEventAgent.preHandle(),this.triggerEventAgent&&this.triggerEventAgent.preHandle(),this.flux&&this.compJson.properties.autoPlay&&(this.flux.stop(),this.flux.start())}},{key:"addInteractiveVideoEvent",value:function(){"o"===this.compJson.type&&this.compJson.src&&(this.interactiveVideoAgent=new C(this,this.eqxScene.soundManager))}},{key:"addSoundEvent",value:function(){this.compJson.sound&&(this.soundAgent=new J(this,this.eqxScene.soundManager))}},{key:"addTriggerEvent",value:function(){var d=this.compJson.trigger,c=this.eqxScene.eventManager;d&&(d.sends&&(this.triggerEventAgent=new z(this,d,c)),d.receives&&(this.receiveEventAgent=new F(this,d,c)))}},{key:"deleSendId",value:function(d){if(this.compJson.trigger&&this.compJson.trigger.sends){var c=this.compJson.trigger.sends;c.forEach(function(f,e){f.handles.forEach(function(h,g){h.ids.indexOf(d)!==-1&&h.ids.splice(h.ids.indexOf(d),1),0===h.ids.length&&f.handles.splice(g,1)}),0===f.handles.length&&c.splice(e,1)}),0===c.length&&delete this.compJson.trigger.sends,this.compJson.trigger.sends||this.compJson.trigger.receives||delete this.compJson.trigger}}},{key:"deleReceiveId",value:function(d){if(this.compJson.trigger&&this.compJson.trigger.receives){var c=this.compJson.trigger.receives;c.forEach(function(f,e){f.ids.indexOf(d)!==-1&&f.ids.splice(f.ids.indexOf(d),1),0===f.ids.length&&c.splice(e,1)}),0===c.length&&delete this.compJson.trigger.receives,this.compJson.trigger.sends||this.compJson.trigger.receives||delete this.compJson.trigger}}},{key:"addAnimSoundEvent",value:function(){var d=this,c=this.anim;c&&c.length&&c.forEach(function(e){e.sound&&(e.soundAgent=new H(d,e,d.eqxScene.soundManager))})}},{key:"autoAdjustSize",value:function(){return{}}},{key:"bindAfterRenderEvent",value:function(l,f){var p=this,d=f.properties,m=d.url,h=d.number,g=f.pageId;if(m){$(l).click(function(){Number.isInteger(+m)?p.eqxScene.pageScroll.goToPageById(m):j(m,g)})}else{if(h&&G(h)){var c=$('<a class="telphone" href="tel:'+h+'"></a>');$(l).on("click",function(){$(document.body).append(c),setTimeout(function(){c[0].click(),c.remove()})})}}}}]),a}();I.exports=b},function(b,a){b.exports='<li id="inside_#{id}" num="#{num}" ctype="#{type}"><div class="element-box" style="width: 100%; height: 100%"><div class="element-box-contents" style="width: 100%; height: 100%"></div></div></li>'},function(c,b){function f(h,g){if(!(h instanceof g)){throw new TypeError("Cannot call a class as a function")}}var a=function d(h){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f(this,d),this.type=h,this.data=g};c.exports=a},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var z=function(){function a(l,h){for(var o=0;o<h.length;o++){var c=h[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(e,h,c){return h&&a(e.prototype,h),c&&a(e,c),e}}(),w=function m(l,c,s){null===l&&(l=Function.prototype);var a=Object.getOwnPropertyDescriptor(l,c);if(void 0===a){var p=Object.getPrototypeOf(l);return null===p?void 0:m(p,c,s)}if("value" in a){return a.value}var h=a.get;if(void 0!==h){return h.call(s)}},v=g(117),x=g(119).RAW_EVENT,j=g(119).INIT_EVENT,d=function(c){function a(i,l,h){return k(this,a),f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l,h))}return b(a,c),z(a,[{key:"addEventListener",value:function(){var l=this,o=this.triggerJson.sends,h=this.master.compJson.id;this.master.$li.attr("data-event","1120603"),o&&"[object Array]"==toString.apply(o)&&o.forEach(function(e){e.type===x.click?l.master.$li.on("click",function(){l.publish(h,e)}):w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"addEventListener",l).call(l)})}},{key:"preHandle",value:function(){var h=this.master.compJson.properties.initType;h==j.show?this.master.$li.show():h==j.hide&&this.master.$li.hide()}}]),a}(v);q.exports=d},function(f,b,h){function a(j,i){if(!(j instanceof i)){throw new TypeError("Cannot call a class as a function")}}var g=function(){function i(l,k){for(var m=0;m<k.length;m++){var j=k[m];j.enumerable=j.enumerable||!1,j.configurable=!0,"value" in j&&(j.writable=!0),Object.defineProperty(l,j.key,j)}}return function(j,k,e){return k&&i(j.prototype,k),e&&i(j,e),j}}(),d=h(118).getHash,c=function(){function i(e,k,j){a(this,i),this.triggerJson=k,this.master=e,this.manager=j,this.addEventListener()}return g(i,[{key:"addEventListener",value:function(){}},{key:"preHandle",value:function(){}},{key:"removeEventListener",value:function(){}},{key:"publish",value:function(k,j){var l=this;j.handles.forEach(function(e){var m=d(k,e.type);l.manager.publish(m,{sender:l.master,delay:1000*j.delay})})}}]),i}();f.exports=c},function(f,b,h){function a(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i.some(function(j){return j.type===d.shake})}function g(j,i){return"sender-"+j+"-type-"+i+"-"+c[i]}var d=h(119).RAW_EVENT,c=h(119).EQX_EVENT;f.exports={hasShakeEvent:a,getHash:g}},function(c,b){var f={click:1,shake:2},a={show:1,hide:2,random:3,play:4},d={show:1,hide:2,"default":0};c.exports={RAW_EVENT:f,EQX_EVENT:a,INIT_EVENT:d}},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var z=function(){function a(l,h){for(var o=0;o<h.length;o++){var c=h[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(e,h,c){return h&&a(e.prototype,h),c&&a(e,c),e}}(),w=function m(l,c,s){null===l&&(l=Function.prototype);var a=Object.getOwnPropertyDescriptor(l,c);if(void 0===a){var p=Object.getPrototypeOf(l);return null===p?void 0:m(p,c,s)}if("value" in a){return a.value}var h=a.get;if(void 0!==h){return h.call(s)}},v=g(121),x=g(119).EQX_EVENT,j=g(119).INIT_EVENT,d=function(c){function a(i,l,h){return k(this,a),f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l,h))}return b(a,c),z(a,[{key:"getPreHandler",value:function(h,i){if(i!=j["default"]){return w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getPreHandler",this).call(this,h,i)}switch(h){case x.show:return function(l){l.$li.hide()};case x.hide:return function(l){l.$li.show()};default:return w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getPreHandler",this).call(this,h,i)}}},{key:"getHandler",value:function(h){switch(h){case x.show:return function(l,i){setTimeout(function(){return l.$li.show()},i.delay)};case x.hide:return function(l,i){setTimeout(function(){return l.$li.hide()},i.delay)};case x.play:return function(l,i){setTimeout(function(){return l.playVideo()},i.delay)};default:return w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getHandler",this).call(this,h)}}}]),a}(v);q.exports=d},function(h,d,k){function c(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function")}}var j=function(){function a(o,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}return function(l,m,e){return m&&a(l.prototype,m),e&&a(l,e),l}}(),g=k(25).noop,f=k(118).getHash,b=function(){function a(e,l,i){c(this,a),this.master=e,this.triggerJson=l,this.manager=i,this.events=[],this.subscribe(),this.preHandle()}return j(a,[{key:"subscribe",value:function(){var i=this;this.triggerJson.receives.forEach(function(e){(e.ids||[]).forEach(function(q){var l=f(q,e.type);i.manager.subscribe(l,i);var p=i.events.findIndex(function(n){return n.hash===l});p>-1&&i.events.splice(p,1);var m={hash:l,preHandler:i.getPreHandler(e.type,i.master.compJson.properties.initType),handler:i.getHandler(e.type)};i.events.push(m)})})}},{key:"update",value:function(o){var m=o.type,p=o.data,l=this.events.find(function(i){return i.hash===m});l&&l.handler.call(this,this.master,p)}},{key:"preHandle",value:function(){var i=this;this.events.forEach(function(e){return e.preHandler.call(i,i.master)})}},{key:"getHandler",value:function(i){return g}},{key:"getPreHandler",value:function(i){return g}}]),a}();h.exports=b},function(k,w,g){function j(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var x=function(){function a(o,l){for(var p=0;p<l.length;p++){var c=l[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),q=g(22).resolveUrl,m=g(20),v=g(123),h=g(23).mobilecheck,d=function(c){function a(l,o){j(this,a);var i=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,o));return i.manager=o,i.soundJson=i.master.compJson.sound,i.type=1,i.init(),i.addEventListeners(),i.register(),i}return b(a,c),x(a,[{key:"init",value:function(){this.audio=new window.Audio,this.audio.src=q(m.FILE,this.soundJson.src)}},{key:"update",value:function(i){switch(i.type){case"stop":case"hide":this.stopPlay();break;case"down":this.audio.volume=0.1;break;case"restore":this.audio.volume=1;break;case"reset":this.audio.currentTime=0}}},{key:"addEventListeners",value:function(){var l=this,i=h()?"touchend":"click";this.master.$li.on(i,function(){return l.audio.paused?l.startPlay():l.stopPlay()}),$(this.audio).on("ended",function(){return l.manager.onEnd(l)})}},{key:"startPlay",value:function(){this.audio.paused&&(this.audio.play(),this.manager.onPlay(this))}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.manager.onEnd(this))}}]),a}(v);k.exports=d},function(c,b){function f(h,g){if(!(h instanceof g)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function g(k,j){for(var l=0;l<j.length;l++){var h=j[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(h,j,e){return j&&g(h.prototype,j),e&&g(h,e),h}}(),d=function(){function g(h,e){f(this,g),this.master=h,this.manager=e}return a(g,[{key:"register",value:function(){this.manager.add(this)}},{key:"deregister",value:function(){this.manager.remove(this)}},{key:"update",value:function(h){}}]),g}();c.exports=d},function(j,q,f){function h(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var v=function(){function a(o,l){for(var r=0;r<l.length;r++){var c=l[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),m=f(123),k=f(22).resolveUrl,p=f(20),g=function(c){function a(o,t,l){h(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,l));return i.manager=l,i.soundJson=t.sound,i.type=2,i.init(),i.addEventListeners(),i.register(),i}return b(a,c),v(a,[{key:"init",value:function(){this.audio=new Audio,this.audio.src=k(p.FILE,this.soundJson.path),this.audio.loop=!0}},{key:"startPlay",value:function(){this.audio.paused&&(this.audio.play(),this.manager.onPlay(this))}},{key:"stopPlay",value:function(){this.audio.paused||(this.audio.pause(),this.audio.currentTime=0,this.manager.onEnd(this))}},{key:"addEventListeners",value:function(){var i=this;$(i.audio).on("AnimSound.start",function(e,l){i.startPlay()}).on("AnimSound.end",function(e,l){i.stopPlay()})}},{key:"update",value:function(i){switch(i.type){case"stop":this.stopPlay();break;case"play":this.startPlay();break;case"down":this.audio.volume=0.1;break;case"restore":this.audio.volume=1}}}]),a}(m);j.exports=g},function(c,b){function d(g){var f=/(\d{11})|^((\d{7,8})|(\d{4}|\d{3})-(\d{7,8})|(\d{4}|\d{3})-(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1})|(\d{7,8})-(\d{4}|\d{3}|\d{2}|\d{1}))$/;return f.test(g)}function a(g){var f=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;return f.test(g)}c.exports={isPhoneNumber:d,isEmail:a}},function(h,l,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var m=function(){function a(p,o){for(var q=0;q<o.length;q++){var c=o[q];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),k=f(123),j=function(c){function a(o,p){g(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,p));return i.manager=p,i.compJson=i.master.compJson,i.type=5,i.addEventListeners(),i.register(),i}return b(a,c),m(a,[{key:"addEventListeners",value:function(){var i=this;this.master.$context.on("ended",function(){i.end()})}},{key:"play",value:function(){this.master.$context[0].play(),this.manager.onPlay(this)}},{key:"end",value:function(){this.master.$context[0].pause(),this.manager.onEnd(this)}}]),a}(k);h.exports=j},function(z,E,m){function v(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var F=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),C=function x(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:x(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}},B=m(128),D=m(113),q=m(105).isSupportStyle,j=m(131),w=m(142),A=m(90).initEffectImgPath,y=function(c){function a(f,g){v(this,a);var d=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{lineHeight:!1,color:!1,paddingTop:!1},compStyle:{backgroundColor:!0},imageStyle:!0}}),d}return b(a,c),F(a,[{key:"getImgSrc",value:function(d){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.eqxScene.config.mobileEdit&&(f.width&&(f.width*=2),f.height&&(f.height*=2)),C(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getImgSrc",this).call(this,d,f)}},{key:"updateSize",value:function(f,g){if(C(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateSize",this).call(this,f,g),this.$width&&this.$height){var d=this.$width/this.$height;this.updateImageSize(d,f,g)}}},{key:"updateTurnOver",value:function(d){this.$boxContentDiv.css("transform",d)}},{key:"pinchEnd",value:function(){var T=this.compJson,I=T.properties,N=T.css,Q=I.imgStyle,M=this.$context[0],K=w.parseTransform(M.style.transform),J=K.scale.x,W=K.scale.y,V=Q.width,H=Q.height,P=Q.marginTop,L=Q.marginLeft,U=V*J,S=H*W,R=Math.max(N.height/S,N.width/U,1);S*=R,U*=R;var G=L-(U-V)/2,O=P-(S-H)/2,h=this.validateImgStyle({width:U,height:S,marginTop:O,marginLeft:G},N);this.$context.css("transform","").css(h),I.imgStyle=h}},{key:"validateImgStyle",value:function(h,f){var p=h.width,d=h.height,l=h.marginTop,g=h.marginLeft;return l<0?l+d<f.height&&(l=f.height-d):l=0,g<0?g+p<f.width&&(g=f.width-p):g=0,{width:p,height:d,marginTop:l,marginLeft:g}}},{key:"moveEnd",value:function(){var l=this.compJson,f=l.properties,u=l.css,d=f.imgStyle,p=parseInt(this.$context.css("marginLeft")),h=parseInt(this.$context.css("marginTop")),g=this.validateImgStyle({width:d.width,height:d.height,marginLeft:p,marginTop:h},u);this.$context.css(g),f.imgStyle=g}},{key:"updateImageSize",value:function(N,S,I){N||(this.$width&&this.$height?N=this.$width/this.$height:console.error("no imageRatio!")),S||(S=this.compJson.css),I||(I=this.compJson.css),void 0===I.height&&(I.height=S.height),void 0===I.width&&(I.width=S.width),void 0===I.borderWidth&&(I.borderWidth=parseInt(S.borderWidth||this.compJson.css.borderWidth||0));var K=this.compJson,H=K.properties,g=(I.width-2*I.borderWidth)/(I.height-2*I.borderWidth),T=H.imgStyle;if(g>N){var Q=I.width-2*I.borderWidth,P=Q/N,R=-(P+2*I.borderWidth-I.height)/2,J=0;T={width:Q,height:P,marginTop:R,marginLeft:J}}else{var G=I.height-2*I.borderWidth,L=N*G,O=-(L+2*I.borderWidth-I.width)/2,M=0;T={width:L,height:G,marginLeft:O,marginTop:M}}this.$context.css(T),H.imgStyle=T}},{key:"create$context",value:function(){var G=this.compJson,J=G.id,h=G.type,l=G.properties,g=l.src,d=l.imgStyle,K=l.maskSrc,H=l.filter;H=void 0===H?{}:H;var I=H.type;if(g=A(g),d&&(g=this.getImgSrc(g,{width:d.width,height:d.height})),Number.isInteger(I)){var f=$(B.filterImg({id:J,type:h,src:g,filterType:I}))}else{f=$(B.img({id:J,type:h,src:g}))}return q("WebkitMaskBoxImage")&&K&&this.$contentsDiv.addClass("img_mask").css({"-webkit-mask-box-image":"url("+K+")"}),d&&f.css(d),f}},{key:"eleShow",value:function(){var d=this,f=this.compJson.properties.src;f&&/.gif/.test(f)&&setTimeout(function(){var e=d.$context.prop("src");d.$context.show().each(function(){this.offsetHeight}).prop("src",e)},1),C(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleShow",this).call(this)}}],[{key:"getImageStyles",value:function(){return j}}]),a}(D);z.exports=y},function(h,d,k){function c(v){var y=v.id,q=v.type,s=v.src,m=v.filterType,w=void 0===m?b[0].value:m,x="filter-"+y,r=b.find(function(i){return i.value===w})||w[0],a=r.path;return f(g,{id:y,type:q,filterId:x,src:s,path:a})}function j(m){var l=m.id,o=m.type,a=m.src;return'<img id="'+l+'" ctype="'+o+'" class="element comp_image editable-image"  draggable="false" src="'+a+'">'}k(129);var g=k(130),f=k(40).parse;h.exports={img:j,filterImg:c};var b=[{value:1,path:"1.7 0.1 0.1 0 -0.287 0 1.7 0.1 0 -0.287 0 0.1 1.6 0 -0.287 0 0 0 1.0 0"},{value:2,path:"2.1 -1.4 0.6 0.0 -0.12 -0.3 2.0 -0.3 0.0 -0.12 -1.1 -0.2 2.6 0.0 -0.12 0.0 0.0 0.0 1.0 0.0"},{value:3,path:"1.9 -0.3 -0.2 0 -0.341 -0.2  1.7 -0.1  0 -0.341 -0.1 -0.6 2.0 0 -0.341 0 0 0 1.0 0"},{value:4,path:"1.0 0.0 0.0 0.0 -0.26 0.0 1.1 0.0 0.0 -0.26 0.0 0.0 1.0 0.0 -0.26 0.0 0.0 0.0 1.0 0.0"},{value:5,path:"1.2 0.0 0.0 0.0 0.0 0.0 0.9 0.0 0.0 0.0 0.0 0.0 0.8 0.0 0.0 0 0 0 1.0 0"},{value:6,path:"0.8 0.3 0.1 0.0 0.182 0.1 0.9 0.0 0.0 0.182 0.1 0.3 0.7 0.0 0.182 0.0 0.0 0.0 1.0 0.0"},{value:7,path:"0.9 0 0 0 0.255 0 0.9 0 0 0.255 0 0 0.9 0 0.255 0 0 0 1.0 0"},{value:8,path:"0.6 0.3 0.1 0 0.28745 0.2 0.7 0.1 0 0.28745 0.2 0.3 0.4 0 0.28745 0 0 0 1.0 0"},{value:9,path:"0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0.8 1.6 0.2 0 -0.639 0 0 0 1.0 0"},{value:10,path:"0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0.2 0.5 0.1 0 0.16 0 0 0 1 0"},{value:11,path:"4.8 -1.0 -0.1 0 -1.523 -0.5 4.4 -0.1 0 -1.523 -0.5 -1.0 5.2 0 -1.523 0 0 0 1.0 0"}]},function(b,a){},function(b,a){b.exports='<div id="#{id}" ctype="#{type}" class="element comp_image editable-image"><svg width="100%" height="100%" version="1.1" xmlns="http://www.w3.org/2000/svg"><g><image width="100%" height="100%" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#{src}" filter="url(##{filterId})" draggable="false"></image><defs><filter id="#{filterId}"><feColorMatrix class="saturation" color-interpolation-filters="sRGB" type="matrix" values="#{path}"></feColorMatrix></filter></defs></g></svg></div>'},function(c,b,d){var a=[{name:"圆形",path:d(132)},{name:"菱形",path:d(133)},{name:"心形",path:d(134)},{name:"矩形2",path:d(135)},{name:"矩形3",path:d(136)},{name:"矩形4",path:d(137)},{name:"星形1",path:d(138)},{name:"星形2",path:d(139)},{name:"星形3",path:d(140)},{name:"三角形",path:d(141)}];c.exports=a},function(b,a,c){b.exports=c.p+"images/circle-6daa4d.svg"},function(b,a,c){b.exports=c.p+"images/diamond-a61c24.svg"},function(b,a,c){b.exports=c.p+"images/heart-d692b9.svg"},function(b,a,c){b.exports=c.p+"images/rect2-007f3e.svg"},function(b,a,c){b.exports=c.p+"images/rect3-896f69.svg"},function(b,a,c){b.exports=c.p+"images/rect4-fb3aef.svg"},function(b,a,c){b.exports=c.p+"images/star1-42a9b6.svg"},function(b,a,c){b.exports=c.p+"images/star2-b75251.svg"},function(b,a,c){b.exports=c.p+"images/star3-343bf6.svg"},function(b,a,c){b.exports=c.p+"images/triangle-170329.svg"},function(A,G,m){function w(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c+="";var a={rotate:0,rotateY:0,rotateX:0,scale:{x:1,y:1},translate3d:{x:0,y:0,z:0}};return c=c.replace(j,function(d,f){a.rotate=E(f)}),c=c.replace(B,function(d,f){a.rotateY=E(f)}),c=c.replace(x,function(d,f){a.rotateX=E(f)}),c=c.replace(z,function(f,g,d){a.scale={x:E(g),y:E(d)}}),c.replace(y,function(f,h,d,g){a.translate3d={x:E(h),y:E(d),z:E(g)}}),a}function k(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";c+="";var a={rotate:0,rotateY:0,rotateX:0,scale:{x:1,y:1},translate3d:{x:0,y:0,z:0}};return c=c.replace(j,function(d,f){a.rotate=parseFloat(f)}),c=c.replace(B,function(d,f){a.rotateY=parseFloat(f)}),c=c.replace(x,function(d,f){a.rotateX=parseFloat(f)}),c=c.replace(z,function(f,g,d){a.scale={x:parseFloat(g),y:parseFloat(d)}}),c.replace(y,function(f,h,d,g){a.translate3d={x:parseFloat(h),y:parseFloat(d),z:parseFloat(g)}}),a}function b(a){return void 0!==a.rotate?"rotateZ("+a.rotate+"deg)":""}function H(d){if(d){var c=d.x,g=void 0===c?1:c,a=d.y,f=void 0===a?1:a;return"scale("+g+", "+f+")"}return""}function D(g){if(g){var c=g.x,l=void 0===c?0:c,a=g.y,h=void 0===a?0:a,f=g.z,d=void 0===f?0:f;return"translate3d("+l+"px, "+h+"px, "+d+"px)"}return""}function C(c){var a=[],d=c.translate3d;return !d||0===d.x&&0===d.y&&0===d.z||a.push(D(c.translate3d)),null!==c.rotate&&void 0!==c.rotate&&a.push(b(c)),d=c.scale,!d||1===d.x&&1===d.y||a.push(H(c.scale)),F(a.join(" "))}function F(a){return a.trim().replace(/\s{2,}/," ")}function q(c,a){var f=w(c),d=Object.assign({},f,a);return C(d)}var j=/rotateZ\((-?\d*\.?\d*)(deg|)\)/,x=/rotateX\((-?\d*\.?\d*)(deg|)\)/,B=/rotateY\((-?\d*\.?\d*)(deg|)\)/,z=/scale\((-?\d+),\s?(\d+)\)/,y=/translate3d\((-?\d*(?:px)?),\s?(-?\d*(?:px)?),\s?(-?\d*(?:px)?)\)/,E=m(143).toInt;A.exports={scaleReg:z,translate3dReg:y,parseTransform:w,getRotateStr:b,getScaleStr:H,getTranslate3dStr:D,getTransformStr:C,trimTransformStr:F,updateTransformStr:q,parseTransformInFloat:k}},function(h,d){function k(i,a){return"number"!=typeof i&&(i=parseFloat(i)),parseFloat(i.toFixed(a))}function c(a){return k(a,0)}function j(a){return k(a,1)}function g(a){return k(a,2)}function f(a){return a.toFixed(2)}function b(a){return(!a||a<0)&&(a=0),a<1024?a+" KB":(a/=1024,a<1024?f(a)+" MB":(a/=1024,a<1024?f(a)+" GB":(a/=1024,f(a)+" TB")))}h.exports={toFixed:k,toFixed1:j,toFixed2:g,toInt:c,size:b}},function(x,C,k){function q(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function j(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function D(I){var N=I.id,p=I.type,E=I.title,l=void 0===E?"":E,c=I.imgSrc,O=void 0===c?"":c,K=I.width,M=void 0===K?0:K,F=I.height,J=void 0===F?0:F,H=I.padding;M=z(M),J=z(J);var G=l.replace(/ /g,"&nbsp;"),L=O?'<img style="width: 100%; height: 100%;" src="'+O+'">':G;return g(m,{id:N,type:p,width:M,height:J,content:L,padding:H})}var A=function(){function a(f,d){for(var h=0;h<d.length;h++){var c=d[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}();k(145);var z=k(146).addSuffixPx,B=k(113),m=k(147),g=k(40).parse,v=k(22).openUrl,y=k(79).bigDataXBData,w=function(c){function a(f,h){q(this,a);var d=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,h));return $.extend(!0,d.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),d}return b(a,c),A(a,[{key:"create$context",value:function(){var E=this.compJson,I=E.id,h=E.type,s=E.properties,f=s.imgSrc,d=s.title,G=E.css,F=G.width,H=G.height;if(f){f=this.getImgSrc(f,{width:F,height:H});var p="0"}else{p="0 8px"}return this.$context=$(D({id:I,type:h,imgSrc:f,title:d,width:F,height:H,padding:p})),this.$context}},{key:"bindAfterRenderEvent",value:function(l,f){var s=this,d=f.id,p=f.properties.url,h=f.pageId;return p&&$(l).find("#"+d).click(function(){s.eqxPage.eqxScene.config.disableBigData||y(window.scene.id,4,null,10,"互动链接"),Number.isInteger(+p)?s.eqxScene.pageScroll.goToPageById(p):v(p,h)}),!!p}},{key:"updateBtnTitle",value:function(d){this.compJson.properties.imgSrc||(this.$context[0].innerText=d)}}]),a}(B);x.exports=w},function(b,a){},function(c,b){function d(h){var g=document.getElementsByTagName("style")[0];if(!g){g=document.createElement("style");var j=document.head||document.getElementsByTagName("head")[0];g.type="text/css",j.appendChild(g)}var f=document.createTextNode(h);g.appendChild(f)}function a(f){return f=""+f,f.indexOf("px")===-1&&(f+="px"),f}c.exports={addGlobalStyle:d,addSuffixPx:a}},function(b,a){b.exports='<a id="#{id}" ctype="#{type}" class="element eqx-link editable-text" style="cursor: default; width: 100%; height: 100%; padding: #{padding}" data-event="1120601">#{content}</a>'},function(k,w,g){function j(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var x=function(){function a(o,l){for(var p=0;p<l.length;p++){var c=l[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),q=g(21).$loadQQMap,m=g(113),v=g(40).parse,h=g(79).bigDataXBData,d=function(c){function a(l,o){j(this,a);var i=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,o));return $.extend(!0,i.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1}),i}return b(a,c),x(a,[{key:"create$context",value:function(){var G=this,J=this.compJson,A=J.id,C=J.type,z=J.content,u=J.properties,K=u.lat,I=void 0===K?39.916527:K,B=u.lng,y=void 0===B?116.397128:B,D=u.zoom,H=void 0===D?11:D,F='<div id="#{id}" ctype="#{type}" class="element"></div>',E=$(v(F,{id:A,type:C})).css({width:"100%",height:"100%"}).on("mousedown mousemove mouseup mouseleave touchstart touchmove touchend",function(i){i.stopPropagation()});return q().then(function(){G.initQQMap({$context:E,content:z,lat:I,lng:y,zoom:H})}),E}},{key:"initQQMap",value:function(E){var J=E.$context,B=E.content,z=E.lat,n=E.lng,K=E.zoom,H=new qq.maps.LatLng(z,n),G={disableDefaultUI:!0,center:H,zoom:parseFloat(K)},I=this.map=new qq.maps.Map(J[0],G);B&&(this.label=new qq.maps.Label({position:H,map:I,content:B}));var A=new qq.maps.Point(25,5),y=new qq.maps.Size(34,34),C=new qq.maps.Point(0,0),F=new qq.maps.MarkerImage(g(149),y,C,A),D=new qq.maps.Marker({map:I,position:I.getCenter()});D.setIcon(F),J.data("marker",D)}},{key:"bindAfterRenderEvent",value:function(l){var i=this,o=$(l);o.click(function(){i.eqxPage.eqxScene.config.disableBigData||h(window.scene.id,4,null,13,"互动地图")})}}]),a}(m);k.exports=d},function(b,a,c){b.exports=c.p+"images/marker-15820e.png"},function(k,w,g){function j(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function x(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h[0].value;return h.find(function(c){var e=c.value;return e===a})}function q(z){var p=z.imgW,B=z.imgH,l=z.containerW,A=z.containerH,y={},u=p/B,c=l/A;return u>c?(y.width=l,y.height=l/u):(y.height=A,y.width=A*u),y.margin=(A-B)/2+"px "+(l-p)/2+"px",y}var m=function(){function a(o,l){for(var p=0;p<l.length;p++){var c=l[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}();g(151);var v=g(113),h=[{value:1,desc:"轮播",name:"slide"},{value:2,desc:"下落",name:"bars"},{value:3,desc:"百页窗",name:"blinds"},{value:4,desc:"消隐",name:"blocks"},{value:5,desc:"渐变",name:"blocks2"},{value:9,desc:"梳理",name:"zip"},{value:11,desc:"翻转",name:"bars3d"},{value:13,desc:"立方体",name:"cube"},{value:14,desc:"棋盘",name:"tiles3d"},{value:16,desc:"飞出",name:"explode"}],d=function(c){function a(l,o){j(this,a);var i=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,o));return i.intervalObj={},$.extend(!0,i.$ability,{style:{self:!0,compStyle:{backgroundColor:!0}},anim:!1,trigger:!1,sound:!1,link:!1}),i}return b(a,c),m(a,[{key:"updateSize",value:function(l,i){i.width&&i.height&&(this.flux.width=i.width,this.flux.height=i.height,this.$context.find(".fluxslider, .images, .image1, .image2").css({width:i.width,height:i.height}))}},{key:"create$context",value:function(){var F=this,J=this.compJson,B=J.id,D=J.type,A=J.properties;A=void 0===A?{}:A;var y=A.children,K=void 0===y?[]:y,H=A.bgColor,I=J.css,C=I.width,z=I.height,E=$('<div id="'+B+'" class="imageSlider element" ctype="'+D+'"></div>').css("background-color",H);if(K.length){var G=K.map(function(l){var u=l.width,e=l.height,s=l.src,p=q({imgW:u,imgH:e,containerW:C,containerH:z});return s=F.getImgSrc(s,{width:C,height:z}),$('<img src="'+s+'">').css(p)});E.append(G),this.deleteInterval(B),this.initFlux(E)}return E}},{key:"initFlux",value:function(F){var K=this,A=this.compJson,C=A.id,z=A.properties,s=z.autoPlay,I=void 0!==s&&s,H=z.interval,J=z.picStyle,B=A.css,y=B.width,D=B.height,G=B.bgColor,E=flux.slider;this.flux=new E(F,{autoplay:I,delay:H,pagination:!1,transitions:[x(J).name],width:y,height:D,bgColor:G,onStartEnd:function(i){return K.addInterval(C,i)}})}},{key:"bindAfterRenderEvent",value:function(){return !1}},{key:"addInterval",value:function(l,i){this.intervalObj[l]=i}},{key:"deleteInterval",value:function(i){this.intervalObj[i]&&(clearInterval(this.intervalObj[i]),delete this.intervalObj[i])}},{key:"clearInterval",value:function(){for(var i in this.intervalObj){this.deleteInterval(i)}}}]),a}(v);k.exports=d},function(b,a){window.flux={version:"1.4.4"},function(c){flux.slider=function(p,f){flux.browser.init(),flux.browser.supportsTransitions||window.console&&window.console.error&&console.error("Flux Slider requires a browser that supports CSS3 transitions");var h=this;this.element=c(p),this.transitions=[];for(var e in flux.transitions){this.transitions.push(e)}this.options=c.extend({autoplay:!0,transitions:this.transitions,delay:4000,pagination:!0,controls:!1,captions:!1,width:null,height:null,onTransitionEnd:null,onStartEnd:null,bgColor:""},f),this.height=this.options.height?this.options.height:null,this.width=this.options.width?this.options.width:null;var d=[];c(this.options.transitions).each(function(r,o){var s=new flux.transitions[o](this),l=!0;s.options.requires3d&&!flux.browser.supports3d&&(l=!1),s.options.compatibilityCheck&&(l=s.options.compatibilityCheck()),l&&d.push(o)}),this.options.transitions=d,this.images=[],this.imageLoadedCount=0,this.currentImageIndex=0,this.nextImageIndex=1,this.playing=!1,this.container=c('<div class="fluxslider"></div>').appendTo(this.element),this.surface=c('<div class="surface" style="position: relative"></div>').appendTo(this.container),this.container.bind("click",function(i){c(i.target).hasClass("hasLink")&&(window.location=c(i.target).data("href"))}),this.imageContainer=c('<div class="images loading1"></div>').css({position:"relative",overflow:"hidden"}).appendTo(this.surface),this.width&&this.height&&this.imageContainer.css({width:this.width+"px",height:this.height+"px"}),this.image1=c('<div class="image1" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),this.image2=c('<div class="image2" style="height: 100%; width: 100%"></div>').appendTo(this.imageContainer),c(this.image1).add(this.image2).css({position:"absolute",top:"0px",left:"0px"}),this.element.find("img, a img").each(function(i,u){var s=u.cloneNode(!1),l=c(u).parent();l.is("a")&&c(s).data("href",l.attr("href")),h.images.push(s),c(u).remove()});for(var q=0;q<this.images.length;q++){var k=new Image;k.onload=function(){h.imageLoadedCount++,h.width=h.width?h.width:this.width,h.height=h.height?h.height:this.height,h.imageLoadedCount>=h.images.length&&(h.finishedLoading(),h.setupImages())},k.src=this.images[q].src}this.element.bind("fluxTransitionEnd",function(l,i){h.options.onTransitionEnd&&(l.preventDefault(),h.options.onTransitionEnd(i))}),this.transitionEndLock=!1;var j={},m={},g=20;this.element.bind("mousedown touchstart",function(i){"touchstart"===i.type?j.left=i.originalEvent.touches[0].pageX:"mousedown"===i.type&&(j.left=i.pageX)}).bind("mouseup touchend",function(i){"touchend"===i.type?m.left=i.originalEvent.changedTouches[0].pageX:"mouseup"===i.type&&(m.left=i.pageX),m.left-j.left>g?h.prev(null,{direction:"right"}):j.left-m.left>g&&h.next(null,{direction:"left"}),h.options.autoplay&&(h.stop(),h.start())})},flux.slider.prototype={constructor:flux.slider,playing:!1,start:function(){var d=this;this.playing=!0,this.transitionEndLock=!1,this.interval=setInterval(function(){!d.transitionEndLock&&d.transition()},this.options.delay),"function"==typeof this.options.onStartEnd&&this.options.onStartEnd(this.interval)},stop:function(){this.playing=!1,clearInterval(this.interval),this.interval=null},isPlaying:function(){return this.playing},next:function(f,d){d=d||{},d.direction="left",this.showImage(this.currentImageIndex+1,f,d)},prev:function(f,d){d=d||{},d.direction="right",this.showImage(this.currentImageIndex-1,f,d)},showImage:function(f,d,g){this.setNextIndex(f),this.setupImages(),this.transition(d,g)},finishedLoading:function(){var e=this;if(this.container.css({width:this.width+"px",height:this.height+"px"}),this.imageContainer.removeClass("loading1"),this.options.pagination&&(this.pagination=c('<ul class="pagination"></ul>').css({margin:"0px",padding:"0px","text-align":"center"}),this.pagination.bind("click",function(g){g.preventDefault(),e.showImage(c(g.target).data("index"))}),c(this.images).each(function(j,g){var h=c('<li data-index="'+j+'">'+(j+1)+"</li>").css({display:"inline-block","margin-left":"0.5em",cursor:"pointer"}).appendTo(e.pagination);0==j&&h.css("margin-left",0).addClass("current")}),this.container.append(this.pagination)),c(this.imageContainer).css({width:this.width+"px",height:this.height+"px"}),c(this.image1).css({width:this.width+"px",height:this.height+"px"}),c(this.image2).css({width:this.width+"px",height:this.height+"px"}),this.container.css({width:this.width+"px",height:this.height+(this.options.pagination?this.pagination.height():0)+"px"}),this.options.controls){var f={padding:"4px 10px 10px","font-size":"60px","font-family":"arial, sans-serif","line-height":"1em","font-weight":"bold",color:"#FFF","text-decoration":"none",background:"rgba(0,0,0,0.5)",position:"absolute","z-index":2000};this.nextButton=c('<a href="#">»</a>').css(f).css3({"border-radius":"4px"}).appendTo(this.surface).bind("click",function(g){g.preventDefault(),e.next()}),this.prevButton=c('<a href="#">«</a>').css(f).css3({"border-radius":"4px"}).appendTo(this.surface).bind("click",function(g){g.preventDefault(),e.prev()});var d=(this.height-this.nextButton.height())/2;this.nextButton.css({top:d+"px",right:"10px"}),this.prevButton.css({top:d+"px",left:"10px"})}this.options.captions&&(this.captionBar=c('<div class="caption"></div>').css({background:"rgba(0,0,0,0.6)",color:"#FFF","font-size":"16px","font-family":"helvetica, arial, sans-serif","text-decoration":"none","font-weight":"bold",padding:"1.5em 1em",opacity:0,position:"absolute","z-index":110,width:"100%",bottom:0}).css3({"transition-property":"opacity","transition-duration":"800ms","box-sizing":"border-box"}).prependTo(this.surface)),this.updateCaption()},setupImages:function(){var d=this.getImage(this.currentImageIndex),e={background:'url("'+d.src+'") 50% 50% / contain no-repeat '+this.options.bgColor,zIndex:101,cursor:"auto"};c(d).data("href")?(e.cursor="pointer",this.image1.addClass("hasLink"),this.image1.data("href",c(d).data("href"))):(this.image1.removeClass("hasLink"),this.image1.data("href",null)),this.image1.css(e).children().remove(),this.image2.css({background:'url("'+this.getImage(this.nextImageIndex).src+'") 50% 50% / contain no-repeat '+this.options.bgColor,zIndex:100,display:"none"}),this.options.pagination&&this.pagination&&(this.pagination.find("li.current").removeClass("current"),c(this.pagination.find("li")[this.currentImageIndex]).addClass("current"))},transition:function(e,j){if(void 0==e||!flux.transitions[e]){var d=Math.floor(Math.random()*this.options.transitions.length);e=this.options.transitions[d]}var h=null;try{h=new flux.transitions[e](this,c.extend(this.options[e]?this.options[e]:{},j))}catch(g){var f=flux.transition;h=new f(this,{fallback:!0})}h.run(),this.currentImageIndex=this.nextImageIndex,this.setNextIndex(this.currentImageIndex+1),this.updateCaption()},updateCaption:function(){var d=c(this.getImage(this.currentImageIndex)).attr("title");this.options.captions&&this.captionBar&&(""!==d&&this.captionBar.html(d),this.captionBar.css("opacity",""===d?0:1))},getImage:function(d){return d%=this.images.length,this.images[d]},setNextIndex:function(d){void 0==d&&(d=this.currentImageIndex+1),this.nextImageIndex=d,this.nextImageIndex>this.images.length-1&&(this.nextImageIndex=0),this.nextImageIndex<0&&(this.nextImageIndex=this.images.length-1)},increment:function(){this.currentImageIndex++,this.currentImageIndex>this.images.length-1&&(this.currentImageIndex=0)}}}(window.jQuery||window.Zepto),function(c){flux.browser={init:function(){if(void 0===flux.browser.supportsTransitions){var e=["-webkit","-moz","-o","-ms"];if(window.Modernizr&&void 0!==window.Modernizr.csstransitions?flux.browser.supportsTransitions=window.Modernizr.csstransitions:flux.browser.supportsTransitions=this.supportsCSSProperty("Transition"),window.Modernizr&&void 0!==window.Modernizr.csstransforms3d){flux.browser.supports3d=window.Modernizr.csstransforms3d}else{if(flux.browser.supports3d=this.supportsCSSProperty("Perspective"),flux.browser.supports3d&&"webkitPerspective" in c("body").get(0).style){var f=c('<div id="csstransform3d"></div>'),d=c('<style media="(transform-3d), ('+e.join("-transform-3d),(")+'-transform-3d)">div#csstransform3d { position: absolute; left: 9px }</style>');c("body").append(f),c("head").append(d),flux.browser.supports3d=9==f.get(0).offsetLeft,f.remove(),d.remove()}}}},supportsCSSProperty:function(g){for(var f=document.createElement("div"),j=["Webkit","Moz","O","Ms"],d=!1,h=0;h<j.length;h++){j[h]+g in f.style&&(d=d||!0)}return d},translate:function(f,d,g){return f=void 0!=f?f:0,d=void 0!=d?d:0,g=void 0!=g?g:0,"translate"+(flux.browser.supports3d?"3d(":"(")+f+"px,"+d+(flux.browser.supports3d?"px,"+g+"px)":"px)")},rotateX:function(d){return flux.browser.rotate("x",d)},rotateY:function(d){return flux.browser.rotate("y",d)},rotateZ:function(d){return flux.browser.rotate("z",d)},rotate:function(f,d){return f in {x:"",y:"",z:""}||(f="z"),d=void 0!=d?d:0,flux.browser.supports3d?"rotate3d("+("x"==f?"1":"0")+", "+("y"==f?"1":"0")+", "+("z"==f?"1":"0")+", "+d+"deg)":"z"==f?"rotate("+d+"deg)":""}},c(function(){flux.browser.init()})}(window.jQuery||window.Zepto),function(c){c.fn.css3=function(g){var f={},j=["webkit","moz","ms","o"];for(var d in g){for(var h=0;h<j.length;h++){f["-"+j[h]+"-"+d]=g[d]}f[d]=g[d]}return this.css(f),this},c.fn.transitionEnd=function(e){for(var f=["webkitTransitionEnd","transitionend","oTransitionEnd"],d=0;d<f.length;d++){this.bind(f[d],function(g){for(var h=0;h<f.length;h++){c(this).unbind(f[h])}e&&e.call(this,g)})}return this},flux.transition=function(e,f){if(this.options=c.extend({requires3d:!1,after:function(){}},f),this.slider=e,this.options.requires3d&&!flux.browser.supports3d||!flux.browser.supportsTransitions||this.options.fallback===!0){var d=this;this.options.after=void 0,this.options.setup=function(){d.fallbackSetup()},this.options.execute=function(){d.fallbackExecute()}}},flux.transition.prototype={constructor:flux.transition,hasFinished:!1,run:function(){var d=this;void 0!==this.options.setup&&this.options.setup.call(this),this.slider.image1.css({"background-image":"none"}),this.slider.imageContainer.css("overflow",this.options.requires3d?"visible":"hidden"),setTimeout(function(){void 0!==d.options.execute&&d.slider.image1.css("background-color",""),d.options.execute.call(d),d.slider.options.autoplay&&(d.slider.transitionEndLock=!0)},5)},finished:function(){this.hasFinished||(this.hasFinished=!0,this.options.after&&this.options.after.call(this),this.slider.imageContainer.css("overflow","hidden"),this.slider.setupImages(),this.slider.element.trigger("fluxTransitionEnd",{currentImage:this.slider.getImage(this.slider.currentImageIndex)}),this.slider.options.autoplay&&(this.slider.transitionEndLock=!1))},fallbackSetup:function(){},fallbackExecute:function(){this.finished()}},flux.transitions={},flux.transition_grid=function(e,f){var d=flux.transition;return new d(e,c.extend({columns:10,rows:10,forceSquare:!1,setup:function(){var w=this.slider.image1.width(),C=this.slider.image1.height(),F=Math.floor(w/this.options.columns),B=Math.floor(C/this.options.rows);this.options.forceSquare&&(B=F,this.options.rows=Math.floor(C/B));for(var z=w-this.options.columns*F,x=Math.ceil(z/this.options.columns),L=C-this.options.rows*B,K=Math.ceil(L/this.options.rows),q=0,E=0,A=document.createDocumentFragment(),G=0;G<this.options.columns;G++){var J=F;if(E=0,z>0){var I=z>=x?x:z;J+=I,z-=I}for(var H=0;H<this.options.rows;H++){var k=B,D=L;D>0&&(I=D>=K?K:D,k+=I,D-=I);var j=c('<div class="tile tile-'+G+"-"+H+'"></div>').css({width:J+"px",height:k+"px",position:"absolute",top:E+"px",left:q+"px",overflow:"hidden"}).append("<div></div>");this.options.renderTile.call(this,j,G,H,J,k,q,E),A.appendChild(j.get(0)),E+=k}q+=J}this.slider.image1.get(0).appendChild(A)},execute:function(){var h=this,g=this.slider.image1.height(),i=this.slider.image1.find("div.barcontainer");this.slider.image2.hide(),i.last().transitionEnd(function(j){h.slider.image2.show(),h.finished()}),i.css3({transform:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,g/2,g/2)})},renderTile:function(l,h,p,g,m,k,j){}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.bars=function(e,f){var d=flux.transition_grid;return new d(e,c.extend({columns:10,rows:1,delayBetweenBars:40,renderTile:function(j,p,h,m,l,k,g){c(j).children().css({position:"absolute",top:-g+"px",left:-k+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"400ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":p*this.options.delayBetweenBars+"ms"})},execute:function(){var h=this,j=this.slider.image1.height(),g=this.slider.image1.find("div.tile");c(g[g.length-1]).transitionEnd(function(){h.finished()}),setTimeout(function(){g.css({opacity:"0.5"}).css3({transform:flux.browser.translate(0,j)})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.bars3d=function(e,f){var d=flux.transition_grid;return new d(e,c.extend({requires3d:!0,columns:7,rows:1,delayBetweenBars:150,perspective:1000,renderTile:function(A,m,v,k,g,B,y){var x=c('<div class="bar-'+m+'"></div>').css({width:k+"px",height:"100%",position:"absolute",top:"0px",left:"0px","z-index":200,overflow:"hidden"}).css3({"backface-visibility":"hidden"}),z=c("<div></div>").css({position:"absolute",top:-y+"px",left:-B+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).appendTo(x),q=c(x.get(0).cloneNode(!1)).css3({transform:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-g/2,g/2)});c(z.get(0).cloneNode(!1)).css({"background-image":this.slider.image2.css("background-image")}).appendTo(q);var j=c('<div class="side bar-'+m+'"></div>').css({width:g+"px",height:g+"px",position:"absolute",top:"0px",left:"0px",background:"#222","z-index":190}).css3({transform:flux.browser.rotateY(90)+" "+flux.browser.translate(g/2,0,-g/2)+" "+flux.browser.rotateY(180),"backface-visibility":"hidden"}),w=c(j.get(0).cloneNode(!1)).css3({transform:flux.browser.rotateY(90)+" "+flux.browser.translate(g/2,0,k-g/2)});c(A).empty().css({overflow:"visible",width:k+"px",height:"100%",position:"absolute",top:"0px",left:B+"px","z-index":m>this.options.columns/2?1000-m:1000}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"all","transition-delay":m*this.options.delayBetweenBars+"ms","transform-style":"preserve-3d"}).append(x).append(q).append(j).append(w)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).css({"-moz-transform":"perspective("+this.options.perspective+"px)","-moz-perspective":"none","-moz-transform-style":"preserve-3d"});var h=this,g=this.slider.image1.height(),i=this.slider.image1.find("div.tile");this.slider.image2.hide(),i.last().transitionEnd(function(j){h.slider.image1.css3({"transform-style":"flat"}),h.slider.image2.show(),h.finished()}),setTimeout(function(){i.css3({transform:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,g/2,g/2)})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.blinds=function(e,f){var d=flux.transitions.bars;return new d(e,c.extend({execute:function(){var g=this,h=this.slider.image1.find("div.tile");c(h[h.length-1]).transitionEnd(function(){g.finished()}),setTimeout(function(){h.css({opacity:"0.5"}).css3({transform:"scalex(0.0001)"})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.zip=function(e,f){var d=flux.transitions.bars;return new d(e,c.extend({execute:function(){var h=this,j=this.slider.image1.height(),g=this.slider.image1.find("div.tile");c(g[g.length-1]).transitionEnd(function(){h.finished()}),setTimeout(function(){g.each(function(l,k){c(k).css({opacity:"0.3"}).css3({transform:flux.browser.translate(0,l%2?"-"+2*j:j)})})},20)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.blocks=function(e,f){var d=flux.transition_grid;return new d(e,c.extend({forceSquare:!0,delayBetweenBars:100,renderTile:function(j,q,h,m,l,k,g){var p=Math.floor(10*Math.random()*this.options.delayBetweenBars);c(j).children().css({position:"absolute",top:-g+"px",left:-k+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"350ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":p+"ms"}),void 0===this.maxDelay&&(this.maxDelay=0),p>this.maxDelay&&(this.maxDelay=p,this.maxDelayTile=j)},execute:function(){var g=this,h=this.slider.image1.find("div.tile");this.maxDelayTile.transitionEnd(function(){g.finished()}),setTimeout(function(){h.each(function(i,j){c(j).css({opacity:"0"}).css3({transform:"scale(0.8)"})})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.blocks2=function(e,f){var d=flux.transition_grid;return new d(e,c.extend({cols:12,forceSquare:!0,delayBetweenDiagnols:150,renderTile:function(j,p,h,m,l,k,g){c(j).children().css({position:"absolute",top:-g+"px",left:-k+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"350ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":(p+h)*this.options.delayBetweenDiagnols+"ms","backface-visibility":"hidden"})},execute:function(){var g=this,h=this.slider.image1.find("div.tile");h.last().transitionEnd(function(){g.finished()}),setTimeout(function(){h.each(function(i,j){c(j).css({opacity:"0"}).css3({transform:"scale(0.8)"})})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.cube=function(e,f){var d=flux.transition;return new d(e,c.extend({requires3d:!0,barWidth:100,direction:"left",perspective:1000,setup:function(){var h=this.slider.image1.width(),l=this.slider.image1.height();this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}),this.cubeContainer=c('<div class="cube"></div>').css({width:h+"px",height:l+"px",position:"relative"}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"all","transform-style":"preserve-3d"});var g={height:"100%",width:"100%",position:"absolute",top:"0px",left:"0px"},k=c('<div class="face current"></div>').css(c.extend(g,{background:this.slider.image1.css("background")})).css3({"backface-visibility":"hidden"});this.cubeContainer.append(k);var j=c('<div class="face next"></div>').css(c.extend(g,{backgroundImage:this.slider.image2.css("background-image")})).css3({transform:this.options.transitionStrings.call(this,this.options.direction,"nextFace"),"backface-visibility":"hidden"});this.cubeContainer.append(j),this.slider.image1.append(this.cubeContainer)},execute:function(){var g=this;this.slider.image2.hide(),this.cubeContainer.transitionEnd(function(){g.slider.image2.show(),g.finished()}),setTimeout(function(){g.cubeContainer.css3({transform:g.options.transitionStrings.call(g,g.options.direction,"container")})},50)},transitionStrings:function(j,h){var l=this.slider.image1.width(),g=this.slider.image1.height(),k={up:{nextFace:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,g/2,g/2),container:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-g/2,g/2)},down:{nextFace:flux.browser.rotateX(90)+" "+flux.browser.translate(0,-g/2,g/2),container:flux.browser.rotateX(-90)+" "+flux.browser.translate(0,g/2,g/2)},left:{nextFace:flux.browser.rotateY(90)+" "+flux.browser.translate(l/2,0,l/2),container:flux.browser.rotateY(-90)+" "+flux.browser.translate(-l/2,0,l/2)},right:{nextFace:flux.browser.rotateY(-90)+" "+flux.browser.translate(-l/2,0,l/2),container:flux.browser.rotateY(90)+" "+flux.browser.translate(l/2,0,l/2)}};return !(!k[j]||!k[j][h])&&k[j][h]}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.tiles3d=function(e,f){var d=flux.transition_grid;return new d(e,c.extend({requires3d:!0,forceSquare:!0,columns:5,perspective:600,delayBetweenBarsX:200,delayBetweenBarsY:150,renderTile:function(q,j,k,h,g,v,m){var l=c("<div></div>").css({width:h+"px",height:g+"px",position:"absolute",top:"0px",left:"0px",background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":"-"+v+"px -"+m+"px","background-repeat":"no-repeat","-moz-transform":"translateZ(1px)"}).css3({"backface-visibility":"hidden"}),p=c(l.get(0).cloneNode(!1)).css({"background-image":this.slider.image2.css("background-image")}).css3({transform:flux.browser.rotateY(180),"backface-visibility":"hidden"});c(q).empty().css({overflow:"visible","z-index":(j>this.options.columns/2?500-j:500)+(k>this.options.rows/2?500-k:500)}).css3({"transition-duration":"800ms","transition-timing-function":"ease-out","transition-property":"all","transition-delay":j*this.options.delayBetweenBarsX+k*this.options.delayBetweenBarsY+"ms","transform-style":"preserve-3d"}).append(l).append(p)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"});var h=this,g=this.slider.image1.find("div.tile");this.slider.image2.hide(),g.last().transitionEnd(function(i){h.slider.image2.show(),h.finished()}),setTimeout(function(){g.css3({transform:flux.browser.rotateY(180)})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.turn=function(e,f){var d=flux.transition;return new d(e,c.extend({requires3d:!0,perspective:1300,direction:"left",setup:function(){var h=c('<div class="tab"></div>').css({width:"50%",height:"100%",position:"absolute",top:"0px",left:"left"===this.options.direction?"50%":"0%","z-index":101}).css3({"transform-style":"preserve-3d","transition-duration":"1000ms","transition-timing-function":"ease-out","transition-property":"all","transform-origin":"left"==this.options.direction?"left center":"right center"});c("<div></div>").appendTo(h).css({background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"==this.options.direction?"-"+this.slider.image1.width()/2:0)+"px 0",width:"100%",height:"100%",position:"absolute",top:"0",left:"0","-moz-transform":"translateZ(1px)"}).css3({"backface-visibility":"hidden"}),c("<div></div>").appendTo(h).css({background:this.slider.image2.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"===this.options.direction?0:"-"+this.slider.image1.width()/2)+"px 0",width:"100%",height:"100%",position:"absolute",top:"0",left:"0"}).css3({transform:flux.browser.rotateY(180),"backface-visibility":"hidden"});var k=c("<div></div>").css({position:"absolute",top:"0",left:"left"===this.options.direction?"0":"50%",width:"50%",height:"100%",background:this.slider.image1.css("background"),"background-size":this.slider.width+"px "+this.slider.height+"px","background-position":("left"===this.options.direction?0:"-"+this.slider.image1.width()/2)+"px 0","z-index":100}),g=c('<div class="overlay"></div>').css({position:"absolute",top:"0",left:"left"===this.options.direction?"50%":"0",width:"50%",height:"100%",background:"#000",opacity:1}).css3({"transition-duration":"800ms","transition-timing-function":"linear","transition-property":"opacity"}),j=c("<div></div>").css3({width:"100%",height:"100%"}).css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).append(h).append(k).append(g);this.slider.image1.append(j)},execute:function(){var g=this;this.slider.image1.find("div.tab").first().transitionEnd(function(){g.finished()}),setTimeout(function(){g.slider.image1.find("div.tab").css3({transform:flux.browser.rotateY("left"==g.options.direction?-179:179)}),g.slider.image1.find("div.overlay").css({opacity:0})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.slide=function(e,f){var d=flux.transition;return new d(e,c.extend({direction:"left",setup:function(){var h=this.slider.image1.width(),k=this.slider.image1.height(),g=c('<div class="current"></div>').css({height:k+"px",width:h+"px",position:"absolute",top:"0px",left:"0px",background:this.slider["left"===this.options.direction?"image1":"image2"].css("background")}).css3({"backface-visibility":"hidden"}),j=c('<div class="next"></div>').css({height:k+"px",width:h+"px",position:"absolute",top:"0px",left:h+"px",background:this.slider["left"===this.options.direction?"image2":"image1"].css("background")}).css3({"backface-visibility":"hidden"});this.slideContainer=c('<div class="slide"></div>').css({width:2*h+"px",height:k+"px",position:"relative",left:"left"===this.options.direction?"0px":-h+"px","z-index":101}).css3({"transition-duration":"600ms","transition-timing-function":"ease-in","transition-property":"all"}),this.slideContainer.append(g).append(j),this.slider.image1.append(this.slideContainer)},execute:function(){var h=this,g=this.slider.image1.width();"left"===this.options.direction&&(g=-g),this.slideContainer.transitionEnd(function(){h.finished()}),setTimeout(function(){h.slideContainer.css3({transform:flux.browser.translate(g)})},50)}},f))}}(window.jQuery||window.Zepto),function(c){flux.transitions.explode=function(e,f){var d=flux.transition_grid;return new d(e,c.extend({columns:10,forceSquare:!0,delayBetweenBars:30,perspective:800,requires3d:!0,renderTile:function(j,q,h,m,l,k,g){var p=Math.floor(10*Math.random()*this.options.delayBetweenBars);c(j).children().css({position:"absolute",top:-g+"px",left:-k+"px",width:this.slider.width+"px ",height:this.slider.height+"px",background:this.slider.image1.css("background")}).parent().css3({"transition-duration":"500ms","transition-timing-function":"ease-in","transition-property":"all","transition-delay":p+"ms"}),void 0===this.maxDelay&&(this.maxDelay=0),p>this.maxDelay&&(this.maxDelay=p,this.maxDelayTile=j)},execute:function(){this.slider.image1.css3({perspective:this.options.perspective,"perspective-origin":"50% 50%"}).css({"-moz-transform":"perspective("+this.options.perspective+"px)","-moz-perspective":"none","-moz-transform-style":"preserve-3d"});var g=this,h=this.slider.image1.find("div.tile");this.maxDelayTile.transitionEnd(function(){g.slider.image1.css3({"transform-style":"flat"}),g.finished()}),setTimeout(function(){h.each(function(i,j){c(j).css({opacity:"0"}).css3({transform:flux.browser.translate(0,0,700)+" rotate3d("+(Math.round(2*Math.random())-1)+", "+(Math.round(2*Math.random())-1)+", "+(Math.round(2*Math.random())-1)+", 90deg) "})})},50)}},f))}}(window.jQuery||window.Zepto)},function(v,A,j){function m(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function g(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function B(a){return new Promise(function(d,c){j.e(9,function(){var h=j(155),e=h[a];/^<path.*>$/.test(e)?d(e):c(a+" does not match <path />")})})}var y=function(){function a(h,d){for(var l=0;l<d.length;l++){var c=d[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),x=j(37).$getSvg,z=j(153),k=j(154),f=j(113),q="http://www.w3.org/2000/svg",w=(j(22).openUrl,function(c){function a(h,i){m(this,a);var d=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,h,i));return $.extend(!0,d.$ability,{style:{base:{lineHeight:!1,color:!1,paddingTop:!1},compStyle:{backgroundColor:!0}}}),d}return b(a,c),y(a,[{key:"create$context",value:function(){var M=this.compJson;this.$contentsDiv.css({position:"relative"});var D=M.id,H=M.properties,J=H.viewBox,G=void 0===J?"0 0 64 64":J,E=H.type,Q=void 0===E?"":E,F=H.src,N=H.items,L=M.css.color,K=void 0===L?"#555":L;if(F){var C=document.createElementNS(q,"svg");return C.setAttribute("class","element svg-element"),x(F).then(function(P){var T=P.getElementsByTagName("svg"),t=T[0].viewBox.baseVal,d=parseFloat($(T).attr("width"))||t.width,aa=parseFloat($(T).attr("height"))||t.height,Y=$(T).find("[fill], [style*='fill']")||[];if(N){if(Y.length==N.length){for(var X=0;X<N.length;X++){Y.eq(X).css({fill:N[X].fill})}}else{$.each(Y,function(ab,r){for(var ad=0;ad<N.length;ad++){for(var p=N[ad].elements||[],ac=0;ac<p.length;ac++){ab==p[ac]&&(""!=N[ad].fill?Y.eq(ab).css({fill:N[ad].fill}):Y.eq(ab).css({fill:"none"}))}}})}}else{var Z=[],S={};$.each(Y,function(ad,ab){var af=$(ab).attr("style");if(af){for(var p=af.split(";")||[],ae=0,ac=p.length;ae<ac;ae++){if(p[ae].includes("fill:")){Z.push(p[ae].split(":")[1]);break}}}else{Z.push($(ab).attr("fill"))}});for(var e=0;e<Z.length;e++){S[Z[e]]||(S[Z[e]]=1,"none"!=Z[e]?N.push({fill:Z[e],svgFill:Z[e]}):N.push({fill:"",svgFill:"none"}))}for(var U=0;U<N.length;U++){var W=[];$.each(Y,function(ae,ab){var ag,p=$(ab).attr("style");if(p){for(var af=p.split(";"),ad=0,ac=af.length;ad<ac;ad++){if(af[ad].includes("fill:")){ag=af[ad].split(":")[1];break}}}else{ag=$(ab).attr("fill")}ag==N[U].svgFill&&W.push(ae)}),N[U].elements=W}M.properties.items=N}var V="0 0 "+d+" "+aa,R=C.parentNode;R.removeChild(C),C=T[0],R.appendChild(C),C.setAttribute("viewBox",V),C.setAttribute("preserveAspectRatio","none"),C.setAttribute("width","100%"),C.setAttribute("height","100%"),C.id=D,C.setAttribute("class","element svg-element")})["catch"](function(){var d;return(d=console).error.apply(d,arguments)}),$(C)}var I=G.split(" "),l=I[2]||64,O=I[3]||64;if(Q.includes("symbols")){var s=$(k.svg({id:D,viewBox:G}))[0];return B(Q.replace(/^symbols-/,"")).then(function(d){s.innerHTML=k.g({id:D,color:K,path:d})})["catch"](function(){var d;(d=console).error.apply(d,arguments)}),$(s)}var u=Q.replace(/-([a-z])/g,function(i,d){return d.toUpperCase()});if(z[u]){var h=$(z[u](l,O)).attr("fill",K);return $(k.svg({id:D,viewBox:G,content:h[0].outerHTML}))}console.error("shape#"+D+" does not match any!")}},{key:"updateTurnOver",value:function(d){this.$boxContentDiv.css("transform",d)}}]),a}(f));v.exports=w},function(G,k){function z(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function C(c){for(var a=[];c.length>=2;){a.push(c.shift()+","+c.shift())}return a.join(" ")}function y(d,c){var a=z("rect");return a.setAttribute("width",d),a.setAttribute("height",c),a}function w(d,c){var a=z("ellipse");return a.setAttribute("rx",d/2),a.setAttribute("ry",c/2),a.setAttribute("cx",d/2),a.setAttribute("cy",c/2),a}function q(c,a){var d=z("polygon");return d.setAttribute("points",C([c/2,0,c,a,0,a])),d}function J(c,a){var d=z("polygon");return d.setAttribute("points",C([0,0,c,0,c/2,a])),d}function I(c,a){var d=z("polygon");return d.setAttribute("points",C([0,a/2,c,0,c,a])),d}function j(c,a){var d=z("polygon");return d.setAttribute("points",C([c,a/2,0,a,0,0])),d}function B(c,a){var d=z("polygon");return d.setAttribute("points",C([0.5*c,0,c,0.5*a,0.7*c,0.5*a,0.7*c,a,0.3*c,a,0.3*c,0.5*a,0,0.5*a,0.5*c,0])),d}function x(c,a){var d=z("polygon");return d.setAttribute("points",C([0.5*c,a,c,0.5*a,0.7*c,0.5*a,0.7*c,0,0.3*c,0,0.3*c,0.5*a,0,0.5*a,0.5*c,a])),d}function D(c,a){var d=z("polygon");return d.setAttribute("points",C([c,0.3*a,0.5*c,0.3*a,0.5*c,0,0,0.5*a,0.5*c,a,0.5*c,0.7*a,c,0.7*a,c,0.3*a])),d}function H(c,a){var d=z("polygon");return d.setAttribute("points",C([0,0.3*a,0.5*c,0.3*a,0.5*c,0,c,0.5*a,0.5*c,a,0.5*c,0.7*a,0,0.7*a])),d}function F(i,K,g){var d=z("polygon"),L=[];if(3===g){L=[i/2,0,i,K,0,K]}else{if(g>3){for(var n=i/2,m=K/2,v=0;g>v;v++){var h=n+n*Math.cos(2*Math.PI*v/g),f=m+m*Math.sin(2*Math.PI*v/g);h=Math.round(10*h)/10,f=Math.round(10*f)/10,L.push(h),L.push(f)}}}return d.setAttribute("points",C(L)),d}function E(c,a){return F(c,a,4)}function b(c,a){return F(c,a,8)}G.exports={rect:y,ellipse:w,circle:w,triangleUp:q,triangleDown:J,triangleLeft:I,triangleRight:j,arrowUp:B,arrowDown:x,arrowLeft:D,arrowRight:H,diamond:E,octagon:b};var A=z("rect");A.attr=A.setAttribute},function(c,b){function f(j){var h=j.color,k=j.id,g=j.path;return'<g fill="'+h+'" id="path_'+k+'">'+g+"</g>"}function a(k){var h=k.id,l=k.viewBox,g=k.content,j=void 0===g?"":g;return'\n<svg id="'+h+'" class="element svg-element" xmlns="'+d+'" version="1.1" width="100%"\n     height="100%" preserveAspectRatio="none" viewBox="'+l+'">\n    '+j+"\n</svg>"}var d="http://www.w3.org/2000/svg";c.exports={g:f,svg:a}},,function(G,k,z){function C(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function y(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function w(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var q=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),J=function A(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:A(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}},I=z(157),j=z(113),B=z(159),x=z(161),D=z(40).parse,H=z(79).bigDataXBData,F=z(23).mobilecheck,E={POP:0,INLINE:1},b=function(c){function a(f,g){C(this,a);var d=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return d.bgm=d.eqxScene.bgm,d.$close=null,d.$video=null,$.extend(!0,d.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1,flexLine:"r,ne,se,sw,nw"}),d}return w(a,c),q(a,[{key:"create$context",value:function(){var m=this.compJson,g=m.id,u=m.type,f=m.properties.cover,p=m.css,l=p.width,h=p.height;if(f){f=this.getImgSrc(f,{width:l,height:h});var d=$(D(B,{id:g,type:u,cover:f}))}else{d=$(D(x,{id:g,type:u}))}return d.css({height:h,width:l}),d}},{key:"addClassToLi",value:function(d){d.addClass("wsite-video")}},{key:"eleHide",value:function(){J(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleHide",this).call(this),this.hide()}},{key:"update",value:function(d){switch(d.type){case"hide":this.hide()}}},{key:"bindAfterRenderEvent",value:function(g,f){var h=this,d=f.properties.style;return g.click(function(){switch(h.eqxPage.eqxScene.config.disableBigData||H(window.scene.id,4,null,2,"视频播放"),h._isPlayingVideo=!0,h.bgm&&h.bgm.hide&&h.bgm.hide(),h.eqxScene.soundManager.stopAll(),d){case E.INLINE:h.initInlineVideo();break;case E.POP:default:h.initPopVideo()}}),!0}},{key:"initInlineVideo",value:function(){var g=this.compJson,f=g.properties.src,h=g.css;f=f.replace(/('|")?allowfullscreen\1(=('|")?\3)?/,"");var d=this.$iframe=$(f).css({width:h.width,height:h.height,zIndex:3,position:"fixed",top:0});F()||d.css("position","absolute"),$(this.context).find("img").css("display","none"),this.$li.find(".inline-video").append(d)}},{key:"initPopVideo",value:function(){var p=this,L=this.compJson,g=L.id,m=L.properties.src,f=this.$li;f.hide();var d=f.parent().css("transform").match(/-?[\d.]+/g)||f.parents(".edit_wrapper").css("transform").match(/-?[\d.]+/g),M=0;d&&(M=-parseInt(d[5]));var v=this.$video=$(I.videoDiv(g));F()||v.css("position","absolute");var K=this.$close=$(I.close(g)),h=$(m).css({position:"absolute",top:"20%",width:"100%",minHeight:"45%",maxHeight:"100%"}).removeAttr("height");v.append(h),f.parent().append(v,K),v.css({top:M}),K.css({top:M+15}),K.bind("click",function(){p.hide()})}},{key:"hide",value:function(){if(this._isPlayingVideo){this._isPlayingVideo=!1,this.bgm&&this.bgm.show&&this.bgm.show(),this.eqxScene.soundManager.restoreAll();var f=this.compJson.properties.style,d=void 0===f?0:f;switch(d){case E.INLINE:this.$iframe&&(this.$iframe.remove(),this.$iframe=null);break;case E.POP:this.$close&&(this.$li.show(),this.$close.unbind("click"),this.$video.remove(),this.$close.remove(),this.$video=null,this.$close=null)}}}}]),a}(j);b.STYLE=E,G.exports=b},function(d,b,g){function a(i){var h=i.id,j=i.type;return'<a class="element video_area" id="'+h+'" ctype="'+j+'" style="width:100%;height:100%;"></a>'}function f(h){return'<div class="video_mask page_effect lock" id="mask_'+h+'"></div>'}function c(h){return'<a class="close_mask eqf-wrong" id="close_'+h+'"></a>'}g(158),d.exports={compDiv:a,videoDiv:f,close:c}},function(b,a){},function(b,a,c){b.exports='<div class="inline-video" id="#{id}" ctype="#{type}"><img class="cover" alt="video-cover" src="#{cover}"> <img class="center play" src="'+c(160)+'" alt="video-play-button"></div>'},function(b,a,c){b.exports=c.p+"images/play-a830cb.svg"},function(b,a){b.exports='<a class="element video_area" id="#{id}" ctype="#{type}" style="width:100%;height:100%"></a>'},function(v,A,j){function m(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function g(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var B=function(){function a(h,d){for(var l=0;l<d.length;l++){var c=d[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),y=function w(h,c,p){null===h&&(h=Function.prototype);var a=Object.getOwnPropertyDescriptor(h,c);if(void 0===a){var l=Object.getPrototypeOf(h);return null===l?void 0:w(l,c,p)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(p)}},x=j(113),z=j(163),k=j(76).getWxJSSDK,f=j(23).isWeixin,q=(j(115),function(c){function a(h,i){m(this,a);var d=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,h,i));return $.extend(!0,d.$ability,{style:{commonStyle:{self:!1},advanceStyle:{self:!1}},anim:!1,trigger:!1,sound:!1,link:!1}),d.wxJssdk=k(),d}return b(a,c),B(a,[{key:"updateSize",value:function(d,h){y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateSize",this).call(this,d,h),this.$context.css({width:h.width,height:h.height})}},{key:"create$context",value:function(){var l=this.compJson,h=l.css,r=h.width,d=h.height;this.$source=$('<source type="video/mp4">');var p=$('<video webkit-playsinline playsinline width="'+r+'" height="'+d+'" poster="'+z+'"></video>');return p.append(this.$source),p}},{key:"eleShow",value:function(){y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleShow",this).call(this),"1"===this.compJson.autoplay.toString()&&this.playVideo()}},{key:"eleHide",value:function(){y(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleHide",this).call(this),this.$context[0].pause(),this.$li.hide(),this.interactiveVideoAgent&&this.interactiveVideoAgent.end()}},{key:"playVideo",value:function(){var h=this.interactiveVideoAgent;if(this.compJson.src&&this.$source.attr("src")){try{this.$li.show();var d=this.$context[0];d.currentTime=0,f()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){h.play()}})}):h.play()}catch(i){this.$li.hide()}}}},{key:"bindAfterRenderEvent",value:function(h,d){return d.src&&this.$source.attr("src",d.src),this.$boxDiv.css({borderWidth:0}),this.$li.hide(),!0}}]),a}(x));v.exports=q},function(b,a,c){b.exports=c.p+"images/play-32e9c9.png"},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var z=function(){function a(l,h){for(var o=0;o<h.length;o++){var c=h[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(e,h,c){return h&&a(e.prototype,h),c&&a(e,c),e}}();g(165);var w=g(166).$postDialRecord,v=g(167),x=g(125).isPhoneNumber,j=g(113),d=g(79).bigDataXBData,m=function(c){function a(i,l){k(this,a);var h=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l));return $.extend(!0,h.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),h}return b(a,c),z(a,[{key:"create$context",value:function(){var F=this.compJson,I=F.id,C=F.type,E=F.css,B=E.width,h=E.height,J=F.properties,G=J.title,H=J.imgSrc,D=J.number;if(H){H=this.getImgSrc(H,{width:B,height:h});var A="0"}return this.$context=$(v.compDiv({id:I,title:G,type:C,imgSrc:H,number:D,padding:A})),this.$context}},{key:"updateBtnTitle",value:function(h){this.compJson.properties.imgSrc||(this.$context[0].innerText=h)}},{key:"bindAfterRenderEvent",value:function(A,l){var C=this,h=l.id,B=l.sceneId,u=l.properties.number,p=x(u);return p&&A.find("#"+h).attr("href","tel:"+u).click(function(){C.eqxPage.eqxScene.config.disableBigData||d(window.scene.id,4,null,11,"互动电话"),w({id:B,num:u})}),p}}]),a}(j);q.exports=m},function(b,a){},function(d,b,g){function a(h){return f({type:"POST",url:c.SERVER_1+"eqs/dial",data:h})}var f=g(19).ajax,c=g(20);d.exports={$postDialRecord:a}},function(h,l,f){function g(a){return a.imgSrc?b(a):d(a)}function d(p){var c=p.id,r=p.number,a=p.title,q=p.type;return a=a?a.replace(/ /g,"&nbsp;"):"",j(m,{id:c,number:r,title:a,type:q})}function b(q){var c=q.id,u=q.number,a=q.imgSrc,s=q.type,p=q.padding;return j(k,{id:c,number:u,src:a,type:s,padding:p})}f(168);var m=f(169),k=f(170),j=f(40).parse;h.exports={compDiv:g}},function(b,a){},function(b,a){b.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" href="tel:#{number}" data-event="1120602" style="cursor: default; width: 100%">#{title}</a>'},function(b,a){b.exports='<a id="#{id}" ctype="#{type}" class="element eqx-tel editable-text" href="tel:#{number}" style="cursor: default; width: 100%;height: 100%;padding: #{padding}"><img style="width: 100%; height: 100%" src="#{src}"></a>'},function(j,q,f){function h(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var v=function(){function a(o,l){for(var r=0;r<l.length;r++){var c=l[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}();f(172);var m=f(173),k=f(113),p=f(40).parse,g=function(c){function a(l,o){h(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,o));return $.extend(!0,i.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),i}return b(a,c),v(a,[{key:"create$context",value:function(){var C=this.compJson,E=C.id,y=C.type,A=C.properties,x=A.imgSrc,u=A.title,F=C.css,D=F.height,z=F.width;if(x){x=this.getImgSrc(x,{width:z,height:D});var w="0",B='<img style="width: 100%; height: 100%;" src="'+x+'">'}return u&&(B=u.replace(/ /g,"&nbsp;"),w="0 8px",x=""),x||u||(B=""),$(p(m,{id:E,type:y,content:B,padding:w}))}},{key:"updateBtnTitle",value:function(i){this.compJson.properties.imgSrc||(this.$context[0].innerText=i)}},{key:"deleteImage",value:function(){this.compJson.properties.imgSrc||(this.$context[0].innerText="")}}]),a}(k);j.exports=g},function(b,a){},function(b,a){b.exports='<a id="#{id}" ctype="#{type}" class="element eqx-sound editable-text" data-event="1120604" style="cursor: default; width: 100%;height: 100%; padding: #{padding}">#{content}</a>'},function(A,G,m){function w(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function H(l){var f=l.id,u=l.type,d=l.layout,p=l.size,h=l.icon,g=l.color,c=$(B(x,{layout:d,size:p,id:f,type:u,icon:h}));return c.find("i, span").css("color",g),c}var D=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),C=function E(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:E(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}};m(175);var F=m(78).$getPvCount,q=m(176).fixedNum,j=m(113),x=m(177),B=m(40).parse,z=m(79).bigDataXBData,y=function(c){function a(f,g){w(this,a);var d=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),d}return b(a,c),D(a,[{key:"eleShow",value:function(){C(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleShow",this).call(this),this.getPvCount()}},{key:"create$context",value:function(){var L=this.compJson;L.properties.color&&(L.css.color=L.properties.color,delete L.properties.color);var Q=L.id,v=L.type,J=L.properties,s=J.layout,f=J.size,O=J.icon,N=L.css,P=N.lineHeight,I=N.width,g=N.height,K=N.color,M=H({id:Q,type:v,layout:s,size:f,icon:O,css:{width:I,height:g,lineHeight:P,color:K}});return this.getPvCount(),M}},{key:"getPvCount",value:function(){var d=this;if("view"==this.eqxScene.config.mode){return this.eqxPage.eqxScene.config.disableBigData||z(window.scene.id,4,null,20,"统计阅读量"),F(this.compJson.sceneId).then(function(f){return q(f)||0}).then(function(e){d.$li.find(".counter-number").text(e)})}}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}}]),a}(j);A.exports=y},function(b,a){},function(c,b){function d(g){var f;return g<10000?f=g:g>=10000&&g<100000000?f=(g/10000).toFixed(2)+"万":g>=100000000&&(f=(g/100000000).toFixed(2)+"亿"),f}function a(g){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.floor(Math.random()*g)%g+f}c.exports={fixedNum:d,random:a}},function(b,a){b.exports='<div class="element comp_counter editable-text #{layout} #{size}" id="#{id}" ctype="#{type}"><div class="counter-container"><i class="counter-elem counter-icon #{icon}"></i><span class="counter-elem counter-number">0</span></div></div>'},function(x,C,k){function q(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function j(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function D(d){var c=d.id,h=d.type,a=d.pics,f=a.map(function(i){return A(i.path)}).join("");return $('\n<div id="'+c+'" class="random-event element comp_image editable-image" ctype="'+h+'"\n     style="width: 100%; height: 100%;">\n     '+f+"\n</div>")}function A(a){return'<img src="'+(m.FILE+a)+'" style="width: 100%; height: 100%; display: none;">'}var z=function(){function a(f,d){for(var h=0;h<d.length;h++){var c=d[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}();k(179);var B=k(113),m=k(20),g=k(116),v=k(180),y=k(176).random,w=function(c){function a(f,h){q(this,a);var d=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,h));return d.randomIndex=-1,d.busy=!1,$.extend(!0,d.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1}),d}return b(a,c),z(a,[{key:"create$context",value:function(){var h=this.compJson,f=h.id,l=h.type,d=h.properties.pics;return this.randomMax=d.length,D({id:f,type:l,pics:d})}},{key:"addTriggerEvent",value:function(){var f=this.compJson.trigger,d=this.eqxScene.eventManager;f&&(f.sends&&(this.triggerEventAgent=new g(this,f,d)),f.receives&&(this.receiveEventAgent=new v(this,f,d)))}},{key:"showRandomImg",value:function(){var f=this.$context.find("img");f.css("display","none");var d=this.randomIndex;if(1!=this.randomMax){do{d=y(this.randomMax)}while(d==this.randomIndex)}else{d=0}$(f[d]).css("display","block"),this.randomIndex=d}}]),a}(B);x.exports=w},function(b,a){},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var z=function(){function a(l,h){for(var o=0;o<h.length;o++){var c=h[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(e,h,c){return h&&a(e.prototype,h),c&&a(e,c),e}}(),w=function m(l,c,s){null===l&&(l=Function.prototype);var a=Object.getOwnPropertyDescriptor(l,c);if(void 0===a){var p=Object.getPrototypeOf(l);return null===p?void 0:m(p,c,s)}if("value" in a){return a.value}var h=a.get;if(void 0!==h){return h.call(s)}},v=g(120),x=g(119).EQX_EVENT,j=g(25).noop,d=function(c){function a(i,l,h){return k(this,a),f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l,h))}return b(a,c),z(a,[{key:"getHandler",value:function(h){return h===x.random?function(o,n){var l=g(178);if(!(o instanceof l)){if(_DEBUG_){throw new Error("Expect EqxRandom, Invalid element type: "+o)}return j}o.busy||(o.busy=!0,setTimeout(function(){o.showRandomImg(),o.busy=!1},n.delay))}:w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"getHandler",this).call(this,h)}}]),a}(v);q.exports=d},function(J,w,C){function F(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function B(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?b:a}function z(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}var x=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),N=function M(d,b,g){null===d&&(d=Function.prototype);var a=Object.getOwnPropertyDescriptor(d,b);if(void 0===a){var f=Object.getPrototypeOf(d);return null===f?void 0:M(f,b,g)}if("value" in a){return a.value}var c=a.get;if(void 0!==c){return c.call(g)}},L=C(182),q=C(113),E=C(76).getWeChatUser,A=C(79).bigDataXBData,G=C(23).isWeixin,K=C(75).$getUserWxInfo,I=C(76).setWeChatUser,H=C(76).hrefToWxAuth,k=C(80).popUpModal,D=C(22).setUrlHistory,j=function(b){function a(d,f){F(this,a);var c=B(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,f));return c.commentManager=c.eqxScene.commentManager,c.commentManager&&c.commentManager.register(c),$.extend(!0,c.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},trigger:!1,sound:!1,link:!1}),c}return z(a,b),x(a,[{key:"setProps",value:function(c){c.style&&this.getProp("style")!=c.style&&this.updateStyle(c.style),"meslabel" in c&&this.getProp("mesLabel")!=c.meslabel&&this.updateMesLabel(c.meslabel),"morelabel" in c&&this.getProp("morelabel")!=c.morelabel&&this.updateMoreLabel(c.morelabel),N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"setProps",this).call(this,c)}},{key:"getStyles",value:function(){return C(192)}},{key:"updateStyle",value:function(c){this.$boards&&this.$boards.removeClass().addClass("boards-"+c)}},{key:"updateMesLabel",value:function(c){this.$context.find("a.replay").html(c||"")}},{key:"updateMoreLabel",value:function(c){this.$context.find("a.more").html(c||"")}},{key:"eleShow",value:function(){N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleShow",this).call(this),this.$panel.parent().length||(this.$panel.hide(),this.$panel.insertBefore(this.$li.parent().parent()));var c=this.compJson.properties.style;if(this.commentManager){var d=this.commentManager.getComments().slice(0,5).map(function(f){return L.record(f)})}else{d=[]}d.length?(this.$boards.find(".empty-boards").length&&this.$boards.find(".empty-boards").remove(),this.$boards.find(".record").remove(),this.$boards.prepend(d)):this.$boards.append(L.emptyBoards(c))}},{key:"eleHide",value:function(){N(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleHide",this).call(this),this.$boards.find(".record").remove(),this.$boards.find(".empty-boards").remove(),this.$panel.hide()}},{key:"addClassToLi",value:function(c){c.addClass("wsite-boards"),c.attr("min-h",60).attr("min-w",230)}},{key:"updateComments",value:function(){this.$boards&&this.$panel&&this.eleShow()}},{key:"create$context",value:function(){var O=this.compJson,R=O.id,g=O.type,v=O.properties,f=v.meslabel,c=v.morelabel,S=v.style,P=this.$ele=$(L.compDiv({id:R,type:g,style:S})),Q=this.$boards=P.find(".boards-"+S);Q.append(L.tool({meslabel:f||"",morelabel:c||""})),this.$trigger=Q.find(".tool a");var m=this.$panel=$(L.panel({style:S}));if(this.$close=m.find(".eqf-wrong"),this.$contentText=m.find(".content-text"),this.$contentTip=m.find(".content-tip"),this.$submit=m.find(".record-btn"),this.$more=m.find(".more-mes"),this.$panelList=m.find(".list"),this.maxLength=this.$contentText.attr("maxLength"),this.eqxScene.config.disableCommentManager){var d=(new Date).getTime(),y=[1,2,3].map(function(h){return L.record({content:"赞一个！好多新功能哦~",name:"匿名用户",createTime:d+10000*h,isEditor:!0})});Q.append(y)}return P}},{key:"bindAfterRenderEvent",value:function(h,O){function f(){var i=v.commentManager.getComments().map(function(n){return L.record(n)});v.$panelList.find(".record").remove(),v.$panelList.prepend(i),v.$panel.show(),m()}var g=this,d=O.sceneId,c=O.pageId,P=E(),p=K,v=this,m=function(){g.commentManager&&g.commentManager.loadMoreComments().then(function(n){var i=n.map(function(o){return L.record(o)});g.$more.before(i)})["catch"](function(){g.$more.html("没有更多"),g.$more.unbind("click")})};this.$trigger.on("click",function(){G()&&!P.nickname?p().then(function(i){i.obj?(I(i.obj),f()):(D(c),H())})["catch"](function(){f()}):f()}),this.$panel.on("touchstart touchmove touchend mousedown mouseup mousemove",function(i){i.stopPropagation()}),this.$contentText.on("input",function(o){var i=o.target.value,r=i.length+i.split("\n").length-1;g.$contentTip.html(r+"/"+g.maxLength)});var l=!1;return this.$submit.on("click",function(){if(g.eqxPage.eqxScene.config.disableBigData||A(window.scene.id,4,null,26,"留言板留言"),!l){l=!0,g.$submit.addClass("submit-disabled");var o=$.trim(g.$contentText.val())||g.$contentText.attr("placeholder"),i=o.length+o.split("\n").length-1;i>g.maxLength&&(o=o.slice(0,g.maxLength));var r={sceneId:d,content:o,url:P.headimgurl||"",name:P.nickname||"匿名用户"};g.commentManager.postComment(r).then(function(s){k("留言成功，谢谢参与！"),g.$contentText.val("");var n=L.record(s);g.$panelList.parent().scrollTop(0),g.$panelList.prepend(n),g.$contentTip.html("0/"+g.maxLength)})["catch"](function(n){k("提交失败，请重新提交")})["finally"](function(){var u=10,s=function y(){u?(g.$submit.text("提交留言("+u+"秒)"),u--,setTimeout(function(){y()},1000)):(g.$submit.text("提交留言"),g.$submit.removeClass("submit-disabled"),l=!1)};s()})}}),this.$close.on("click",function(){g.$panel.hide(),g.eleShow()}),this.$more.on("click",function(){return m()}),!0}}]),a}(q);J.exports=j},function(v,A,j){function m(d){var c=d.id,l=d.type,a=d.style,h=void 0===a?"default":a;return w(q,{id:c,type:l,style:h})}function g(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",a=j(186)("./"+c+"_boards.png");return'<div class="empty-boards"><img style="margin-top:-20px;" src="'+a+'"></div>'}function b(c){var a=c.meslabel,d=c.morelabel;return'<div class="tool"><a class="replay">'+a+'</a><a class="more">'+d+"</a></div>"}function B(a){return'<div class="headimg" style="background-image:url('+a+')"></div>'}function y(){return'<div class="headimg headimg-bg"><em class="eqf-logo2"></em></div>'}function x(l){var d=l.url,u=l.name,a=l.content,p=l.createTime,h=d?B(d):y();if((new Date).getTime()-p<60000){var s="刚刚"}else{s=k(new Date(p),"MM月dd日 hh:mm")}return'\n<div class="record">\n    '+h+'\n    <div class="name ellipsis">'+u+'</div>\n    <div class="mes">'+a+'</div>\n    <div class="time">'+s+"</div>\n</div>"}function z(c){var a=c.style,d=void 0===a?"default":a;return w(f,{style:d})}j(183);var k=j(39).dateFormat,f=j(184),q=j(185),w=j(40).parse;v.exports={compDiv:m,emptyBoards:g,tool:b,headImgUser:B,headImgEqxView:y,record:x,panel:z}},function(b,a){},function(b,a){b.exports='<div class="boards-panel boards-#{style}"><div class="boards-top"><div class="head">留言板<em class="eqf-wrong"></em></div><div class="boards-form"><textarea placeholder="踩一下！" maxlength="140" class="content-text"></textarea><span class="content-tip">0/140</span> <a class="record-btn" data-event="11207">提交留言</a></div><div class="spline-con"><span>更多留言</span> <span class="spline"></span></div></div><div class="boards-con ios-boards-con"><div class="list"><div class="more-mes">查看更多</div></div></div></div>'},function(b,a){b.exports='<div class="element-box-contents eqx-comp-comment" style="width: 100%; height: 100%"><div id="#{id}" class="element boards-#{style}" ctype="#{type}"></div></div>'},function(d,b,g){function a(h){return g(f(h))}function f(h){return c[h]||function(){throw new Error("Cannot find module '"+h+"'.")}()}var c={"./black_boards.png":187,"./blue_boards.png":188,"./default_boards.png":189,"./pink_boards.png":190,"./yellow_boards.png":191};a.keys=function(){return Object.keys(c)},a.resolve=f,d.exports=a,a.id=186},function(b,a,c){b.exports=c.p+"images/black_boards-ba4922.png"},function(b,a,c){b.exports=c.p+"images/blue_boards-f58067.png"},function(b,a,c){b.exports=c.p+"images/default_boards-f58067.png"},function(b,a,c){b.exports=c.p+"images/pink_boards-a2ae42.png"},function(b,a,c){b.exports=c.p+"images/yellow_boards-f58067.png"},function(b,a){b.exports=[{name:"默认",value:"default"},{name:"简约黑",value:"black"},{name:"少女粉",value:"pink"},{name:"邮票风",value:"blue"},{name:"便签风",value:"yellow"}]},function(G,k,z){function C(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function y(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function w(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var q=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),J=function A(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:A(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}};z(175);var I=z(194).$postCount,j=z(176).fixedNum,B=z(195),x=z(113),D=z(23).isWeixin,H=z(197),F=z(79).bigDataXBData,E=z(80).popUpModal,b=function(c){function a(f,g){C(this,a);var d=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},trigger:!1,sound:!1,link:!1}),d}return w(a,c),q(a,[{key:"updateSize",value:function(d,f){f.height&&(f.lineHeight=f.height+"px",this.$context.css({lineHeight:f.lineHeight})),J(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateSize",this).call(this,d,f)}},{key:"bindAfterRenderEvent",value:function(v){var L=this,h=this.compJson,u=h.id,g=h.sceneId,d=h.pageId,M=this.$context;this.eqxScene.statManager.getCounterValues().then(function(l){var i=l[u]||0;M.find(".counter-number").attr("data-counter-number",i).html(j(i))});var K=this.$li.find(".comp_counter"),m=K.find(".counter-number"),f="rating-l";return K.click(function(){if(!L.eqxPage.eqxScene.config.disableBigData&&L.compJson.properties){var l,i,e=L.compJson.properties.icon;switch(e){case"eqf-love":l=15,i="互动计数喜欢";break;case"eqf-good":l=16,i="互动计数顶起";break;case"eqf-flower2":l=17,i="互动计数送花";break;case"eqf-vote":l=18,i="互动计数投票";break;default:l=19,i="互动计数自定义"}F(window.scene.id,4,null,l,i)}L.compJson.properties&&L.compJson.properties.clickFarmer?D()?I({sceneId:g,elementId:u,pageId:d}).then(function(){K.unbind("click").removeClass("not-voted");var o=Number.parseInt(m.attr("data-counter-number"))||0,n=o+1;m.attr("data-counter-number",n).text(j(n))})["catch"](function(n){120504===n.code?H.modal(v,f,!1,null,"请到微信中打开使用"):120505===n.code||120603===n.code?H.modal(v,f,!1,null,"请不要重复提交"):E("服务器异常!")}):H.modal(v,f,!1,null,"请到微信中打开使用"):I({sceneId:g,elementId:u,pageId:d}).then(function(){K.unbind("click").removeClass("not-voted");var o=Number.parseInt(m.attr("data-counter-number"))||0,n=o+1;m.attr("data-counter-number",n).text(j(n))})["catch"](function(n){120603===n.code?H.modal(v,f,!1,null,"请不要重复提交"):E("服务器异常!")})}),!0}},{key:"create$context",value:function(){var m=this.compJson,M=m.id,h=m.type,l=m.properties,g=l.layout,d=l.imgSrc,N=l.color,K=l.icon,v=l.size,L=m.css.textAlign,f=B.$compDiv({id:M,layout:g,size:v,type:h,icon:K,color:N,imgSrc:d});return"center"===L&&f.find("img").css("margin","0 auto"),f}},{key:"update$img",value:function(d){this.$context.find("img").attr("src",d)}},{key:"iconToImg",value:function(d){this.$context.find("i").remove().prepend(B.img(d))}},{key:"updateLayout",value:function(){this.$context.remove(),this.$li.css({height:this.compJson.css.height,lineHeight:this.compJson.css.lineHeight}),this.$context=this.create$context(),this.$contentsDiv.append(this.$context)}},{key:"update$iconColor",value:function(d){this.$context.find(".counter-container").css({color:d})}}]),a}(x);G.exports=b},function(f,b,h){function a(i){return d({type:"POST",url:c.SERVER_1+"eqs/scene/count",data:i})}function g(i){return d({type:"GET",url:c.SERVER_1+"eqs/scene/counter/values",data:i})}var d=h(19).ajax,c=h(20);f.exports={$postCount:a,$getCountValues:g}},function(h,m,f){function g(w){var z=w.id,o=w.layout,r=w.size,y=w.type,q=w.icon,c=w.color,s=w.imgSrc,x=s?b(s):d(q),v=s?1120609:p(q),u=$(l(j,{layout:o,size:r,id:z,type:y,i:x,dataEvent:v}));return u.find(".counter-container").css({color:c}),u}function d(a){return'<i class="counter-elem counter-icon '+a+'" ></i>'}function b(c){var a=k.FILE+c;return'<img class="counter-elem counter-icon"\n             style="width: 115px; height: 115px;" src="'+a+'">'}function p(c){var a={"eqf-love":1120605,"eqf-good":1120606,"eqf-flower2":1120607,"eqf-vote":1120608};return a[c]}var k=f(20),j=f(196),l=f(40).parse;h.exports={$compDiv:g}},function(b,a){b.exports='<div class="element comp_counter not-voted editable-text #{layout} #{size}" id="#{id}" ctype="#{type}" name="eq[f_#{id}]"><div class="counter-container" data-event="#{dataEvent}" style="white-space: nowrap">#{i} <span class="counter-elem counter-number" data-counter-number="0">0</span></div></div>'},function(f,b,h){function a(m){var k=m.id,q=m.type,j=m.src,p=(m.css,m.padding),l='<button style="display: block;width: 100%;height: 100%; padding: '+p+';" data-event="11201"\n                        id="'+k+'" ctype="'+q+'" class="element comp_button editable-text" >\n                    <img style="width: 100%; height: 100%;" src="'+j+'">\n                </button>';return $(l)}function g(m){var k=m.id,q=m.type,j=m.title,p=(m.css,j.replace(/ /g,"&nbsp;")),l='<button style="display: block;width: 100%;height: 100%;" \n                        id="'+k+'" ctype="'+q+'" data-event="11201"\n                        class="element comp_button editable-text" >'+p+"</button>";return $(l)}function d(q){var l=q.layout,v=q.hasLink,k=q.src,u=q.text,p=q.link,m=$('<div class="feedback-content"><span>'+u+"</span></div>"),j=$('<div class="feedback-btn"></div>');return k&&("rating-m"===l?m.prepend('<img class="up" src="'+k+'"/>'):"rating-s"===l?m.append('<img class="down" src="'+k+'"/>'):"rating-l"===l&&m.prepend('<img class="up ico" src="'+k+'"/>')),v?j.append('<a class="feedback-close left">关闭</a><a class="right" href="'+p+'">查看详情</a>').addClass("line"):j.append('<a class="feedback-close">关闭</a>'),$('<div class="feedback-box">').append($('<div class="feedback-form">').append(m,j))}function c(q,x,k,p,j,y){var v=d({layout:x,hasLink:k,src:p,text:j,link:y}).insertBefore($(q).parent().parent()),r=v.find(".feedback-form"),w=v.find(".feedback-close"),m=-Number.parseInt(r.height()+80)/2;r.css({marginTop:m+"px"}),w.on("click",function(){v.animate({opacity:0},{duration:300,complete:function(i){return v.remove()}})})}h(198),f.exports={$img:a,$btn:g,modal:c}},function(b,a){},function(j,q,f){function h(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var v=function(){function a(o,l){for(var r=0;r<l.length;r++){var c=l[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),m=f(200),k=f(201).formatTime,p=f(202).getServiceTime,g=function(c){function a(i,l){return h(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l))}return b(a,c),v(a,[{key:"renderTime",value:function(x){var z=this,t=(new Date).getTime(),y=this.compJson.properties,w=y.endTime,u=y.arriveTips,l=y.arriveTipsContent;p().then(function(i){return t=i.obj},function(){return t=(new Date).getTime()}).then(function(e){var n=setInterval(function(){e+=1000,z.$li||clearInterval(n),e>=w?(u?x.html(l||a.defaultArriveTipsContent):x.html(k(e,e)),clearInterval(n)):x.html(k(w,e))},1000)})}}]),a}(m);g.defaultArriveTipsContent="开始啦!",j.exports=g},function(h,l,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var m=function(){function a(p,o){for(var q=0;q<o.length;q++){var c=o[q];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),k=f(113),j=function(c){function a(o,p){g(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,p));return $.extend(!0,i.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),i}return b(a,c),m(a,[{key:"create$context",value:function(){var i=document.createElement("div");return i.id=this.compJson.id,i.setAttribute("ctype",this.compJson.type),i.setAttribute("class","element comp_paragraph editable-text"),this.renderTime($(i)),$(i)}},{key:"renderTime",value:function(i){return null}}]),a}(k);h.exports=j},function(c,b){function d(j,q){var h=j-q,g=Math.floor(h/86400000),f=h%86400000,v=Math.floor(f/3600000),m=f%3600000,k=Math.floor(m/60000),p=m%60000,i=Math.round(p/1000);return a(g)+"天"+a(v)+"小时"+a(k)+"分钟"+a(i)+"秒"}function a(f){return f=f.toString(),f.length<2?"0"+f:f}c.exports={formatTime:d}},function(d,b,g){function a(){var i=new Date,h="eqs/serviceTime/get?time"+i.getTime();return f({type:"GET",url:c.SERVER_1+h})}var f=g(19).ajax,c=g(20);d.exports={getServiceTime:a}},function(j,q,f){function h(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var v=function(){function a(o,l){for(var r=0;r<l.length;r++){var c=l[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),m=f(200),k=f(201).formatTime,p=f(202).getServiceTime,g=function(c){function a(i,l){return h(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l))}return b(a,c),v(a,[{key:"renderTime",value:function(x){var z=this,t=(new Date).getTime(),y=this.compJson.properties,w=y.startTime,u=y.arriveTips,l=y.arriveTipsContent;p().then(function(i){return t=i.obj},function(){return t=(new Date).getTime()}).then(function(e){var n=setInterval(function(){e+=1000,z.$li||clearInterval(n),e<=w?u?x.html(l||a.defaultArriveTipsContent):x.html(k(e,e)):x.html(k(e,w))},1000)})}}]),a}(m);g.defaultArriveTipsContent="还没开始!",j.exports=g},function(x,C,k){function q(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function j(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var D=function(){function a(f,d){for(var h=0;h<d.length;h++){var c=d[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),A=function w(f,c,l){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var h=Object.getPrototypeOf(f);return null===h?void 0:w(h,c,l)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(l)}},z=k(113),B=k(205),m=k(20),g=k(22).url2https,v=g(m.YQC),y=function(c){function a(f,h){q(this,a);var d=j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,h));return d.iframePromise=null,d.iframe=null,$.extend(!0,d.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},compStyle:{self:!0},border:{self:!1},boxShadow:{self:!1},advanceStyle:{paddingTop:!1,borderWidth:!1,borderRadius:!1,borderStyle:!1,borderColor:!1,boxShadowSize:!1,boxShadowBlur:!1,boxShadowColor:!1,boxShadowDirection:!1}},anim:!1,trigger:!1,sound:!1,link:!1}),d}return b(a,c),D(a,[{key:"eleShow",value:function(){var h=this;A(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleShow",this).call(this);var p=this.eqxPage,d=this.eqxPage.eqxScene,l=d.meta.id,f=p.pageJson.num;this.iframePromise.then(function(){h.iframe&&h.iframe.contentWindow.postMessage({sceneId:l,pageNum:f,eventType:"pageShow"},v)})}},{key:"create$context",value:function(){var K=this.compJson,O=K.id,F=K.type,H=K.content,E=K.css,h=E.width,P=E.height,N=this.eqxPage,M=this.eqxPage.eqxScene,G=M.meta.id,u=N.pageJson.num,L=$(B.compDiv({id:O,type:F})),J=$(B.iframeDiv({sceneId:G,pageNum:u,content:H,width:h,height:P})),I=this.iframe=J.get(0);return this.iframePromise=new Promise(function(d){I.onload=function(){H&&I.contentWindow.postMessage({sceneId:G,pageNum:u,eventType:"adCode",content:H},v),d()}}),L.append(J),this.$li.css("zIndex",999),L}}]),a}(z);x.exports=y},function(f,b,h){function a(j){var i=j.id,k=j.type;return'<div style="width: 100%; height: 100%" class="element" id="'+i+'" ctype="'+k+'"></div>'}function g(m){var l=m.sceneId,q=m.pageNum,k=m.content,p=m.width,j=m.height;return'<iframe width="100%" height="100%" scrolling="no" frameborder="0" src="'+c(d.YQC)+"yqc/gg/gg.html?sceneId="+l+"&pageNum="+q+(k?"&content=true":"")+"&width="+p+"&height="+j+'"></iframe>'}var d=h(20),c=h(22).url2https;f.exports={compDiv:a,iframeDiv:g}},function(x,C,k){function q(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var j=function(){function a(f,d){for(var h=0;h<d.length;h++){var c=d[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),b=k(66).BG_CROP_TYPE,D=k(23).mobilecheck,A=k(207),z=k(208),B=k(209),m=k(40).parse,g=k(90).qiniuZoom,v=k(90).loadImg,y=k(69).ANIMATION_TYPE;k(70);var w=function(){function a(c,d){q(this,a),this.compJson=c,this.eqxPage=d,this.eqxScene=d.eqxScene}return j(a,[{key:"updateBgHeight",value:function(c){this.$bgEle.css({height:c})}},{key:"updateBgOpacity",value:function(c){this.$bgEle&&this.$bgEle.css({opacity:c})}},{key:"create$bg",value:function(F,M,h){var r=this;this.$container=F;var c=this.compJson,G=c.id,E=c.css.opacity,u=c.properties,L=u.bgColor,l=u.croptype,I=u.imgSrc,H=u.pageLength,J="100%";if(L||I||(L="rgba(0,0,0,0)"),L){H&&(J=(H<10?486*H:H)-486+(D()?$(document).height():486)+"px");var K=$(m(z,{id:G,bgColor:L,height:J}));this.$bgEle=K,this.animate(),this.updateBgOpacity(E),this.$container.prepend(K),!D()&&this.updateBgHeight(this.eqxPage.getPageHeight())}if(I){var s=I;if(l===b["全屏背景模式"]?(J=(H<10?486*H:H)-486+(D()?$(document).height():486)+"px",s=g(s,320,J)):(J=D()?"100%":"486px",s=g(s,320,486)),/\.gif/.test(I)){var p=v(s).then(function(f){var i,d={};if(M=D()?document.documentElement.clientWidth||document.body.clientWidth:M||r.eqxPage.getPageWidth(),h=D()?document.documentElement.clientHeight||document.body.clientHeight:h||r.eqxPage.getPageHeight(),l===b["全屏背景模式"]){var n=parseInt(J);f.width/f.height>=M/n?(d.width=f.width*(n/f.height),d.height=n,d.marginLeft=-(d.width-M)/2):(d.width=M,d.height=f.height*(M/f.width),d.marginTop=-(d.height-n)/2)}else{f.width/f.height>=M/h?(d.width=f.width*(h/f.height),d.height=h,d.marginLeft=-(d.width-M)/2):(d.width=M,d.height=f.height*(M/f.width),d.marginTop=-(d.height-h)/2)}return i=$(m(B,{id:G,src:s,height:J})),i.css(d),i})}else{p=Promise.resolve($(m(A,{id:G,src:s,height:J})))}p.then(function(d){r.$bgEle=d,r.animate(),r.updateBgOpacity(E),r.$container.prepend(r.$bgEle),!/\.gif/.test(I)&&!D()&&r.updateBgHeight(r.eqxPage.getPageHeight())})}}},{key:"eleShow",value:function(){var d=this.compJson.properties.imgSrc;if(d&&/.gif/.test(d)&&this.$bgEle){var c=this.$bgEle.find("img")[0],f=c.src;setTimeout(function(){c.src=f},200)}}},{key:"animate",value:function(){var d=this.compJson.effect;d=void 0===d?{}:d;var c=d.type;if(this.$bgEle&&(c||0==c)&&c!=-1){var f=this.$bgEle.find(".eqx-bg");f.css({animation:"none"}),setTimeout(function(){if("scaleUp"===c){f.css({animation:"scaleUp 7s ease 1s","animation-fill-mode":"both"})}else{if("scaleDown"===c){f.css({animation:"scaleDown 7s ease 1s","animation-fill-mode":"both"})}else{var h=y[c];f.css({"animation-name":"","animation-duration":"","animation-timing-function":"","animation-delay":"","animation-iteration-count":""}),f.css({"animation-name":h[0],"animation-duration":"1s","animation-timing-function":"liner","animation-delay":"1s","animation-iteration-count":1,"animation-direction":"both","animation-fill-mode":"both","animation-play-state":"initial"})}}},0)}}},{key:"delete$bg",value:function(){this.$bgEle&&this.$bgEle.remove()}},{key:"update$bg",value:function(){}}]),a}();x.exports=w},function(b,a){b.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg eqx-bg-img" style="width: 100%; height: #{height};\n         background-image: url(\'#{src}\');\n         background-size: cover; background-position: 50% 50%;\n         background-origin: content-box"></div></div>'},function(b,a){b.exports='<div style="width: 100%; height: #{height}; overflow: hidden;position: absolute;z-index: -1"><div id="wrapper-background#{id}" class="eqx-bg" style="width: 100%; height: #{height}; background-color: #{bgColor}"></div></div>'},function(b,a){b.exports='<div style="width: 100%; height: #{height}; overflow: hidden; position: absolute;z-index: -1"><img id="wrapper-background#{id}" src="#{src}" style="z-index: -1; width: 100%; position: absolute"></div>'},function(A,G,m){function w(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var H=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),D=m(113),C=m(211),F=m(40).parse,q=m(23).isWeixin,j=(m(212),m(213)),x=m(214).$robRedPacket,B=m(75).$getUserWxInfo,z=m(76).hrefToWxAuth,y=m(76).setWeChatUser,E=function(c){function a(f,g){w(this,a);var d=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),d}return b(a,c),H(a,[{key:"create$context",value:function(){var g=this.compJson,f=g.id,h=g.type,d=g.properties.title;return this.$context=$(F(C,{id:f,type:h,title:d})),this.$context}},{key:"bindAfterRenderEvent",value:function(){var d=this;this.$li.click(function(){return q()?void B().then(function(f){return f.obj?(y(f.obj),f.obj):(z(),Promise.reject())}).then(function(e){return x(d.eqxScene.meta.id,d.compJson.id,e.openid)}).then(function(e){200===e.code&&j.modal("恭喜您成功抢到一个红包，请去服务通知下领取红包！",d.$li)})["catch"](function(e){e.msg&&j.modal(e.msg,d.$li)}):void j.modal("该组件仅能在微信中使用。",d.$li)})}}]),a}(D);A.exports=E},function(b,a){b.exports='<a id="#{id}" ctype="#{type}" class="element eqx-red-packet" style="cursor: default;width: 100%;height: 100%">#{title}</a>'},function(f,b){function h(){var i=new Date;return i.setHours(23,59,59,999),i}function a(){var i=new Date;return i.setHours(0,0,0,0),i}function g(){return h().getTime()}function d(){return a().getTime()}function c(){return(new Date).getTime()}f.exports={nowTime:c,endDateOfToday:h,startDateOfToday:a,endTimeOfToday:g,startTimeOfToday:d}},function(b,a){function c(g,f){var h=$('<div class="feedback-box">\n                      <div class="feedback-form">\n                        <div class="feedback-content">'+g+'</div>\n                        <div class="feedback-btn">\n                          <a class="feedback-close">关闭</a>\n                        </div>\n                      </div>\n                    </div>'),d=h.find(".feedback-form");d.css("margin-top",-Number.parseInt(d.height()+80)/2),h.insertBefore(f.parent().parent()),h.find(".feedback-close").on("click",function(){h.animate({opacity:0},{duration:300,complete:function(i){return h.remove()}})})}b.exports={modal:c}},function(d,b,g){function a(i,h,j){return c({type:"GET",url:f.SERVER_1+"eqs/wx/robRedPacket",data:{sceneId:i,componentId:h,openid:j}})}var f=g(20),c=g(19).ajax;d.exports={$robRedPacket:a}},function(L,z,E){function H(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function D(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?b:a}function B(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function A(c,b,f,a,d){return"url('"+G.FONT+"fonts/"+c+"_"+b+"/"+f+"."+a+"') format('"+d+"')"}function P(d){var b=d.fontFamily,g=d.sceneId,a=d.publishTime;if(b&&!O[b]){var f=[A(g,a,b,"woff","woff"),A(g,a,b,"ttf","truetype")].join(", "),c="@font-face{font-family: '"+b+"'; src: "+f+";}";I(c),O[b]=!0}}function N(d){var b=d.id,g=d.type,a=d.css,f=d.content,c=void 0===f?"":f;return a.cursor="default",a.fontSize&&(a.fontSize=M(a.fontSize)),a.minHeight="inherit",$(q(K,{id:b,type:g,content:c})).css(a)}var w=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}();E(216);var G=E(20),C=E(146),I=C.addGlobalStyle,M=C.addSuffixPx,K=E(217),J=E(113),q=E(40).parse,F=E(22).openUrl,j=E(79).bigDataXBData,O={defaultFont:!0,moren:!0,"null":!0,undefined:!0},k=function(b){function a(d,f){H(this,a);var c=D(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,f));return $.extend(!0,c.$ability,{style:{base:{backgroundColor:!0,color:!1},compStyle:{backgroundColor:!0,color:!0}},link:!1}),c}return B(a,b),w(a,[{key:"updateContent",value:function(d){this.compJson.content=d;var c=this.create$context();this.$context.replaceWith(c),this.$context=c}},{key:"create$context",value:function(){var V=this.compJson,Z=V.id,y=V.type,R=V.content,x=V.sceneId,c=V.publishTime,aa=V.css,Y=aa.fontSize,Q=aa.width,m=aa.height,S=aa.writingMode,W=V.properties.anim,U=void 0===W?[]:W,T={fontSize:Y,width:Q,height:m,textRendering:"optimizeLegibility"};S&&(T["-webkit-writing-mode"]=S,T.writingMode=S);var X=N({id:Z,type:y,content:R,css:T});return"view"==this.eqxScene.config.mode&&X.find("*").toArray().map(function(d){return $(d).css("font-family")}).forEach(function(d){return P({fontFamily:d,sceneId:x,publishTime:c})}),U[0]&&"typer"==U[0].type&&X.css({opacity:0}),X}},{key:"updateSize",value:function(d,c){this.$context.css(c)}},{key:"bindAfterRenderEvent",value:function(f,d){var g=this,c=d.pageId;return"x"==d.type&&d.properties.url?$(f).click(function(){var h=d.properties.url;Number.isInteger(+h)?g.eqxScene.pageScroll.goToPageById(h):F(h,c)}):$(f).find("a[href]").toArray().forEach(function(i){var h=$(i).attr("href");$(i).removeAttr("href").css("cursor","pointer").click(function(){g.eqxPage.eqxScene.config.disableBigData||(129810===c?j(window.scene.id,"4",{url:h},"3","技术支持尾页"):h.toString().indexOf("16060")>0?j(window.scene.id,"4",{url:h},"4","技术支持底标"):129811===c?j(window.scene.id,"4",{url:h},"5","品牌联合底标"):j(window.scene.id,"4",{url:h},"9","组件链接")),Number.isInteger(+h)?g.eqxScene.pageScroll.goToPageById(h):F(h,c)})}),!0}},{key:"addClassToLi",value:function(c){c.addClass("wsite-text")}},{key:"clearRichText",value:function(){this.compJson.content=this.$context.text(),this.compJson.css.writingMode="horizontal-tb",this.$context.html(this.compJson.content),this.$context.css("writingMode","horizontal-tb")}},{key:"settingGroupStyle",value:function(c){Object.assign(this.compJson.css,c),this.update$boxDiv(c)}},{key:"adjustHeight",value:function(){this.$li.css({height:"",width:""}),this.$context.css({height:"",width:""});var d=this.$boxDiv.height(),c=this.$boxDiv.width();this.update$li({height:d,width:c}),this.$context.css({height:d,width:c})}}]),a}(J);L.exports=k},function(b,a){},function(b,a){b.exports='<div id="#{id}" ctype="#{type}" class="element comp_paragraph editable-text" style="cursor: default">#{content}</div>'},function(k,w,g){function j(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var x=function(){function a(o,l){for(var p=0;p<l.length;p++){var c=l[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),q=function d(p,c,u){null===p&&(p=Function.prototype);var a=Object.getOwnPropertyDescriptor(p,c);if(void 0===a){var s=Object.getPrototypeOf(p);return null===s?void 0:d(s,c,u)}if("value" in a){return a.value}var l=a.get;if(void 0!==l){return l.call(u)}},m=g(21).$loadMLink,v=g(215),h=function(c){function a(i,l){return j(this,a),f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l))}return b(a,c),x(a,[{key:"create$context",value:function(){var u=q(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"create$context",this).call(this),z=window.scene,l=z.isTemplate,y=z.sourceId,t=z.id,p={sceneId:t};return l&&(p.isTemplate=l),y&&(p.sourceId=y),m().then(function(){var e={mlink:"https://ax8bgc.mlinks.cc/AK00",button:u.find("a.deepShareHref")[0],autoLaunchApp:!1,autoRedirectToDownloadUrl:!0,downloadWhenUniversalLinkFailed:!1,inapp:!1,params:p};console.log("mlink",e),new Mlink(e)}),u}}]),a}(v);k.exports=h},function(J,w,C){function F(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function B(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?b:a}function z(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function x(c){var b=c.imgSrc,d=c.reasonList,a=d.map(function(h,g){var m=h.id,f=h.name,l=(h.value,0==g?'class="active"':"");return'<li value="'+m+'" '+l+"><span>"+f+"</span></li>"}).join("");return $(K(A,{imgSrc:b,reasons:a}))}var N=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),L=function M(d,b,g){null===d&&(d=Function.prototype);var a=Object.getOwnPropertyDescriptor(d,b);if(void 0===a){var f=Object.getPrototypeOf(d);return null===f?void 0:M(f,b,g)}if("value" in a){return a.value}var c=a.get;if(void 0!==c){return c.call(g)}};C(220);var q=C(221).$getReportOptions,E=C(221).$postReport,A=C(222),G=C(215),K=C(40).parse,I=C(79).bigDataXBData,H=C(80).popUpModal,k=[],D=[{id:14258,name:"内容涉及违规",value:1},{id:14259,name:"诱导浏览者分享",value:2},{id:14260,name:"场景内容侵权",value:3},{id:14302,name:"内容夸大宣传",value:4},{id:14303,name:"违背易企秀用户协议",value:5},{id:14304,name:"其它原因",value:6}],j=function(b){function a(d,f){F(this,a);var c=B(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,f));return c.show=!c.eqxPage.eqxScene.config.disableReport,c.$report=null,c}return z(a,b),N(a,[{key:"eleHide",value:function(){L(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleHide",this).call(this),this.hide()}},{key:"eleShow",value:function(){return this.show?L(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleShow",this).call(this):this}},{key:"hide",value:function(){this.$report&&this.$report.hide()}},{key:"addClassToLi",value:function(c){this.show||this.$li.css("display","none")}},{key:"bindAfterRenderEvent",value:function(d,c){var f=this;$(d).on("click11",function(g){g.stopPropagation(),f.eqxPage.eqxScene.config.disableBigData||I(window.scene.id,4,null,6,"举报"),f.openReportModal()})}},{key:"openReportModal",value:function(){var d=this;if(this.$report){return this.$report.show()}var c=this.compJson.sceneId;this.getSelectOption().then(function(e){var g=x({imgSrc:C(223),reasonList:e});d.$report=g;var f=d.$li.parent();g.appendTo(f),g.find("li").click(function(h){h.stopPropagation(),$(this).siblings().removeClass("active"),$(this).addClass("active")}),$("#reportSubmit").click(function(l){l.stopPropagation();var h=g.find("li.active").val();E({sceneId:c,type:h}).then(function(){return H("举报成功！")})["finally"](function(){return d.hide()})}),f.on("click",function(h){var i=g.find(h.target).length>0;i||d.hide()})})}},{key:"getSelectOption",value:function(){return new Promise(function(d,c){return k.length?d(k):q().then(function(e){k=e.list,k.length?d(k):c()})["catch"](function(){return k=D,d(k)})})}}]),a}(G);J.exports=j},function(b,a){},function(f,b,h){function a(){var i=c.SERVER_1+"eqs/class/expose_types";return d({type:"GET",url:i})}function g(j){var i=j.sceneId,k=j.type;return d({type:"POST",url:c.SERVER_0+"eqs/expose",data:{sceneId:i,type:k}})}var d=h(19).ajax,c=h(20);f.exports={$getReportOptions:a,$postReport:g}},function(b,a,c){b.exports='<div id="report0"><div id="report1"><div id="report2"><p><img src="'+c(223)+'" width="50px;"></p><h1>请选择举报原因</h1></div><div id="report3"><ul id="reportList">#{reasons}</ul></div><div id="report4"><a id="reportSubmit" data-event="11203">提交举报</a></div></div></div>'},function(b,a,c){b.exports=c.p+"images/jubao_03-db9a15.png"},function(G,k,z){function C(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function y(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function w(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function q(l){var f=l.id,p=l.type,d=l.marginTop,m=l.marginBottom,h=l.css,g=l.content,c=void 0===g?"":g;return h.cursor="default",h.minHeight="inherit",h.fontSize&&(h.fontSize=D(h.fontSize)),$(F(H,{id:f,type:p,content:c,marginTop:d,marginBottom:m})).css(h)}function J(d){var c=d.fontFamily,g=d.sceneId,a=d.mode;if("view"===a&&window.scene&&c&&!b[c]){var f="@font-face{font-family:'"+c+"';src: url('"+E.FONT+"fonts/"+g+"_"+window.scene.publishTime+"/"+c+".woff') format('woff'),url('"+E.FONT+"fonts/"+g+"_"+window.scene.publishTime+"/"+c+".ttf') format('truetype');}";x(f),b[c]=!0}}var I=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),j=z(113),B=z(146),x=B.addGlobalStyle,D=B.addSuffixPx,H=z(225),F=z(40).parse,E=z(20),b={},A=function(c){function a(f,g){C(this,a);var d=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{self:!1},border:{self:!1},boxShadow:{self:!1},compFont:{self:!0,fontFamily:!0},compStyle:{backgroundColor:!0}},link:!0,flexLine:"w,e,r"}),d}return w(a,c),I(a,[{key:"create$context",value:function(){var T=this.compJson,Y=T.id,M=T.type,P=T.content,L=T.sceneId,s=T.css,V=s.fontFamily,X=s.fontSize,O=s.writingMode,K=s.marginTop,Q=void 0===K?"0px":K,U=s.marginBottom,S=void 0===U?"0px":U,R=T.properties.anim,W=void 0===R?[]:R;P=P||"请输入文本";var N=q({id:Y,type:M,content:P,marginTop:Q,marginBottom:S,css:{fontFamily:V,fontSize:X,writingMode:O}});return J({mode:this.eqxScene.config.mode,fontFamily:V,sceneId:L}),W[0]&&"typer"===W[0].type&&N.css({opacity:0}),N}},{key:"updateContent",value:function(d){this.$context.children().html(d)}},{key:"autoAdjustSize",value:function(){var g=this.$context,f=this.$context.children(),l=parseInt(g.css("padding")),d=f.height(),h={height:d+2*l};return this.update$li(h),{height:parseInt(this.$li.css("height")),width:parseInt(this.$li.css("width"))}}}]),a}(j);G.exports=A},function(b,a){b.exports='<div id="#{id}" ctype="#{type}" class="element" style="padding: 5px;width: 100%;height: 100%"><span style="display: block;margin-top: #{marginTop};margin-bottom: #{marginBottom};color: inherit;word-break: break-all">#{content}</span></div>'},function(j,q,f){function h(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var v=function(){function a(o,l){for(var r=0;r<l.length;r++){var c=l[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),m=f(227),k=f(113),p=f(79).bigDataXBData,g=function(c){function a(l,o){h(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,o));return $.extend(!0,i.$ability,{style:{base:{self:!0},border:{self:!0},boxShadow:{self:!0},compStyle:{self:!0,backgroundColor:!0},commonStyle:{self:!0},advanceStyle:{self:!0},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),i.eqxScene.formManager.add(i),i}return b(a,c),v(a,[{key:"check",value:function(){var l=this.$select.find("option:selected").text(),i=Number(this.$select.val()),o={success:!0,pageId:this.pageId,key:this.name,value:l};return this.required&&!i&&(o.success=!1,o.message="下拉框 '"+l+"' 为必选项"),o}},{key:"create$context",value:function(){var D=this.compJson,H=D.id,z=D.pageId,B=D.type,y=D.required,w=D.css,I=w.borderWidth,F=w.backgroundColor;I||(D.css.borderWidth=1,D.css.borderColor="rgba(8, 161, 239, 1)",this.$boxDiv.css("borderWidth","1px"),this.$boxDiv.css("borderColor","rgba(8, 161, 239, 1)")),F||(D.css.backgroundColor="#ffffff",this.$boxDiv.css("backgroundColor","#ffffff"));var G=D.choices||{},A=G.options||[];this.name="eq[f_"+H+"]",this.required=y,this.pageId=z;var x=m.$compDiv({id:H,type:B,required:y}),C=this.$select=x.find("select"),E=A.map(function(i){return m.$option({selected:i.selected,value:i.value,label:i.label})});return C.append(E),x}},{key:"changeOption",value:function(){var l=this.compJson.choices.options||[],i=l.map(function(n){return m.$option({selected:n.selected,value:n.value,label:n.label})});this.$select.empty(),this.$select.append(i)}},{key:"bindAfterRenderEvent",value:function(){var i=this;return this.$li.bind("touchstart mousedown",function(e){i.eqxPage.eqxScene.config.disableBigData||p(window.scene.id,4,null,29,"下拉列表"),e.stopPropagation()}),!0}}]),a}(k);j.exports=g},function(f,b,h){function a(m){var l=m.id,q=m.type,k=m.required,p=void 0===k?null:k,j=$(c(d,{id:l,type:q}));return j.find("#"+l).attr("required",p),j}function g(m){var k=m.selected,q=void 0===k?null:k,j=m.value,p=m.label,l=$('<option  class="comp_select_option" value="'+j+'">'+p+"</option>").attr("selected",q);return l}var d=h(228);h(229);var c=h(40).parse;f.exports={$compDiv:a,$option:g}},function(b,a){b.exports='<div class="comp_drop_down" style="width:100%;height:100%" id="#{id}" ctype="#{type}"><select style="width:100%;height:100%" name="eq[f_#{id}]" class="comp_drop_down_select" ctype="#{type}"></select></div>'},function(b,a){},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var z=function(){function a(l,h){for(var o=0;o<h.length;o++){var c=h[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(e,h,c){return h&&a(e.prototype,h),c&&a(e,c),e}}(),w=g(23).mobilecheck,v=g(23).isAndroidPhone,x=g(113),j=g(231),d=g(40).parse;g(232);var m=function(c){function a(i,l){k(this,a);var h=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l));return $.extend(!0,h.$ability,{style:{compFont:{self:!1,fontFamily:!1},compStyle:{backgroundColor:!0}},trigger:!1,link:!1}),h.eqxScene.formManager.add(h),h}return b(a,c),z(a,[{key:"check",value:function(){var i=this.$li.find("#"+this.id).val(),h={success:!0,pageId:this.pageId,key:this.name,value:i};return this.required&&!i&&(h.success=!1,h.message=this.placeholder+" 为必填项"),h}},{key:"create$context",value:function(){var A=this.compJson,D=A.id,p=A.pageId,u=A.type,l=A.properties,h=l.required,E=void 0===h?null:h,C=l.placeholder,B=void 0===C?null:C;return this.required=E,this.name="eq[f_"+D+"]",this.pageId=p,this.placeholder=B,this.id=D,$(d(j,{id:D,type:u})).attr({required:E,placeholder:B})}},{key:"setInputTitle",value:function(h){this.$context.attr("placeholder",h)}},{key:"bindAfterRenderEvent",value:function(l,o){var h=w();return a.touchStartMouseDownStopPropagation($(l).find("textarea")),this.onFocusBlurWhenFlip($(l).find("textarea")),h&&parseFloat(o.css.top)>=200&&v()&&$(l).find("textarea").click(function(i){setTimeout(function(){i.target.scrollIntoViewIfNeeded()},500)}),!0}},{key:"onFocusBlurWhenFlip",value:function(i){var h=this;i.focus(function(){h.eqxScene.pageScroll.pauseAutoFlip()}).blur(function(){$(document).trigger("startAutoFlip")})}},{key:"addClassToLi",value:function(h){h.addClass("wsite-input")}}],[{key:"touchStartMouseDownStopPropagation",value:function(h){$(h).bind("touchstart mousedown",function(i){i.stopPropagation()})}}]),a}(x);q.exports=m},function(b,a){b.exports='<textarea id="#{id}" ctype="#{type}" class="element comp_input editable-text" maxlength="300" name="eq[f_#{id}]" style="width: 100%;height:100%;box-sizing:border-box;-webkit-overflow-scrolling:touch;user-select: none">\n</textarea>'},function(b,a){},function(k,w,g){function j(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var x=function(){function a(o,l){for(var p=0;p<l.length;p++){var c=l[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),q=function d(p,c,u){null===p&&(p=Function.prototype);var a=Object.getOwnPropertyDescriptor(p,c);if(void 0===a){var s=Object.getPrototypeOf(p);return null===s?void 0:d(s,c,u)}if("value" in a){return a.value}var l=a.get;if(void 0!==l){return l.call(u)}},m=g(230),v=g(125).isEmail,h=function(c){function a(i,l){return j(this,a),f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l))}return b(a,c),x(a,[{key:"check",value:function(){var i=q(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"check",this).call(this);return i.success?(i.value&&!v(i.value)&&(i.success=!1,i.message=this.placeholder+" 格式不对"),i):i}}]),a}(m);k.exports=h},function(k,w,g){function j(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var x=function(){function a(o,l){for(var p=0;p<l.length;p++){var c=l[p];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),q=function d(p,c,u){null===p&&(p=Function.prototype);var a=Object.getOwnPropertyDescriptor(p,c);if(void 0===a){var s=Object.getPrototypeOf(p);return null===s?void 0:d(s,c,u)}if("value" in a){return a.value}var l=a.get;if(void 0!==l){return l.call(u)}},m=g(230),v=g(125).isPhoneNumber,h=function(c){function a(i,l){return j(this,a),f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l))}return b(a,c),x(a,[{key:"check",value:function(){var i=q(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"check",this).call(this);return i.success?(i.value&&!v(i.value)&&(i.success=!1,i.message=this.placeholder+" 格式不对"),i):i}}]),a}(m);k.exports=h},function(j,q,f){function h(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var v=function(){function a(o,l){for(var r=0;r<l.length;r++){var c=l[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),m=f(236),k=f(113),p=f(79).bigDataXBData,g=function(c){function a(l,o){h(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l,o));return $.extend(!0,i.$ability,{style:{base:{color:!1,lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),i.eqxScene.formManager.add(i),i}return b(a,c),v(a,[{key:"check",value:function(){var l=this.$score.val(),i={success:!0,pageId:this.pageId,key:this.name,value:l};return this.required&&!l&&(i.success=!1,i.message="评分项: "+this.title+" 为必填项"),i}},{key:"create$context",value:function(){var D=this.compJson,G=D.id,z=D.pageId,B=D.type,y=D.title,w=D.properties,H=w.required,E=w.icon,F=w.size,A=w.color,x=m.$compDiv({id:G,type:B,required:H,title:y});this.required=H,this.title=y,this.name="eq[f_"+G+"]",this.pageId=z;var C=[1,2,3,4,5].map(function(){return m.icon({icon:E,size:F})});return x.find(".rating-icons").append(C).css({color:A}),this.$score=x.find('input[type="hidden"]'),this.$titleDiv=x.find(".rating-title"),x}},{key:"update$iconColor",value:function(i){this.$context.find(".rating-icons").css({color:i})}},{key:"update$titleDiv",value:function(i){this.$titleDiv.text(i)}},{key:"updateAttrRequire",value:function(i){this.$context.attr("required",i)}},{key:"update$icon",value:function(l,i){this.$context.find("i").removeClass().addClass(l+" "+i+"-line")}},{key:"bindAfterRenderEvent",value:function(z,w){function B(i){y.each(function(e,o){$(o).removeClass(l).addClass(l+"-line"),e<=i&&$(o).removeClass(l+"-line").addClass(l)})}var u=this,A=$(z),y=A.find("i"),x=A.find("input"),l=w.properties.icon;return y.each(function(n,i){$(i).attr("data-event","11211"),$(i).bind("click",function(){B(n),x.val(n+1)}).bind("mouseenter",function(){return B(n)})}),A.find(".rating-icons").bind("mouseleave",function(){return B(~~x.val()-1)}).bind("touchstart mousedown",function(i){u.eqxPage.eqxScene.config.disableBigData||p(window.scene.id,4,null,30,"评分"),i.stopPropagation()}),!0}}]),a}(k);j.exports=g},function(f,b,h){function a(m){var l=m.id,q=m.type,k=m.title,p=m.required,j=void 0===p?null:p;return $(c(d,{id:l,type:q,title:k})).attr("required",j)}function g(j){var i=j.icon,k=j.size;return'<i class="'+k+" "+i+'-line"></i>'}h(237);var d=h(238),c=h(40).parse;f.exports={$compDiv:a,icon:g}},function(b,a){},function(b,a){b.exports='<div class="element comp_rating editable-text" style="width: 100%;height:100%" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]"><div class="rating-title">#{title}</div><div class="rating-icons"></div><input type="hidden" name="eq[f_#{id}]" value=""></div>'},function(j,q,f){function h(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var v=function(){function a(o,l){for(var r=0;r<l.length;r++){var c=l[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(e,l,c){return l&&a(e.prototype,l),c&&a(e,c),e}}(),m=function g(s,c,w){null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,c);if(void 0===a){var u=Object.getPrototypeOf(s);return null===u?void 0:g(u,c,w)}if("value" in a){return a.value}var l=a.get;if(void 0!==l){return l.call(w)}},k=f(240),p=function(c){function a(i,l){return h(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l))}return b(a,c),v(a,[{key:"$compDiv",value:function(i){return i.title+="(可多选)",m(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"$compDiv",this).call(this,i)}},{key:"$option",value:function(i){return i.inputType="checkbox",m(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"$option",this).call(this,i)}},{key:"updateTitle",value:function(){var i=this.compJson.title+"(可多选)";return m(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateTitle",this).call(this,i)}}]),a}(k);j.exports=p},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var z=function(){function a(l,h){for(var o=0;o<h.length;o++){var c=h[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(e,h,c){return h&&a(e.prototype,h),c&&a(e,c),e}}();g(241);var w=g(113),v=g(242),x=g(243),j=g(40).parse,d=g(79).bigDataXBData,m=function(c){function a(i,l){k(this,a);var h=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,i,l));return $.extend(!0,h.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!1},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),h.eqxScene.formManager.add(h),h}return b(a,c),z(a,[{key:"check",value:function(){var i=this.$options.find("input.option[name]").toArray().filter(function(l){return l.checked}).map(function(l){return $(l).val()}).filter(function(l){return !!l}).join(","),h={success:!0,pageId:this.pageId,key:this.name,value:i};return this.required&&!i&&(h.success=!1,h.message=this.title+" 为必填项"),h}},{key:"$compDiv",value:function(A){var l=A.id,C=A.required,h=void 0===C?null:C,B=A.title,u=A.type,p=A.css;return $(j(x,{id:l,title:B,type:u,css:p})).attr({required:h})}},{key:"$option",value:function(B){var p=B.compId,D=B.index,l=B.optionId,C=B.optionLabel,A=B.inputType,u=void 0===A?"radio":A,h=""+p+D;return $(j(v,{id:h,inputType:u,compId:p,optionId:l,optionLabel:C}))}},{key:"create$context",value:function(){var F=this.compJson,J=F.id,C=F.pageId,E=F.type,B=F.properties,h=B.required,K=B.titleStyle,H=void 0===K?{}:K,G=F.title,I=F.css.height;this.title=G,this.pageId=C,this.name="eq[f_"+J+"]",this.required=h;var D=this.$compDiv({id:J,required:h,title:G,type:E,css:{height:I,width:"100%"}});D.find(".radio-title").css(H);var A=this.$options=D.find(".options");return A.html(this.create$options()),D}},{key:"create$options",value:function(){var p=this,l=this.compJson,s=l.id,h=(l.properties.optionStyle,l.choices),r=$("<div>");h.options.length-1;return h.options.forEach(function(n,e){var o=p.$option({compId:s,index:e,optionId:n.id,optionLabel:n.label});r.append(o)}),r.html()}},{key:"bindAfterRenderEvent",value:function(){var h=this;return this.$li.find("label").bind("touchstart mousedown",function(e){h.eqxPage.eqxScene.config.disableBigData||("radio"==$(h).find("input").attr("type")?d(window.scene.id,4,null,27,"单选"):d(window.scene.id,4,null,28,"多选")),e.stopPropagation()}),!0}},{key:"updateTitle",value:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.compJson.title;this.$li.find(".radio-title").text(h)}},{key:"updateOptions",value:function(){var h=this.create$options();this.$options.html(h),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"updateOptionsLabel",value:function(){var h=this.$li.find(".option-label").find("span");this.compJson.choices.options.forEach(function(e,i){$(h[i]).text(e.label)})}},{key:"updateOptionsType",value:function(){var i="c"===this.compJson.type,h=i?"checkbox":"radio";this.$li.find("input").attr("type",h),i?this.updateTitle(this.compJson.title+"(可多选)"):this.updateTitle()}}]),a}(w);q.exports=m},function(b,a){},function(b,a){b.exports='<div class="option-group"><label class="option-label" for="#{id}" data-event="11208"><input class="option" id="#{id}" type="#{inputType}" name="eq[f_#{compId}]" value="#{optionId}"> <span>#{optionLabel}</span></label></div>'},function(b,a){b.exports='<div class="element comp_radio editable-text" id="#{id}" ctype="#{type}" title="#{title}" name="eq[f_#{id}]" style="width: 100%;height: 100%"><div class="radio-title">#{title}</div><div class="options"></div></div>'},function(A,G,m){function w(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var H=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),D=m(245).$postForm,C=m(20),F=m(197),q=m(113),j=m(23).isWeixin,x=m(90).qiniuZoom,B=m(246),z=m(79).bigDataXBData,y=m(80).popUpModal,E=function(c){function a(f,g){w(this,a);var d=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{lineHeight:!1},compStyle:{backgroundColor:!0},compFont:{self:!1,fontFamily:!1}},trigger:!1,sound:!1,link:!1}),d}return b(a,c),H(a,[{key:"create$context",value:function(){var L=this.compJson,O=L.id,v=L.pageId,J=L.type,u=L.properties,f=u.title,P=u.styleImgSrc,N=L.css,I=N.width,g=N.height,K=""+C.FILE+P,M="0";return this.pageId=v,this.$context=P?F.$img({id:O,type:J,src:K,css:{width:I,height:g},padding:M}):F.$btn({id:O,type:J,title:f,css:{width:I,height:g}}),this.$context}},{key:"addClassToLi",value:function(d){d.addClass("wsite-input")}},{key:"bindAfterRenderEvent",value:function(g,f){var h=this,d=!0;$(g).click(function(){h.eqxPage.eqxScene.config.disableBigData||z(window.scene.id,4,null,1,"提交表单");var i=h.eqxScene.formManager,e=i.check(),S=f.sceneId,J=f.id,p=f.pageId,Q=f.properties,n=Q.layout,L=void 0===n?"rating-l":n,K=Q.imgSrc,M=Q.text,N=Q.link,I=Q.checkedLink,t=Q.clickFarmer,O=Q.endTime,R=new Promise(function(){});if(i.submited){R=Promise.reject({code:120505})}else{if(O&&O<Date.now()){R=Promise.reject({code:120602})}else{if(t&&!j()){R=Promise.reject({code:120504})}else{if(e.success){d&&(h.eqxScene.config.disableSubmit?R=Promise.resolve():(O&&(e.form.endTime=O),R=D(e.form,S,p,J)),d=!1)}else{if(e.pageId&&h.pageId!=e.pageId){var u=confirm(e.message+" 是否前往修改？");u&&h.eqxScene.pageScroll.goToPageById(e.pageId)}else{R=Promise.reject({msg:e.message})}}}}}R.then(function(){i.submited=!0,d=!0;var l=!!I,o=K?x(K,240):B;console.log("code----"+JSON.stringify(M)+","+JSON.stringify(g));M=M?M.trim():"报名成功！",F.modal(g,L,l,o,M,N)})["catch"](function(l){d=!0,y(120505===l.code||120603===l.code?"请不要重复提交！":120504===l.code?"请到微信中打开使用！":120602===l.code||120604===l.code?"当前表单已截止提交！":l.msg)})})}},{key:"updateBtnTitle",value:function(d){this.compJson.properties.styleImgSrc||(this.$context[0].innerText=d)}}]),a}(q);A.exports=E},function(f,b,h){function a(l,k,m,j){return c({type:"POST",url:d.SERVER_1+"admin/yqx/dydemo/id/"+window.scene.id,data:l})}function g(j,i,k){return c({type:"POST",url:d.SERVER_1+"eqs/promotion/order/data/r/"+j+"/"+k,data:i})}var d=h(20),c=h(19).ajax;f.exports={$postForm:a,$submitXiuForm:g}},function(b,a,c){},function(G,k,z){function C(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function y(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function w(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var q=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),J=function A(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:A(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}},I=z(23).isWeixin,j=z(113),B=z(248),x=z(249),D=z(40).parse,H=z(250),F=z(76).getWxJSSDK,E=z(79).bigDataXBData,b=function(c){function a(f,g){C(this,a);var d=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},sound:!1,link:!1}),d.wxJssdk=F(),d.soundKey=f.id.toString().substring(3),B[d.soundKey]=B[d.soundKey]||{},B[d.soundKey].wxpId=f.id,d}return w(a,c),q(a,[{key:"create$context",value:function(){var l=this.compJson,f=l.id,p=l.type,d=l.css,m=d.width,h=d.height,g=d.lineHeight;return $(D(x,{id:f,type:p})).css({width:m,height:h,lineHeight:g,display:"inline-block"})}},{key:"bindAfterRenderEvent",value:function(f){var d=this;return $(f).on("mousedown touchstart",function(g){d.eqxPage.eqxScene.config.disableBigData||E(window.scene.id,4,null,23,"互动微信声音"),window.event.stopPropagation(),g.preventDefault(),I()?d.soundPlay():d.playDefaultSound()}),!0}},{key:"updateSize",value:function(d,f){J(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateSize",this).call(this,d,f),this.$context.css({width:f.width,height:f.height,lineHeight:f.height+"px"}),this.compJson.css.lineHeight=f.height+"px"}},{key:"soundPlay",value:function(){var f=this,d=this;if(B[this.soundKey].soundId){var g=B[this.soundKey].soundId;this.eqxScene.soundManager.onPlay({type:4}),this.wxJssdk.then(function(){wx.playVoice({localId:g})})}else{this.compJson.serverId?this.wxJssdk.then(function(){wx.downloadVoice({serverId:f.compJson.serverId,success:function(h){var e=h.localId;f.eqxScene.soundManager.onPlay({type:4}),wx.playVoice({localId:e}),B[d.soundKey].soundId=e},error:function(){f.playDefaultSound()}})}):this.playDefaultSound()}this.wxJssdk.then(function(){wx.onVoicePlayEnd({success:function(){f.eqxScene.soundManager.onEnd({type:4})}})})}},{key:"playDefaultSound",value:function(){var d=this;this.defaultSound||(this.defaultSound=document.createElement("audio"),this.defaultSound.src=z(250)),this.defaultSound.paused?(this.eqxScene.soundManager.onPlay({type:4}),this.defaultSound.play(),$(this.defaultSound).bind("ended",function(){d.eqxScene.soundManager.onEnd({type:4})})):(this.eqxScene.soundManager.onEnd({type:4}),this.defaultSound.pause())}}],[{key:"getDefaultSound",value:function(){return H}}]),a}(j);G.exports=b},function(b,a){b.exports={}},function(b,a){b.exports='<a id="#{id}" class="element comp_wechat_play" ctype="#{type}"><span style="font-size:16px" class="eqf-nosy"></span></a>'},function(b,a,c){b.exports=c.p+"images/wexin_sound-d41d8c.mp3"},function(A,G,m){function w(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var H=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),D=function E(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:E(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}};m(252);var C=m(23).isWeixin,F=m(76).saveWxCompData,q=m(76).generateUserKey,j=m(113),x=m(248),B=m(76).getWxJSSDK,z=m(80).popUpModal,y=function(c){function a(f,g){w(this,a);var d=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return d.wxJssdk=B(),d.soundKey=f.id.toString().substring(3),x[d.soundKey]=x[d.soundKey]||{},x[d.soundKey].wxrId=f.id,$.extend(!0,d.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},compStyle:{backgroundColor:!0}},sound:!1,link:!1}),d}return b(a,c),H(a,[{key:"create$context",value:function(){var f=this.compJson,d=document.createElement("a");return d.innerHTML=f.properties.title,d.id=f.id,d.setAttribute("class","element comp_wechat_hear"),d.setAttribute("ctype",f.type),d.setAttribute("data-event","1120612"),$(d).css({width:f.css.width,height:f.css.height,display:"inline-block"}),$(d)}},{key:"bindAfterRenderEvent",value:function(f){var d=this;return $(f).on("mousedown touchstart",function(g){window.event.stopPropagation(),g.preventDefault(),C()?d.soundRecord():z("请在微信中点我！")}).on("mouseup touchend",function(){C()&&d.calculateTime&&d.soundStopRecord()}),!0}},{key:"updateSize",value:function(d,f){D(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateSize",this).call(this,d,f),this.$context.css({width:f.width,height:f.height,lineHeight:f.height+"px"}),this.compJson.css.lineHeight=f.height+"px"}},{key:"soundRecord",value:function(){var d=this;this.wxJssdk.then(function(){d.eqxScene.soundManager.stopAll(),wx.startRecord({success:function(){d.second=0,d.openPlayState()}}),d.$context.addClass("recording").text("松开 结束")})}},{key:"openPlayState",value:function(){var f=this,d="<div class='voice-panel'><span class='icon eqf-voice'></span><div class='voice-tip'>松开手指 停止录音</div></div>";this.voicePanel=$(d).prependTo(this.$li.parent()),this.calculateTime=setInterval(function(){f.second++,f.second>=50&&$(f.voicePanel).text(60-f.second),60===f.second&&f.soundStopRecord()},1000)}},{key:"soundStopRecord",value:function(){var d=this;clearInterval(this.calculateTime),this.calculateTime=null,this.$context.removeClass("recording").text("按住 说话"),this.eqxScene.soundManager.restoreAll(),$(this.voicePanel).remove(),wx.stopRecord({success:function(e){d.second=0,d.wechatUploadVoice(e.localId)}})}},{key:"wechatUploadVoice",value:function(f){var d=this;x[this.soundKey].soundId=f,wx.uploadVoice({localId:f,isShowProgressTips:1,success:function(g){var h=g.serverId;q(),F(x[d.soundKey].wxpId,h)}})}}]),a}(j);A.exports=y},function(b,a){},function(h,l,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var m=function(){function a(p,o){for(var q=0;q<o.length;q++){var c=o[q];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),k=f(215),j=function(c){function a(o,p){g(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,p));return $.extend(!0,i.$ability,{style:{base:{lineHeight:!1,paddingTop:!1},border:{self:!1},boxShadow:{self:!1}},trigger:!1,sound:!1,link:!1}),i}return b(a,c),m(a,[{key:"updateContent",value:function(i){this.compJson.content=i,this.$context.text(i)}}]),a}(k);h.exports=j},function(h,m,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var p=function(){function a(q,o){for(var r=0;r<o.length;r++){var c=o[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(q,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),k=f(127),j=f(255),l=function(c){function a(o,q){g(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,q));return $.extend(!0,i.$ability,{style:{base:{color:!1,opacity:!1,lineHeight:!1,paddingTop:!1},border:{self:!1},boxShadow:{self:!1}},trigger:!1}),i}return b(a,c),p(a,null,[{key:"getDefaultImg",value:function(){return j}}]),a}(k);h.exports=l},function(b,a,c){b.exports=c.p+"images/wx_default-454286.png"},function(N,B,G){function J(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function F(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?b:a}function D(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}function C(a){j.push(a),Q||R()}function R(){if(Q=!0,j.length>0){var a=j.shift();a().then(function(){R()})}else{Q=!1}}var P=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),A=function q(d,b,g){null===d&&(d=Function.prototype);var a=Object.getOwnPropertyDescriptor(d,b);if(void 0===a){var f=Object.getPrototypeOf(d);return null===f?void 0:q(f,b,g)}if("value" in a){return a.value}var c=a.get;if(void 0!==c){return c.call(g)}},I=G(23).isWeixin,E=G(127),K=G(76).saveWxCompData,O=G(76).generateUserKey,M=G(257),L=G(76).getWxJSSDK,z=G(79).bigDataXBData,H=G(80).popUpModal,j=[],Q=!1,k=function(b){function a(d,f){J(this,a);var c=F(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,f));return $.extend(!0,c.$ability,{style:{base:{paddingTop:!1,lineHeight:!1}},link:!1,sound:!1,trigger:!1}),c.wxJssdk=L(),c}return D(a,b),P(a,[{key:"create$context",value:function(){var d=A(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"create$context",this).call(this),f=this.compJson.serverId,c=this;return d[0].setAttribute("data-event","1120611"),f&&I()&&(d.css("display","none"),C(function(){return new Promise(function(g){c.wxJssdk.then(function(){wx.downloadImage({serverId:f,success:function(e){c.responsiveImage(e.localId),g()}})})})})),d}},{key:"bindAfterRenderEvent",value:function(d,c){var f=this;return I()?$(d).click(function(){f.eqxPage.eqxScene.config.disableBigData||z(window.scene.id,4,null,22,"互动微信照片"),f.uploadImage()}):$(d).click(function(){f.eqxPage.eqxScene.config.disableBigData||z(window.scene.id,4,null,22,"互动微信照片"),H("请在微信中点击我")}),!0}},{key:"uploadImage",value:function(){var c=this;this.wxJssdk.then(function(){wx.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(d){var e=d.localIds;setTimeout(function(){wx.uploadImage({localId:e.toString(),isShowProgressTips:1,success:function(g){c.responsiveImage(e.toString());var f=g.serverId;O(),K(c.compJson.id,f)}})},100)}})})}},{key:"responsiveImage",value:function(d){var c=this;window.__wxjs_is_wkwebview?this.wxJssdk.then(function(){console.log("responsiveImage getLocalImgData start",d),wx.getLocalImgData({localId:d,fail:function(f){console.error("responsiveImage getLocalImgData Error",f)},success:function(f){console.log("responsiveImage getLocalImgData");var g=f.localData;c._responsiveImage(g)}})}):this._responsiveImage(d)}},{key:"_responsiveImage",value:function(d){var c=new Image;c.src=d;var f=this;c.onload=function(){var e,l,h=window.parseInt(f.compJson.css.width,10),g=window.parseInt(f.compJson.css.height,10);c.width/c.height>=h/g?(e=h,l=c.height*(h/c.width)):(l=g,e=c.width*(g/c.height)),f.$context.css({display:"block",width:e+"px",height:l+"px","margin-top":(window.parseInt(f.$li.height(),10)-l)/2+"px","margin-left":(window.parseInt(f.$li.width(),10)-e)/2+"px"}).attr("src",d)}}}],[{key:"getDefaultImg",value:function(){return M}}]),a}(E);N.exports=k},function(b,a,c){b.exports=c.p+"images/wechat_image-f8aa1a.png"},function(A,G,m){function w(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var H=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),D=function E(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:E(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}};m(259);var C=m(23).isWeixin,F=m(113),q=m(260).textVoteTpl,j=m(261).alertTpl,x=m(263).$isVoted,B=m(263).$postVote,z=m(49).randomId,y=function(c){function a(f,g){w(this,a);var d=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return $.extend(!0,d.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},compStyle:{self:!0},commonStyle:{size:!1},advanceStyle:{}},trigger:!1,sound:!1,link:!1,flexLine:"e,w,r"}),d.ids=[],d}return b(a,c),H(a,[{key:"getMinWidth",value:function(){return 300}},{key:"updateSize",value:function(g,f){var h=this.getMinWidth();f.width&&f.width<g.width&&(!f.left||f.left===g.left)&&f.width<h&&this.$li.css({width:h}),f.left&&f.left>g.left&&f.width&&f.width<h&&this.$li.css({left:g.left,width:h});var d=this.$context.height();d!=f.height&&this.$li.height(d)}},{key:"update$li",value:function(f){var g=this.compJson.css,d=this.getMinWidth();f.width&&f.width<g.width&&(!f.left||f.left===g.left)&&f.width<d&&(f.width=d),f.left&&f.left>g.left&&f.width&&f.width<d&&(delete f.left,delete f.width),f.height&&(f.height=this.$context.height()),D(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"update$li",this).call(this,f)}},{key:"create$context",value:function(){var K=this.compJson,P=K.id,p=K.type,v=K.properties,l=v.title,g=v.selectType,Q=v.buttonColor,N=void 0===Q?"#08A1EF":Q,M=v.children,O=void 0===M?[]:M;g="single"==g?"单选":"多选";var I=q({id:P,type:p}),L=$(I);if(this.$title=$('<div class="vote-view-title">'+l+"（"+g+"）</div>"),L.append(this.$title),O.length){this.$options=$('<ul class="vote-view-options"></ul>'),this.childrenOption=O.map(function(f){var d=f.id,h=f.label;return $('<li class="vote-view-option" id="'+d+'"><span><em class="eqf-yes2" style="display: none"></em></span><div class="vote-view-text">'+h+"</div></li>")}),this.$submit=$('<div class="vote-view-button">投票</div>'),this.$options.append(this.childrenOption),L.append(this.$options),L.append(this.$submit);var J=j();this.$tpl=$(J).appendTo(L),this.updateButtonColor(N)}return L}},{key:"updateButtonColor",value:function(d){this.$submit.css({backgroundColor:d})}},{key:"updateTitle",value:function(f,d){d="single"==d?"单选":"多选",this.$title.text(f+"（"+d+"）")}},{key:"updateOptions",value:function(d){this.$options.find("#"+d.id+" .vote-view-text").text(d.label)}},{key:"deleteOption",value:function(d){this.compJson.properties.children.splice(d,1),this.childrenOption.splice(d,1)[0].remove(),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"addOption",value:function(){var f={id:z(),label:"选项"+(this.compJson.properties.children.length+1)};this.compJson.properties.children.push(f);var d=$('<li class="vote-view-option" id="'+f.id+'"><span><em class="eqf-yes2" style="display: none"></em></span><div class="vote-view-text">'+f.label+"</div></li>");this.childrenOption.push(d),this.$options.append(d),this.$li.css({height:""}),this.update$li({height:this.$li.height()})}},{key:"bindAfterRenderEvent",value:function(f,d){var g=this;C()?this.isVoted().then(function(){g.$options.children().on("click",function(l){var h=$(l.currentTarget).find(".eqf-yes2");h.is(":hidden")?"single"==d.properties.selectType&&1==g.ids.length?(g.$options.find(".eqf-yes2").hide(),g.ids[0]=l.currentTarget.id,h.show()):"multi"==d.properties.selectType&&g.ids.length==d.properties.selectCount?g.alertTpl("最多选择"+d.properties.selectCount+"项"):(h.show(),g.ids.push(l.currentTarget.id)):(h.hide(),g.ids.splice(g.ids.indexOf(l.currentTarget.id),1))}),g.$submit.on("click",function(){var l=d.sceneId,h=d.pageId;g.ids.length?B(l,d.id,{pageId:h,data:JSON.stringify(g.ids)}).then(function(i){i.success&&g.alertTpl("投票成功，谢谢参与！").then(function(){g.showVoted(i.map),g.$submit.off(),g.$options.children().off()})}):g.alertTpl("请至少选择一项")})}):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票")}},{key:"alertTpl",value:function(f){var d=this;return new Promise(function(g,e){d.$tpl.find("span").text(f),d.$tpl.css({opacity:1,zIndex:2}),window.setTimeout(function(){d.$tpl.css({opacity:0,zIndex:-2}),g()},2000)})}},{key:"showVoted",value:function(g){var f=this;this.$options.find(".eqf-yes2").hide();var h=[],d=0;this.compJson.properties.children.forEach(function(i){var e=i.id;h.push({id:e,count:g[e]||0}),d+=g[e]||0,g[e]&&f.ids.push(e)}),h.forEach(function(i){$('<em style="float:right">'+i.count+"  ("+(i.count/d*100).toFixed(2)+" % 100)</em>").prependTo(f.$options.find("#"+i.id))}),this.$li.height(""),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"isVoted",value:function(){var d=this;return new Promise(function(g,u){var f=d.compJson.properties.endTime;if(f&&f<Date.now()){d.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),u()}else{if(C()){var p=d.compJson,l=p.sceneId,h=p.pageId,e=p.id;x(e,{sceneId:l,pageId:h}).then(function(n){n.obj?(d.showVoted(n.map),u()):g()})}else{u()}}})}}]),a}(F);A.exports=y},function(b,a){},function(b,a){function c(f){var d=f.id,g=f.type;f.title,f.selectType;return'<div  id="'+d+'" ctype="'+g+'" class="vote-view">\n    </div>'}b.exports={textVoteTpl:c}},function(c,b,d){function a(){return'<div class="vote-alert">\n              <span></span>\n            </div>'}d(262),c.exports={alertTpl:a}},function(b,a){},function(f,b,h){function a(j,i){return c({type:"POST",url:d.SERVER_1+"eqs/vote/verify/"+j,data:i})}function g(j,i,k){return c({type:"POST",url:d.SERVER_1+"eqs/vote/"+j+"/"+i,data:k})}var d=h(20),c=h(19).ajax;f.exports={$isVoted:a,$postVote:g}},function(G,k,z){function C(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function y(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function w(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var q=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),J=function A(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:A(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}};z(265);var I=z(20),j=z(21).$loadSliders,B=z(113),x=z(23).isWeixin,D=z(261).alertTpl,H=z(263).$isVoted,F=z(263).$postVote,E=z(266),b=function(c){function a(f,g){C(this,a);var d=y(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return d.intervalObj={},d.descIds=[],$.extend(!0,d.$ability,{style:{base:{backgroundColor:!1,color:!1,opacity:!1,paddingTop:!1,lineHeight:!1},compStyle:{self:!0},commonStyle:{size:!1}},trigger:!1,sound:!1,link:!1,flexLine:"r"}),d}return w(a,c),q(a,[{key:"updateSize",value:function(f,d){this.$slider.width(d.width),this.plugin.update()}},{key:"create$context",value:function(){var Q=this;this.descArr=[],this.imgArr=[],this.loadPlugin=Promise.resolve();var W=this.compJson,L=W.id,O=W.type,K=W.css.width,g=W.properties;g=void 0===g?{}:g;var X=g.title,T=g.selectType,V=g.buttonColor,N=void 0===V?"#08A1EF":V,h=g.children,R=void 0===h?[]:h,P=g.bgColor;T="single"==T?"单选":"多选";var U=$('<div id="'+L+'" ctype="'+O+'" class="vote-img"></div>').css("background-color",P);if(R.length){R.forEach(function(e){var m=e.src,d=e.desc,l=e.id,f=m?""+(I.FILE+m):E;Q.imgArr.push($('<div style="background-image:url('+f+'); width: 100%; height: 100%; background-size: contain; background-repeat: no-repeat; background-position: 50%"></div>')),Q.descArr.push($('<li id="'+l+'">'+d+"</li>"))}),this.$title=$('<div class="vote-img-prev-title"><h1>'+X+'</h1><span class="vote-img-sing-double">('+T+")</span></div>"),U.append(this.$title),this.$slider=$('<div class="slides" style="width: '+K+'px;"></div>');var M=$('<ul class="vote-img-desc"></ul>');M.append(this.descArr),this.$slider.append(this.imgArr),this.loadPlugin=this.initSlider(M),U.append(this.$slider),this.$submit=$('<a class="btn-main">提交</a>'),U.append(this.$submit);var S=D();this.$tpl=$(S).appendTo(U),this.updateButtonColor(N)}return U}},{key:"updateButtonColor",value:function(d){this.$submit.css({backgroundColor:d})}},{key:"updateOptions",value:function(f,d){this.plugin["goto"](d+1),this.descArr[d].text(f.desc),this.imgArr[d].css({backgroundImage:"url("+I.FILE+f.src+")"})}},{key:"updateTitle",value:function(f,d){d="single"==d?"单选":"多选",this.$title.find("h1").text(f),this.$title.find(".vote-img-sing-double").text("("+d+")")}},{key:"initSlider",value:function(f){var d=this;return this.$em=$('<span class="eqf-glyphicon-ok"></span>'),j().then(function(){return d.$slider.slidesjs({width:300,height:329,navigation:{active:!1},callback:{loaded:function(){f.children().css({display:"none"}),d.descArr[0].css({display:"inline-block"}),d.$slider.append(f),d.$slider.find(".slidesjs-container").append(d.$em)},start:function(g){},complete:function(g){f.children().css({display:"none"}),d.descArr[g-1].css({display:"inline-block"});var e=d.descArr[g-1].attr("id");d.descIds.indexOf(e)==-1?d.$em.removeClass("active"):d.$em.addClass("active")}}}),d.plugin=d.$slider.data("plugin_slidesjs"),d.plugin})}},{key:"bindAfterRenderEvent",value:function(f,d){var g=this;return x()?this.loadPlugin.then(function(){return g.isVoted()}).then(function(){g.$em.on("click",function(l){l.preventDefault(),l.stopPropagation();var h=g.descArr[g.plugin.data.current].attr("id");g.descIds.indexOf(h)==-1?"single"==d.properties.selectType&&1==g.descIds.length?(g.descIds[0]=h,g.$em.addClass("active")):"multi"==d.properties.selectType&&g.descIds.length==d.properties.selectCount?g.alertTpl("最多选择"+d.properties.selectCount+"项"):(g.descIds.push(h),g.$em.addClass("active")):(g.descIds.splice(g.descIds.indexOf(h),1),g.$em.removeClass("active"))}),g.$submit.on("click",function(l){l.preventDefault(),l.stopPropagation();var h=d.sceneId,m=d.pageId;g.descIds.length?F(h,d.id,{pageId:m,data:JSON.stringify(g.descIds)}).then(function(i){i.success&&g.alertTpl("投票成功，谢谢参与！").then(function(){g.showVoted(i.map),g.$em.off(),g.$submit.off()})}):g.alertTpl("请至少选择一项")})}):this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("请在微信中投票"),!1}},{key:"showVoted",value:function(h){var f=this;this.descIds=[],this.$em.remove(),this.plugin.stop(),this.$slider.remove();var m={},d=[],l=0;this.compJson.properties.children.forEach(function(n){var i=n.id,e=n.desc;m[i]=e,d.push({id:i,count:h[i]||0}),l+=h[i]||0,h[i]&&f.descIds.push(i)});var g=$('<ul class="vote-img-ul"></ul>');d.forEach(function(i){g.append($("<li id = '"+i.id+'\' class="vote-img-li"><em style="float: right">'+i.count+" ("+(i.count/l*100).toFixed(2)+" %)</em> "+m[i.id]+"</li>"))}),g.insertBefore(this.$submit),this.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("你已投票")}},{key:"alertTpl",value:function(f){var d=this;return new Promise(function(g,e){d.$tpl.find("span").text(f),d.$tpl.css({opacity:1,zIndex:1001}),window.setTimeout(function(){d.$tpl.css({opacity:0,zIndex:-2}),g()},2000)})}},{key:"isVoted",value:function(){var d=this;return new Promise(function(f,m){if(d.compJson.properties.endTime&&new Date(d.compJson.properties.endTime)<new Date&&(d.$submit.css({backgroundColor:"#f0f3f4",color:"#a3afb7"}).text("投票已过期"),m()),x()){var e=d.compJson,l=e.sceneId,h=e.pageId,g=e.id;H(g,{sceneId:l,pageId:h}).then(function(n){n.obj?(d.showVoted(n.map),m()):f()})}else{m()}})}},{key:"startPlay",value:function(){var d=this;this.playInterval=setInterval(function(){d.plugin&&d.plugin.next()},5000)}},{key:"stopPlay",value:function(){this.playInterval&&(clearInterval(this.playInterval),this.playInterval=null)}},{key:"eleHide",value:function(){J(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleHide",this).call(this),this.stopPlay()}},{key:"eleShow",value:function(){J(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"eleShow",this).call(this),this.startPlay()}}]),a}(B);G.exports=b},function(b,a){},function(b,a,c){b.exports=c.p+"images/defaultImg-f9d1d1.svg"},function(O,C,H){function K(b,a){if(!(b instanceof a)){throw new TypeError("Cannot call a class as a function")}}function G(b,a){if(!b){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?b:a}function E(b,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}b.prototype=Object.create(a&&a.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(b,a):b.__proto__=a)}var D=function(){function a(d,c){for(var f=0;f<c.length;f++){var b=c[f];b.enumerable=b.enumerable||!1,b.configurable=!0,"value" in b&&(b.writable=!0),Object.defineProperty(d,b.key,b)}}return function(c,d,b){return d&&a(c.prototype,d),b&&a(c,b),c}}(),T=function j(d,b,g){null===d&&(d=Function.prototype);var a=Object.getOwnPropertyDescriptor(d,b);if(void 0===a){var f=Object.getPrototypeOf(d);return null===f?void 0:j(f,b,g)}if("value" in a){return a.value}var c=a.get;if(void 0!==c){return c.call(g)}};H(268);var R=H(113),B=H(37),J=H(22).addUrlParam,F=H(23).isWeixin,L=H(23).isPc,Q=H(76).getWxJSSDK,N=H(64).COMP_KEY,M=H(76).addCompKey,A="ontouchstart" in window,I=A?"touchstart":"mousedown",k=A?"touchmove":"mousemove",S=A?"touchend":"mouseup",q={},z=function(b){function a(d,f){K(this,a);var c=G(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,f));return c.wxJssdk=Q(),c}return E(a,b),D(a,[{key:"updateSize",value:function(d,f){T(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"updateSize",this).call(this,d,f),this.setCanvasSize(f.width,f.height);var c=this.compJson.properties.imgSrc;c&&(this.clearCanvas(),this.drawingImage(c))}},{key:"create$context",value:function(){var l=$('<div style="position: relative"></div>');this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d");var u=this.compJson,g=u.css,h=g.width,f=g.height,d=u.properties,v=d.imgSrc,p=d.boardColor,m=d.qiniuSrc;return this.setCanvasSize(h,f),this.setCanvasBgColor(p),v&&this.drawingImage(v),m&&(q[this.compJson.id]=m),this.$alert=$('<div class="board-bg" style="display: none"><span class="board-alert">正在保存...</span></div>'),this.$penBtn=$('<span class="board-pen"></span>'),this.$closeBtn=$('<span class="board-close" style="display: none"></span>'),l.append(this.$alert),l.append(this.$penBtn),l.append(this.$closeBtn),this.$resetBtn=$('<a class="board-btn board-reset" style="display: none">重画</a>'),this.$endBtn=$('<a class="board-btn board-end" style="display: none">完成</a>'),l.append(this.$resetBtn),l.append(this.$endBtn),l.append(this.canvas),l}},{key:"setCanvasSize",value:function(d,c){this.canvas.width=d,this.canvas.height=c}},{key:"setCanvasBgColor",value:function(c){this.canvas.style.backgroundColor=c}},{key:"drawingImage",value:function(l,f){var p=this.compJson.css,d=p.width,m=p.height,h="";h="base64"==f?l:this.getImgSrc(l,{width:d,height:m});var g=new Image;g.setAttribute("crossOrigin","anonymouse");var c=this;g.onload=function(){var s=0,i=0,u=d,o=m;this.width/d>this.height/m?(u=this.width/(this.height/m),s=(d-u)/2):(o=this.height/(this.width/d),i=(m-o)/2),c.ctx.drawImage(g,s,i,u,o)},g.src=h}},{key:"clearCanvas",value:function(){var d=this.compJson.css,c=d.width,f=d.height;this.ctx.clearRect(0,0,c,f)}},{key:"bindAfterRenderEvent",value:function(h,d){var m=this,c=!1,l=!1,g=0,f=0;return this.$penBtn.on("click",function(){return !c&&(m.clearCanvas(),c=!0,m.$resetBtn.css({display:"inline-block"}),m.$endBtn.css({display:"inline-block"}),m.$closeBtn.css({display:"inline-block"}),!A&&m.canvas.classList.add("boarding"),void 0)}),this.$closeBtn.on("click",function(){m.clearCanvas(),c=!1,m.$resetBtn.hide(),m.$endBtn.hide(),m.$closeBtn.hide(),!A&&m.canvas.classList.remove("boarding"),m.compJson.properties.imgSrc&&m.drawingImage(m.compJson.properties.imgSrc)}),this.$resetBtn.on("click",function(){m.clearCanvas()}),this.$endBtn.on("click",function(){c=!1,m.$resetBtn.hide(),m.$endBtn.hide(),m.$closeBtn.hide(),!A&&m.canvas.classList.remove("boarding"),m.saveImage()}),this.canvas.addEventListener(I,function(n){if(!c){return !1}n.preventDefault(),n.stopPropagation(),l=!0;var i=m.canvas.getBoundingClientRect();n=A?n.targetTouches[0]:n,g=A?n.pageX-i.left:n.offsetX,f=A?n.pageY-i.top:n.offsetY+10}),this.canvas.addEventListener(k,function(o){if(!c||!l){return !1}var i=m.canvas.getBoundingClientRect();o=A?o.targetTouches[0]:o;var p=A?o.pageX-i.left:o.offsetX,n=A?o.pageY-i.top:o.offsetY+10;m.ctx.beginPath(),m.ctx.moveTo(g,f),m.ctx.lineTo(p,n),m.ctx.strokeStyle=d.properties.penColor,m.ctx.lineWidth=d.properties.penSize,m.ctx.lineCap="round",m.ctx.stroke(),g=p,f=n}),this.canvas.addEventListener(S,function(i){l=!1}),this.canvas.addEventListener("mouseleave",function(i){l=!1}),!0}},{key:"saveImage",value:function(){var c=this;this.$alert.show(),B.$getUploadToken("image").then(function(d){var e=c.canvas.toDataURL("image/png");return B.$uploadBase64(d.map.token,e.substring(22))}).then(function(d){return q[c.compJson.id]=d.key,B.$saveCompInfoByCompKey(N,q)}).then(function(){var d=J("compKey",N,window.location.href);F()?c.wxJssdk.then(function(){M(d,N)}):window.history.replaceState({title:$("title").html(),url:d},$("title").html(),d),L()&&($("#codeImg").empty(),$("#codeImg").qrcode({render:"canvas",width:200,height:200,text:d})),c.$alert.hide()})}}]),a}(R);O.exports=z},function(b,a){},function(h,l,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function a(p,o){for(var q=0;q<o.length;q++){var c=o[q];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}();f(270),f(271);var b=f(272),m=f(273),k=f(51).isRightArrow,j=function(){function a(c){g(this,a),this.$arrow=this.create$arrow(c)}return d(a,[{key:"create$arrow",value:function(c){return k(c)?$(m):$(b)}},{key:"updatePageMode",value:function(i){var c=this.create$arrow(i);this.$arrow&&(this.$arrow.replaceWith(c),this.$arrow=c,this.css&&this.updateCss(this.css))}},{key:"updateCss",value:function(c){this.css=c,this.$arrow.css(c)}},{key:"remove",value:function(){this.$arrow.remove()}}]),a}();h.exports=j},function(b,a){},function(b,a){},function(b,a){b.exports='<section class="u-arrow-bottom"><div class="pre-wrap-bottom"><div class="pre-box1"><div class="pre1"></div></div><div class="pre-box2"><div class="pre2"></div></div></div></section>'},function(b,a){b.exports='<section class="u-arrow-right"><div class="pre-wrap-right"><div class="pre-box3"><div class="pre3"></div></div><div class="pre-box4"><div class="pre4"></div></div></div></section>'},function(h,m,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var p=function(){function a(q,o){for(var r=0;r<o.length;r++){var c=o[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(q,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),k=f(117),j=f(119).RAW_EVENT,l=function(c){function a(q,t,o){g(this,a);var i=d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,q,t,o));return i.removeEventListener(),i}return b(a,c),p(a,[{key:"addEventListener",value:function(){this.addShakeEventListener()}},{key:"removeEventListener",value:function(){this.removeShakeEventListener()}},{key:"removeShakeEventListener",value:function(){this.shakeHandler&&window.removeEventListener("devicemotion",this.shakeHandler,!1)}},{key:"addShakeEventListener",value:function(){if(window.DeviceMotionEvent){this.shakeAudio||(this.shakeAudio=document.createElement("audio"),this.shakeAudio.src=f(275));var x=this,u=4000,q=0,y=0,w=0,v=0,n=100;this.shakeHandler=function(A){var z=A.accelerationIncludingGravity,i=z.x,e=z.y,s=z.z,o=(new Date).getTime();if(o-q>n){var t=parseInt(o-q);q=o;var r=Math.abs(i+e+s-y-w-v)/t*10000;r>u?(n=2000,x.shake()):n=100,y=i,w=e,v=s}},window.addEventListener("devicemotion",this.shakeHandler,!1)}}},{key:"shake",value:function(){var o=this,i=this.master.pageJson.id,q=this.triggerJson.sends.filter(function(n){return n.type===j.shake});this.shakeAudio.play(),setTimeout(function(){q.forEach(function(e){o.publish(i,e)})},500)}}]),a}(k);h.exports=l},function(b,a,c){b.exports=c.p+"images/wxShake-3a1ea8.mp3"},function(h,d,k){function c(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function")}}var j=function(){function a(o,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}return function(l,m,e){return m&&a(l.prototype,m),e&&a(l,e),l}}(),g=k(64).COMP_TYPE,f=k(64).FORM_COMPS,b=function(){function a(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];c(this,a),this.compJsonList=i,this.compNumMap={},Object.keys(g).forEach(function(l){e.compNumMap[l]=0})}return j(a,[{key:"iterate",value:function(){var i=this;this.compJsonList.forEach(function(e){i.compNumMap[e.type]+=1})}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"hasComp",value:function(i){return !!this.compNumMap[i]}},{key:"hasRedPacketComp",value:function(){return this.hasComp(9)}},{key:"hasMapComp",value:function(){return this.hasComp("m")}},{key:"hasChartComp",value:function(){return this.hasComp("t")}},{key:"hasCommentComp",value:function(){return this.hasComp("b")}},{key:"hasSubmitButtonComp",value:function(){return this.hasComp(6)||this.hasComp(601)}},{key:"hasFormComp",value:function(){var l=this,i=0;return f.forEach(function(e){i+=l.compNumMap[e]}),!!i}}]),a}();h.exports=b},function(x,C,k){function q(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var j=function(){function a(f,d){for(var h=0;h<d.length;h++){var c=d[h];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),b=k(20),D=k(22).resolveUrl,A=k(278),z=k(40).parse,B=k(90),m=k(23),g=k(279),v=k(280),y={none:0,Gravity:1,Parallax:2},w=function(){function a(c,e){q(this,a),this.compJson=c,this.eqxScene=e.eqxScene;var d=this.eqxScene.config;d.EqxGravity.disableGravityMotion?this.gravityMode=y.none:m.mobilecheck()?this.gravityMode=y.Gravity:this.gravityMode=y.Parallax,this.gravityPromise=null,this.gravity=null}return j(a,[{key:"updateBgHeight",value:function(c){this.$gravity.css({height:c})}},{key:"updateCss",value:function(c){this.$gravity.css(c)}},{key:"create$gravity",value:function(){var E=this,K=this.compJson,d=K.id,r=K.properties.imgSrc,c=K.css,p=c.top,u=c.left,s=c.width,J=c.height,h=this.eqxScene,G=h.width,F=h.height;if(r){var H=D(b.FILE,r),I=$(z(A,{id:d,src:H}));this.$gravity=I,this.gravityPromise=B.loadImg(H).then(function(){switch(I.find("img").css({transform:"translate3d("+u+"px,"+p+"px,0)",width:s,height:J}),E.gravityMode){case y.Gravity:E.gravity=new v(d,$(I.find("img")),p,u,G,F),E.gravity.init();break;case y.Parallax:g(I,{innerW:s,innerH:J,outerW:G,outerH:F})}})}return this.$gravity}},{key:"delete$gravity",value:function(){var c=this;this.gravityMode===y.Gravity&&this.gravityPromise&&this.gravityPromise.then(function(){c.gravity.destroy()}),this.$gravity&&this.$gravity.remove()}},{key:"update$gravity",value:function(){this.delete$gravity(),this.create$gravity()}}]),a}();x.exports=w},function(b,a){b.exports='<div id="wrapper-gravity#{id}" class="eqx-bg-img" style="position: absolute;z-index: 0;width: 100%;height:100%"><div class="layer" data-depth="0.5"><img src="#{src}" alt="" style="position:absolute"/></div></div>'},function(c,b,f){function a(h,g){d.$loadParallax().then(function(){var k=g.innerW,p=g.innerH,j=g.outerW,e=g.outerH,w=g.scalarX,t=void 0===w?100:w,q=g.scalarY,v=void 0===q?100:q;console.log("重力感应 Parallax Starts!",g);var m={calibrateX:!0,calibrateY:!0,invertX:!0,invertY:!0,limitX:parseInt(k)-parseInt(j),limitY:parseInt(p)-parseInt(e),scalarX:t,scalarY:v,frictionX:1,frictionY:1,originX:0.5,originY:0.5};new Parallax(h[0],m)})}var d=f(21);c.exports=a},function(c,b){function f(h,g){if(!(h instanceof g)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function g(k,j){for(var l=0;l<j.length;l++){var h=j[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(h,j,e){return j&&g(h.prototype,j),e&&g(h,e),h}}(),d=function(){function g(j,h,m,l,k,e){f(this,g),this.id=j,this.bgHeight=0,this.bgWidth=0,this.offsetLeft=l,this.offsetTop=m,this.screenHeight=e,this.screenWidth=k,this.isFirst=!0,this.firstGamma=0,this.firstBeta=0,this.lastGama=0,this.lastBeta=0,this.targetLeft=0,this.targetTop=0,this.bg=h}return a(g,[{key:"init",value:function(){var h=this;h.targetLeft=h.nowLeft=h.offsetLeft,h.targetTop=h.nowTop=h.offsetTop,h.bindEvent(),h.requestAnimationFrame=h.requestAnimationFrame.bind(this),h.raf=requestAnimationFrame(h.requestAnimationFrame)}},{key:"bindEvent",value:function(){var h=this;$(window).on("deviceorientation."+h.id,function(e){var i=e.originalEvent;i.g=i.gamma,i.b=i.beta,h.isFirst&&(h.bgHeight=h.bg.height(),h.bgWidth=h.bg.width(),h.nowGama=h.lastGama=h.firstGamma=i.g,h.nowBeta=h.lastBeta=h.firstBeta=i.b,h.isFirst=!1),(Math.abs(i.g-h.lastGama)>3||Math.abs(i.b-h.lastBeta)>3)&&(h.targetLeft=Math.round(h.offsetLeft+(h.firstGamma-i.g)*h.bgWidth/180),h.targetTop=Math.round(h.offsetTop+(i.b-h.firstBeta)*h.bgHeight/180),h.nowBeta=h.lastBeta=i.b,h.nowGama=h.lastGama=i.g,h.targetLeft>=0?h.targetLeft=0:h.targetLeft<h.screenWidth-h.bgWidth&&(h.targetLeft=h.screenWidth-h.bgWidth),h.targetTop>=0?h.targetTop=0:h.targetTop<h.screenHeight-h.bgHeight&&(h.targetTop=h.screenHeight-h.bgHeight))})}},{key:"requestAnimationFrame",value:function(i){function h(){return i.apply(this,arguments)}return h.toString=function(){return i.toString()},h}(function(){var i=0,h=0,j=this;j.isFirst||(i=0.1*(j.targetLeft-j.nowLeft),h=0.1*(j.targetTop-j.nowTop),j.nowLeft+=+i.toFixed(5),j.nowTop+=+h.toFixed(5),j.bg.css({transform:"translate3d("+j.nowLeft+"px,"+j.nowTop+"px,0)","-ms-transform":"translate3d("+j.nowLeft+"px,"+j.nowTop+"px,0)","-webkit-transform":"translate3d("+j.nowLeft+"px,"+j.nowTop+"px,0)"})),j.raf=requestAnimationFrame(j.requestAnimationFrame)})},{key:"destroy",value:function(){window.cancelAnimationFrame(this.raf),$(window).off("deviceorientation."+this.id)}}]),g}();c.exports=d},function(b,a){var c=[{name:"红包",types:["9"]},{name:"新文本",types:["7"]},{name:"文本",types:["2","x","298","299"]},{name:"微信昵称",types:["201"]},{name:"背景",types:["3"]},{name:"图片",types:["4"]},{name:"微信头像",types:["401"]},{name:"微信照片",types:["403"]},{name:"输入框",types:["5","501","502","503","504"]},{name:"提交按钮",types:["6","601"]},{name:"电话",types:["8"]},{name:"评分",types:["a"]},{name:"留言板",types:["b"]},{name:"复选框",types:["c"]},{name:"阅读量",types:["d"]},{name:"广告",types:["g"]},{name:"形状",types:["h"]},{name:"计数器",types:["i"]},{name:"链接",types:["l"]},{name:"地图",types:["m"]},{name:"随机图片",types:["n"]},{name:"图集",types:["p"]},{name:"单选框",types:["r"]},{name:"音效",types:["s"]},{name:"图表",types:["t"]},{name:"视频",types:["v"]},{name:"互动视频",types:["o"]},{name:"微信声音",types:["w01","w02"]},{name:"下拉列表",types:["z"]},{name:"计时",types:["e","f"]},{name:"投票",types:["j","k"]},{name:"重力感应",types:["q"]},{name:"画板",types:["u"]}];b.exports=c},function(h,d){function k(i){if(Array.isArray(i)){for(var a=0,l=Array(i.length);a<i.length;a++){l[a]=i[a]}return l}return Array.from(i)}function c(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function")}}function j(m){var l,o=m.constructor===Array?[]:{};if("object"===("undefined"==typeof m?"undefined":g(m))){if(window.JSON){l=JSON.stringify(m),o=JSON.parse(l)}else{for(var a in m){o[a]="object"===g(m[a])?j(m[a]):m[a]}}return o}}var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},f=function(){function a(o,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}return function(l,m,e){return m&&a(l.prototype,m),e&&a(l,e),l}}(),b=function(){function a(e){return c(this,a),this.page=e,this.oGroups=this.page.pageJson.groups=this.page.pageJson.groups||[],this.nGroups=[],this.items=[],this.updateItems(),this.updateGroupsIndex(),this.updateItemsByIndex(),this}return f(a,[{key:"dragGroup2Group",value:function(){this.items.forEach(function(l){if(!l.compJson){var i=[];l.comps.forEach(function(m){return m.compJson?i.push(m):i.push.apply(i,k(m.comps))}),l.comps=i}})}},{key:"formatCompsGap",value:function(p){for(var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=1;r<p.length;r++){var l=p[r],q=p[r-1];l.updatePos2(l.compJson.css.left,parseInt(q.compJson.css.top)+parseInt(q.compJson.css.height)+m)}}},{key:"openFormGroup",value:function(l){var i=!0;return l.forEach(function(m){var o=m.type.toString();"a"!==o&&"z"!==o&&"c"!==o&&"r"!==o&&"6"!==o&&["5","501","502","503","504"].indexOf(o)===-1&&(i=!1)}),i}},{key:"deleteItems",value:function(l){var i=this,m=[];return l.forEach(function(p){if(p.compJson){var n=i.findCompInItemsById(p.compJson.id);m.indexOf(n)===-1&&m.push(n)}else{if(!p.compJson){var q=i.items.findIndex(function(e){return !e.compJson&&1!==e.compIds.indexOf(p.compIds[0])});1!==q&&i.items[q].comps.forEach(function(o){return m.indexOf(o)===-1&&m.push(o)})}}}),m}},{key:"findCompInItemsById",value:function(u){for(var m=this.items,w=0;w<m.length;w++){var l=m[w];if(l.compJson&&l.compJson.id===u){return l}if(!l.compJson){for(var v=l.comps,q=0;q<v.length;q++){var p=v[q];if(p.compJson.id===u){return p}}}}return null}},{key:"rmCompsByIds",value:function(i){this.items=this.items.filter(function(e){return e.compJson&&i.indexOf(e.compJson.id)===-1||!e.compJson}),this.items.forEach(function(e){e.compJson||(e.comps=e.comps.filter(function(l){return i.indexOf(l.compJson.id)===-1}))})}},{key:"copyItems",value:function(n){var m=this,l=[];return n.slice().sort(function(q,p){var r=q.compJson?q.compJson.css.zIndex:q.index,o=p.compJson?p.compJson.css.zIndex:p.index;return r-o}).forEach(function(p){if(p.compJson){var q=m.copyComp(p);q&&l.push(q)&&m.items.unshift(q)}else{var i=m.copyGroup(p);i.length&&l.push.apply(l,k(i))}}),l}},{key:"copyComp",value:function(l){var i=JSON.parse(JSON.stringify(l.compJson));if(i.css.left+=10,i.css.top+=10,delete i.id,delete i.css.zIndex,i=this.page.addCompJson(i)){var m=this.page.initEqxCompByJson(i);if(m){return this.page.renderEqxComp(m),m.startAnimation({maxCount:1,reset:!0}),m}}return null}},{key:"copyGroup",value:function(l){var i=this,m=[];return l.comps.slice().sort(function(q,p){var r=q.compJson.css.zIndex,o=p.compJson.css.zIndex;return r-o}).forEach(function(o){var n=i.copyComp(o);n&&m.push(n)&&i.items.unshift(n)}),this.groupComps(m),m}},{key:"groupComps",value:function(i){this.groupCompIds(i.map(function(l){return l.compJson.id})),this.updateItems(),this.updateGroupsIndex(),this.updateItemsByIndex(),this.resetCompsIndexInItems(),this.updateGroupsIndex(),this.revertItems2Json()}},{key:"unGroupComps",value:function(i){this.rmGroupByCompId(i.comps[0].compJson.id),this.updateItems(),this.updateItemsByIndex(),this.resetCompsIndexInItems(),this.updateGroupsIndex(),this.revertItems2Json()}},{key:"revertItems2Json",value:function(){var i=[];this.items.forEach(function(e){e.compJson||i.push({name:e.name,compIds:e.comps.map(function(l){return l.compJson.id})})}),this.oGroups=this.page.pageJson.groups=i}},{key:"rmEmptyGroups",value:function(){this.items=this.items.filter(function(i){return i.compJson||i.comps.length})}},{key:"rmGroupByCompId",value:function(i){this.oGroups.splice(this.oGroups.findIndex(function(e){return e.compIds.indexOf(i)!==-1}),1)}},{key:"findGroupByCompId",value:function(i){return this.nGroups.find(function(e){return e.compIds.indexOf(i)!==-1})}},{key:"resetCompsIndexInItems",value:function(){var i=[];this.items.forEach(function(e){e.compJson?i.push(e):i.push.apply(i,k(e.comps))}),this.page.resetZIndex(i)}},{key:"groupCompIds",value:function(i){!this.isHaveCompInGroup(i)&&this.oGroups.push({compIds:i,name:"组合"+(this.oGroups.length+1)})}},{key:"isHaveCompInGroup",value:function(l){var i=this.nGroups,m=!1;return i.forEach(function(e){l.forEach(function(n){e.compIds.indexOf(n)!==-1&&(m=!0)})}),m}},{key:"updateItemsByIndex",value:function(){this.items.sort(function(o,m){var p=o.compJson?o.compJson.css.zIndex:o.index,l=m.compJson?m.compJson.css.zIndex:m.index;return l-p})}},{key:"updateGroupsIndex",value:function(){this.nGroups.forEach(function(l){var i=0;l.comps.forEach(function(m){var o=m.compJson;i<o.css.zIndex&&(i=o.css.zIndex)}),l.index=i})}},{key:"updateItems",value:function(){var n=this.page.eqxCompList,m=this.nGroups=[],l=this.items=[];j(this.oGroups).forEach(function(e){e.comps=e.compIds.map(function(i){return n.find(function(o){return o.compJson.id===i})}),e.comps.sort(function(o,i){return i.compJson.css.zIndex-o.compJson.css.zIndex}),m.push(e),l.push(e)}),l.push.apply(l,k(n.filter(function(p){for(var q=0;q<m.length;q++){var o=m[q];if(o.compIds.indexOf(p.compJson.id)!==-1){return !1}}return !0})))}}]),a}();h.exports=b},function(A,G,m){function w(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function H(c){var a=c.elements;return a.some(function(f){var d=f.type,g=f.properties.croptype;return"EqxBackground"==q[d]&&g==j["全屏背景模式"]})}var D=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),C=function E(f,c,h){null===f&&(f=Function.prototype);var a=Object.getOwnPropertyDescriptor(f,c);if(void 0===a){var g=Object.getPrototypeOf(f);return null===g?void 0:E(g,c,h)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(h)}},F=m(84),q=m(64).COMP_TYPE,j=m(66).BG_CROP_TYPE,x=m(51).isBottomArrow,B=m(51).PAGE_MODE,z=m(269),y=function(c){function a(g,h){w(this,a);var f=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,g,h)),d=g.properties.longPage;return f.scrollMode=x(f.pageMode)?"NS":"WE",f.pLen=-(d-486),f}return b(a,c),D(a,[{key:"renderArrow",value:function(){C(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"renderArrow",this).call(this),"WE"==this.scrollMode&&(this.bottomArrow=new z(B["上下翻页"]),this.$pageDiv.append(this.bottomArrow.$arrow))}},{key:"addEventListener",value:function(){C(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"addEventListener",this).call(this),this.addTouchEvent()}},{key:"active",value:function(){this.resetLongPage();var d=C(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"active",this).call(this);return d}},{key:"resetLongPage",value:function(){this.touchPos=0,this.doTransform(0,0)}},{key:"addTouchEvent",value:function(){function V(d){Q.forEach(function(f){var g=f.compJson.css.top||"";g=parseInt(g.toString().replace("px",""));var e=f.compJson.properties.anim||[];e.length&&g>N&&g+d<N&&!f.displayed&&f.eleShow()})}var K=this,O=this;if("edit"!==this.eqxScene.config.mode){var R=this.pLen,N=this.height,L=this.$pageDiv,Z=this.$ul,X=this.$editDiv,J=this.scrollMode,Q=this.eqxCompList,M=this.$transformArea=H(this.pageJson)?X:Z;this.touchPos=0;var S,W,U,T,I,P=0,s=0,Y=0;L.on("mousedown touchstart",function(g){if(!O.hasCoverEffect){g.stopPropagation(),S=!0,U=0;var f=g.originalEvent,d=f.touches,h=d?f.changedTouches[0]:null;W=h?h.clientY:g.clientY,"WE"==J&&(T=h?h.clientX:g.clientX),s=O.touchPos,P=Date.now()}}),L.on("mousemove touchmove",function(g){var f=K.eqxScene.pageScroll;if(g.stopPropagation(),g.preventDefault(),S){var e=g.originalEvent,d=e.touches,h=d?d[0]:null;if(U=O.touchPos+(h?h.clientY:g.clientY)-W,"WE"===J&&(I=(h?h.clientX:g.clientX)-T,Math.abs(I)>Math.abs(U-O.touchPos)&&!K.forbidHandFlip)){return I>0?f.goToPrePage():f.goToNextPage(),void (S=!1)}if(U>0&&"NS"===J&&!K.forbidHandFlip){return f.goToPrePage(),S=!1,void (O.touchPos=0)}if(U>R&&U<0){V(U),O.doTransform(U,0)}else{if(U<R-5&&"NS"===J&&!K.forbidHandFlip){return f.goToNextPage(),S=!1,void (O.touchPos=R)}}Y=Date.now(),Y-P>300&&(P=Y,s=U)}}),L.on("mouseup touchend mouseleave",function(){if(S=!1,U>R&&U<0){var g=Date.now(),d=(U-s)/(g-P),h=Math.abs(d/0.002),f=d*h/2;U+=f,U>0?(h=(U-0)/f*h,U=0):U<R&&(h=(U-R)/f*h,U=R),O.doTransform(U,h),O.touchPos=U,O.bottomArrow&&(O.bottomArrow.remove(),O.bottomArrow=null)}else{U>0?O.touchPos=0:U<=R&&(O.touchPos=R),O.doTransform(O.touchPos,0)}}),M.on("transitionend",function(d){d.target==M[0]&&V(U)})}}},{key:"doTransform",value:function(p,g){var v=this;if("edit"!==this.eqxScene.config.mode){var f=this.$transformArea,u=f.find(".alock");if(this.transformEle(f,"translate3d(0,"+p+"px,0)",g),u.length>0){var l,h,d=Array.prototype.slice.call(u);d.forEach(function(e){l=e.style.transform.replace(/translate3d\(.*?\)/g,""),h="none"===l&&l?"translate3d(0,"+-p+"px,0)":"translate3d(0,"+-p+"px,0) "+l,v.transformEle($(e),h,g)})}}}},{key:"transformEle",value:function(g,f,h){if("edit"!==this.eqxScene.config.mode){if(g.css({transition:"","-webkit-transition":""}),h){var d="transform "+h+"ms ease-out";g.css({transition:d,"-webkit-transition":"-webkit-"+d})}g.css({transform:f,"-webkit-transform":"-webkit-"+f})}}}]),a}(F);A.exports=y},function(v,A,j){function m(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function g(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}function B(u,h,D){var d=k.TRACK+"p.gif?",C=encodeURIComponent,p=document,l={order_no:u,task_id:h,scene_id:D};d+="data="+C(JSON.stringify(l));var c=p.createElement("img");$(c).attr({src:d,width:0,height:0}),p.body.appendChild(c)}var y=function(){function a(h,d){for(var l=0;l<d.length;l++){var c=d[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(h,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),x=function w(h,c,p){null===h&&(h=Function.prototype);var a=Object.getOwnPropertyDescriptor(h,c);if(void 0===a){var l=Object.getPrototypeOf(h);return null===l?void 0:w(l,c,p)}if("value" in a){return a.value}var d=a.get;if(void 0!==d){return d.call(p)}},z=j(84),k=j(20),f=j(79).bigDataXBData,q=function(c){function a(d,h){return m(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,h))}return b(a,c),y(a,[{key:"show",value:function(){x(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"show",this).call(this);var d=this.pageJson.properties.xb;if(d){if(!this.eqxScene.config.disableBigData){var h={task:d.taskId,order:d.orderId,promotionType:d.promotionType};f(this.pageJson.sceneId,"3",h)}B(d.orderId,d.taskId,d.sceneId)}return this}}]),a}(z);v.exports=q},function(d,b,g){function a(i,h){if(!(i instanceof h)){throw new TypeError("Cannot call a class as a function")}}var f=function(){function h(l,k){for(var m=0;m<k.length;m++){var j=k[m];j.enumerable=j.enumerable||!1,j.configurable=!0,"value" in j&&(j.writable=!0),Object.defineProperty(l,j.key,j)}}return function(j,k,e){return k&&h(j.prototype,k),e&&h(j,e),j}}();g(286);var c=function(){function h(e){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;a(this,h);var k=this.$progress=$('<div class="eqx-progress-bar"></div>'),j=this.$progressBar=$("<span></span>"),i=this.$slideNumber=$('<em class="page-tip"></em>');k.append([j,i]),this.lastText="",this.update(l,e)}return f(h,[{key:"update",value:function(l,k){var m=l+"/"+k;if(m!==this.lastText){this.lastText=m,this.$slideNumber.text(m);var j=320;this.$progressBar.css("width",j*l/k)}}},{key:"hide",value:function(){this.$progress.hide()}},{key:"show",value:function(){this.$progress.show()}}]),h}();d.exports=c},function(b,a){},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var f=g(23),b=f.mobilecheck,z=f.tabletCheck,w=g(51).isBottomArrow,v=g(51).isRightArrow,x=g(51).PAGE_MODE,j=function m(u){k(this,m),this.eqxScene=u;var r=u.meta.pageMode,C=u.meta.property,A=C.forbidHandFlip,i=C.triggerLoop,B=C.autoFlip,h=C.autoFlipTime,s=void 0===h?1:h;this._$app=u.$ele,this.left=this._$app.offset().left,this.top=this._$app.offset().top,this.pageList=u.eqxPageList,u.currentPage=u.currentPage||this.pageList[0],this.activePage=null,this._isDisableFlipPage=!1,this._isDisableFlipPrevPage=!1,this._isDisableFlipNextPage=!1,this._scrollMode=r,this.canHandleFlip=A,this.canAutoFlip=B,this.autoFlipInterval=s,this.autoFlipIntervalId=null,this.doScrollMoveFn=null,this.doScrollEndFn=null,this.canLoop=i,this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight,b()||z()||(this.windowWidth=u.width,this.windowHeight=u.height),this.startX=0,this.startY=0,this.moveDistanceX=0,this.moveDistanceY=0,this.isStart=!1,this.isNext=!1,this.isFirstTime=!0,this.flipEndTimeout=800,this.animTime=0.4,this.scrolling=!1,this._scrollMode==x["翻书翻页"]&&($(this.eqxScene.currentPage.section).css({width:this._$app.width(),height:this._$app.height()}).wrap('<div class="flip-mask"></div>'),this.$turn=$('<div class="turning"></div>').appendTo(this._$app)),this.$con=$("#con"),this.bindEventListeners(u)};q.exports=j;var d=j.prototype;d.startAudio=function(){this._$app.one("touchstart",function(){})},d.bindEventListeners=function(c){var a=this;this.setScrollMode(this._scrollMode),this.canAutoFlip&&this.startAutoFlip(),function(){var i=$(window);i.on("scroll.elasticity",function(l){l.preventDefault()}).on("touchmove.elasticity",function(l){l.preventDefault()}),i.delegate("img","mousemove",function(l){l.preventDefault()})}();var h=!1;this._$app.on("mousedown touchstart",function(i){a.canHandleFlip||(a.scrollStart(i),h=!0)}).on("mousemove touchmove",function(i){a.canHandleFlip||h&&a.scrollMove(i)}).on("mouseup touchend mouseleave",function(i){a.canHandleFlip||(a.scrollEnd(i),h=!1)}),$(this).on("flipend",function(i){a.eqxScene.updateProgressBar(a.activePage),setTimeout(function(){a.cssAnimation(a.eqxScene.currentPage.section.style,"Transition","none"),a.activePage.deactive().show(),a.eqxScene.currentPage.destroyed||a.eqxScene.currentPage.deactive().hide(),a.eqxScene.currentPage=a.activePage,a._isDisableFlipPage=!1,a._scrollMode!=x["放大翻页"]&&a._scrollMode!=x["交换翻页"]&&a._scrollMode!=x["掉落翻页"]||($(a.eqxScene.currentPage.section).css("z-index","1"),$(".main-page").attr("style",""))},a.flipEndTimeout)}),$(document).on("startAutoFlip",function(i){a.canAutoFlip&&a.startAutoFlip()})},d.cssAnimation=function(u,p,C){for(var l=["","webkit","moz"],A=0,r=l.length;A<r;A++){0!=A||b()||(p=p.substring(0,1).toLowerCase()+p.substring(1,p.length));var h=C instanceof Array?C[A]:C,B=l[A]+p;u[B]=h}},d.cssAnim=function(h,c,p){for(var a=["","-webkit-","-moz-"],l=0;l<a.length;l++){h.css(a[l]+c,p)}},d.getCoord=function(a){return a&&a.type.includes("mouse")?{x:a.pageX-this.left,y:a.pageY-this.top}:a&&a.type.includes("touch")?{x:a.touches?a.touches[0].pageX:a.originalEvent.touches[0].pageX,y:a.touches?a.touches[0].pageY:a.originalEvent.touches[0].pageY}:void 0},d.getMoveInit=function(l,c,s,a){var p=this.activePage;if(p&&p.deactive(),p&&p.section.classList.contains("main-page")){p.active();var h=l?"-":"";p.section.style.webkitTransition="none",p.section.style.mozTransition="none",p.section.style.transition="none",p.section.style.webkitTransform=s+"("+h+a+"px)",p.section.style.mozTransform=s+"("+h+a+"px)",p.section.style.transform=s+"("+h+a+"px)",$(this.activePage.section).trigger("active"),c&&this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin",c)}else{this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform",s+"(0px) scale(1)")}},d.setCssWhenMove=function(l,c,s,a,p){if(this.activePage){var h=l?"-":"";this.cssAnim($(this.activePage.section),"transform",c+"("+h+(s-Math.abs(a))+"px)"),p!=x["上下惯性翻页"]&&p!=x["左右惯性翻页"]||this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale("+((s-Math.abs(a))/this.windowHeight).toFixed(3)+")"),p!=x["左右连续翻页"]&&p!=x["上下连续翻页"]||this.cssAnim($(this.eqxScene.currentPage.section),"transform",c+"("+a+"px)")}},d.setCssWhenEnd=function(h,c,p,a){if(a==x["上下惯性翻页"]||a==x["左右惯性翻页"]){this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale(0.2)")}else{if(a==x["左右连续翻页"]||a==x["上下连续翻页"]){var l=c>0?"":"-";this.cssAnim($(this.eqxScene.currentPage.section),"transform",h+"("+l+p+"px)")}else{this.cssAnim($(this.eqxScene.currentPage.section),"transform","scale(1)")}}this.cssAnim($(this.activePage.section),"transform",h+"(0px)")},d.cancelFlip=function(){var c=this;this._isDisableFlipPage=!0;var a;this.setScrollFn(),this._scrollMode!=x["上下翻页"]&&this._scrollMode!=x["上下惯性翻页"]&&this._scrollMode!=x["立体翻页"]&&this._scrollMode!=x["交换翻页"]&&this._scrollMode!=x["上下连续翻页"]&&this._scrollMode!=x["掉落翻页"]||(a=this.moveDistanceY>0?-this.windowHeight:this.windowHeight,this.cssAnim($(this.activePage.section),"transform","translateY("+a+"px)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateY(0) scale(1)")),this._scrollMode!=x["左右惯性翻页"]&&this._scrollMode!=x["左右连续翻页"]||(a=this.moveDistanceX>0?-this.windowWidth:this.windowWidth,this.cssAnim($(this.activePage.section),"transform","translateX("+a+"px)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateX(0) scale(1)")),setTimeout(function(){$(c.eqxScene.currentPage.section).attr("style",""),$(c.activePage.section).attr("style",""),c.activePage.deactive(),c._isDisableFlipPage=!1},500)},d.scrollStart=function(c){if(!this._isDisableFlipPage&&(this.scrolling||(this.activePage=null),this.eqxScene.currentPage)){this.isStart=!0,this.isNext=!1,this.isFirstTime=!0,this.moveDistanceX=0,this.moveDistanceY=0;var a=this.getCoord(c);a&&(this.startX=a.x,this.startY=a.y),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this._scrollMode==x["掉落翻页"]&&(this.eqxScene.currentPage.section.style.zIndex=3)}},d.enableScroll=function(){return this.isStart&&this.pageList.length>1&&!this.eqxScene.currentPage.hasCoverEffect},d.scrollMove=function(c){if(this.enableScroll()){var a=this.getCoord(c);a&&(this.moveDistanceX=a.x-this.startX,this.moveDistanceY=a.y-this.startY),this.setScrollFn(),this.doScrollMoveFn()}},d.scrollEnd=function(a){this.scrolling=!1,this.isStart&&(this.isStart=!1,this.activePage&&(this._isDisableFlipPage=!0,this.setScrollEndAnim(),this.setScrollFn(),this.doScrollEndFn()))},d.setScrollFn=function(){var c="";switch(this._scrollMode){case x["上下翻页"]:case x["上下惯性翻页"]:c="vertical";break;case x["左右翻页"]:case x["左右惯性翻页"]:c="horizontal";break;case x["左右连续翻页"]:c="single";break;case x["立体翻页"]:c="cube";break;case x["卡片翻页"]:c="card";break;case x["放大翻页"]:c="scale";break;case x["交换翻页"]:c="swap";break;case x["上下连续翻页"]:c="verticalSingle";break;case x["掉落翻页"]:c="fall";break;case x["淡入翻页"]:c="fadeIn";break;case x["翻书翻页"]:c="book";break;case x["上下推出翻页"]:c="push";break;case x["左右推出翻页"]:c="push";break;case x["折叠翻页"]:c="flip";break;default:c="vertical"}var a=g(288)("./"+c);this.doScrollMoveFn=a[c+"Move"].bind(this),this.doScrollEndFn=a[c+"End"].bind(this)},d.getCurAndActive=function(h){if(this.scrolling){return this.activePage}var c=null,l=this.pageList.indexOf(this.eqxScene.currentPage),a=this.pageList.length-1;return h?l>0?c=this.pageList[l-1]:this.canLoop&&(c=this.pageList[a]):l<a?c=this.pageList[l+1]:this.canLoop&&(c=this.pageList[0]),c},d.setTransition=function(c,a,h){c.style.webkitTransition="-webkit-transform "+a+"s "+h,c.style.mozTransition="-moz-transform "+a+"s "+h,c.style.transition="transform "+a+"s "+h},d.setScrollEndAnim=function(){var a;this._scrollMode!=x["立体翻页"]&&this._scrollMode!=x["卡片翻页"]||(a="cubic-bezier(0,0,0.99,1)"),a=this._scrollMode==x["掉落翻页"]?"cubic-bezier(.17,.67,.87,.13)":"linear",this._scrollMode!=x["翻书翻页"]&&(this.setTransition(this.eqxScene.currentPage.section,this.animTime,a),this.setTransition(this.activePage.section,this.animTime,a))},d.setScrollMode=function(a){_DEBUG_,this._scrollMode!==a&&(this._scrollMode=a,this._scrollMode==x["放大翻页"]||this._scrollMode==x["交换翻页"]?(this.animTime=0.7,this.flipEndTimeout=800):this._scrollMode==x["翻书翻页"]?($(this.eqxScene.currentPage.section).css({width:this._$app.width(),height:this._$app.height()}).wrap('<div class="flip-mask"></div>'),this.$turn=$('<div class="turning"></div>').appendTo(this._$app)):this.$turn&&($(this.eqxScene.currentPage.section).unwrap('<div class="flip-mask"></div>'),this.$turn.remove(),this.$turn=null))},d.startAutoFlip=function(){var a=this;this.pauseAutoFlip(),this.canAutoFlip&&(this.autoFlipIntervalId=setInterval(function(){a.goToNextPage()},1000*this.autoFlipInterval))},d.pauseAutoFlip=function(){this.autoFlipIntervalId&&clearInterval(this.autoFlipIntervalId)},d.setAutoFlipTime=function(a){this.autoFlipInterval=a},d.setAutoFlip=function(){var a=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.canAutoFlip=!!a},d.goToPageById=function(h){if(!this._isDisableFlipPage){this.scrolling=!0;var c,p=this.pageList.find(function(e){return h==e.pageJson.id});if(p){c=p.pageJson.num;var a=this.eqxScene.currentPage.pageJson.num,l=this.pageList[c-1];l&&a!=c&&(this.activePage=l,a>c?this.goToPrePage():a<c&&this.goToNextPage())}}},d.goToPageByIndex=function(c){var a=this.pageList[c];a&&this.goToPageById(a.pageJson.id)},d.goToLastPage=function(){this.goToPageByIndex(this.pageList.length-1)},d.goToPrePage=function(){var c=this;this._scrollMode==x["翻书翻页"]&&(this.startX=0,this.startY=0);var a=0;this.scrollStart();var h=setInterval(function(){a+=2,w(c._scrollMode)&&(c.moveDistanceY=a),v(c._scrollMode)&&(c.moveDistanceX=a),c.scrollMove(),a>=21&&(clearInterval(h),c.scrollEnd())},2)},d.goToNextPage=function(){var c=this;this._scrollMode==x["翻书翻页"]&&(this.startX=this._$app.width(),this.startY=this._$app.height());var a=0;this.scrollStart();var h=setInterval(function(){a-=2,w(c._scrollMode)&&(c.moveDistanceY=a),v(c._scrollMode)&&(c.moveDistanceX=a),c.scrollMove(),a<=-21&&(clearInterval(h),c.scrollEnd(),c.canLoop||c.activePage||clearInterval(c.autoFlipIntervalId))},2)},d.setHandleFlip=function(a){this.canHandleFlip=a},d.disableHandleFlip=function(){this.setHandleFlip(!1)},d.enableHandleFlip=function(){this.setHandleFlip(!0)},d.setLoop=function(a){this.canLoop=a,this.canAutoFlip&&this.startAutoFlip()}},function(d,b,g){function a(h){return g(f(h))}function f(h){return c[h]||function(){throw new Error("Cannot find module '"+h+"'.")}()}var c={"./PageScroll":287,"./PageScroll.js":287,"./book":289,"./book.js":289,"./book.scss":290,"./card":291,"./card.js":291,"./cube":292,"./cube.js":292,"./fadeIn":293,"./fadeIn.js":293,"./fall":294,"./fall.js":294,"./flip":295,"./flip.js":295,"./horizontal":296,"./horizontal.js":296,"./push":297,"./push.js":297,"./scale":298,"./scale.js":298,"./single":299,"./single.js":299,"./swap":300,"./swap.js":300,"./vertical":301,"./vertical.js":301,"./verticalSingle":302,"./verticalSingle.js":302};a.keys=function(){return Object.keys(c)},a.resolve=f,d.exports=a,a.id=288},function(A,G,m){function w(){if(E=this,this.$flipMask=this.eqxScene.currentPage.$section.parent(),this.moveDistanceX<0?k():this.moveDistanceX>0&&b(),this.activePage){var a={x:E.moveDistanceX+E.startX,y:E.moveDistanceY+E.startY};H(a)}}function k(){E.isFirstTime&&(E.isFirstTime=!1,y&&z?E.isRightCenterDragging=!0:E.startY>=E._$app.height()/2?E.isBottomRightDragging=!0:E.startY<E._$app.height()/2&&(E.isTopRightDragging=!0),E.activePage=E.getCurAndActive(!1),q(),E.activePage&&(E.$flipMask.css({zIndex:100,display:"block"}),E.activePage.active(),E.isBottomRightDragging?(E.eqxScene.currentPage.$section.css({top:E.$flipMask.height()-E._$app.height()+"px",left:"0px"}),E.$flipMask.css({top:"-"+(E.$flipMask.height()-E._$app.height())+"px"}),E.$turn.css({transformOrigin:"0% 100% 0px",left:E._$app.width()+"px",top:E._$app.height()+"px"})):E.isTopRightDragging?E.$turn.css({top:"0px",left:E._$app.width()+"px",transformOrigin:"0% 0% 0px"}):E.isRightCenterDragging&&(E.eqxScene.currentPage.$section.css({top:"0px",left:$(this).width()-E._$app.width()+"px"}),E.$flipMask.css({top:"0px",left:-(E.$flipMask.width()-E._$app.width())+"px"}),E.$turn.css({transformOrigin:"0% 100% 0px",left:E._$app.width()+"px",top:"0px"}))))}function b(){E.isFirstTime&&(E.isFirstTime=!1,E.isLeftCenterDragging=!0,E.activePage=E.getCurAndActive(!0),q(),E.activePage&&(E.$flipMask.css({display:"block"}),E.activePage.active(),E.$turn.css({top:"0px",left:"0px",transformOrigin:"0% 0% 0px"})))}function H(U){var I=U,N=0,Q=0,M=0,K=0,J=0,W=0,v=0,P=0,L=0,R=0,V=0,T=0,S=0,O=0,a=0,X=0;E.isBottomRightDragging||E.isTopRightDragging?(N=E._$app.width()-I.x,E.isBottomRightDragging?Q=Math.abs(E._$app.height()-I.y):E.isTopRightDragging&&(Q=I.y),M=Q/N,K=Q/Math.sqrt(N*N+Q*Q),J=Math.sqrt(1-K*K),W=Math.sqrt(N*N+Q*Q)/2,v=W*M,P=Math.sqrt(v*v+W*W),L=P/M,R=180*Math.atan(M)/Math.PI>0?180*Math.atan(M)/Math.PI:0,V=(E._$app.width()-P)*J,T=(E._$app.width()-P)*K*J,S=(E._$app.width()-P)*(1-K*K),V>=1&&(E.isBottomRightDragging?(R>1?E.$turn.css({width:P+"px",height:L+"px",backgroundColor:"#ff0000",background:"-webkit-linear-gradient("+(180-R)+"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",transform:"translateX(-"+(P-3)+"px) translateY(-"+(L-3)+"px) rotate("+2*R+"deg) scaleX(-1)"}):D(E.$turn,I,E._$app.width(),E._$app.height()),X="0% 100% 0px",O="rotate(-"+(90-R)+"deg) translateY("+V+"px)",a="rotate("+(90-R)+"deg) translateY(-"+T+"px) translateX(-"+S+"px)"):E.isTopRightDragging&&(R>1?E.$turn.css({width:P+"px",height:L+"px",backgroundColor:"#000",background:"-webkit-linear-gradient(-"+(180-R)+"deg, #fff 10%, #d1cfc7 40%, #f2eee2 50%, transparent 50%, transparent 100%)",transform:"translateX(-"+(P-2)+"px) rotate(-"+2*R+"deg) scaleX(-1)"}):D(E.$turn,I,E._$app.width(),E._$app.height()),X="0% 0% 0px",O="rotate("+(90-R)+"deg) translateY(-"+V+"px)",a="rotate(-"+(90-R)+"deg) translateY("+T+"px) translateX(-"+S+"px)"),E.$flipMask.css({zIndex:100,transformOrigin:X,transform:O}),E.eqxScene.currentPage.$section.css({transformOrigin:X,transform:a}))):E.isRightCenterDragging?(E.$turn.css({width:(E._$app.width()-I.x)/2+"px",height:E._$app.height()+"px",left:I.x+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"}),E.$flipMask.css({transformOrigin:"0% 50% 0px",left:0,transform:"translateX(-"+(E.$flipMask.width()-I.x)+"px)"}),E.eqxScene.currentPage.$section.css({transformOrigin:"0% 50% 0px",transform:"translateX("+(E.$flipMask.width()-I.x)+"px)"})):E.isLeftCenterDragging&&(E.$flipMask.css({zIndex:100,transformOrigin:"0% 50% 0px",transform:"translateX("+I.x+"px)"}),E.eqxScene.currentPage.$section.css({transformOrigin:"0% 50% 0px",transform:"translateX(-"+I.x+"px)"}),E.$turn.css({width:E._$app.width()-I.x+"px",height:E._$app.height()+"px",left:-(E._$app.width()-2*I.x)+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 15%, #f2eee2 85%, #fff 100%)"}))}function D(d,c,f,a){d.css({width:(f-c.x+6)/2+"px",height:a+"px",top:0,left:c.x+2+"px",background:"-webkit-linear-gradient(left, #fff 0% , #d1cfc7 10%, #f2eee2 90%, #fff 100%)",transform:"",border:0})}function C(){E=this;var f,c,h,a=16,g=E.moveDistanceX+E.startX,d=E.moveDistanceY+E.startY;E.isBottomRightDragging?(f=-E._$app.width(),c=E._$app.height(),h=setInterval(function(){g=g-f<=a?g:g-a,d=c-d<=a?d:d+a,H({x:g,y:d}),g-f<=a&&d-c<=a&&(clearInterval(h),F())},16)):E.isTopRightDragging?(f=-E._$app.width(),c=0,h=setInterval(function(){g=g-f<=a?g:g-a,d=d-c<=a?d:d-a,H({x:g,y:d}),g-f<=a&&d-c<=a&&(clearInterval(h),F())},16)):E.isRightCenterDragging?(a=5,f=-E._$app.width(),h=setInterval(function(){g=g-f<=a?g:g-a,H({x:g,y:d}),g-f<=a&&(clearInterval(h),F())},16)):E.isLeftCenterDragging&&(a=3,f=E._$app.width(),c=0,h=setInterval(function(){g=f-g<=a?g:g+a,H({x:g,y:d}),f-g<=a&&(clearInterval(h),F())},16))}function F(){E.isBottomRightDragging=null,delete E.isBottomRightDragging,E.isTopRightDragging=null,delete E.isTopRightDragging,E.isRightCenterDragging=null,delete E.isRightCenterDragging,E.isLeftCenterDragging=null,delete E.isLeftCenterDragging,E.$flipMask=null,delete E.$flipMask,E.eqxScene.currentPage.$section.unwrap(),E.eqxScene.currentPage.$section.css({transform:"",top:0,left:0}),E.$turn.css({width:0,height:0,top:0,left:0,transform:"",background:"none"}),$(E).trigger("flipend")}function q(){E.activePage&&$(E.activePage.section).css({width:E._$app.width(),height:E._$app.height()}).wrap('<div class="flip-mask"></div>')}var j=m(23),x=j.mobilecheck,B=j.isAndroid,z=B(),y=x();m(290),A.exports={bookMove:w,bookEnd:C};var E},function(b,a){},function(c,b){function d(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.cssAnim(this.$con,"perspective","700px"),this.cssAnim(this.$con,"transform-style","preserve-3d"),this.cssAnimation(this.activePage.section.style,"TransformOrigin","top"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg)")),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(90-this.moveDistanceY/this.windowHeight*90)+"deg) "))}else{if(this.moveDistanceY<0){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.cssAnimation(this.activePage.section.style,"TransformOrigin","bottom"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg)"),this.cssAnim(this.$con,"perspective","700px"),this.cssAnim(this.$con,"transform-style","preserve-3d")),this.activePage.section&&this.activePage.section.classList.contains("main-page")?(this.activePage.active(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(-90-this.moveDistanceY/this.windowHeight*90)+"deg) ")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","translateX(0px) scale(1)"),this.activePage.section=null)}}}}function a(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg)"):this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg)"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}c.exports={cardMove:d,cardEnd:a}},function(c,b){function d(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg) translateY(-"+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"),this.cssAnimation(this.$con.get(0).style,"Perspective","700px"),this.cssAnimation(this.$con.get(0).style,"TransformStyle","preserve-3d")),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css("zIndex",1),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-"+this.moveDistanceY/this.windowHeight*90+"deg) translateY("+this.moveDistanceY/2+"px) translateZ("+this.moveDistanceY/2+"px)"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(90-this.moveDistanceY/this.windowHeight*90)+"deg) translateY("+(-(this.windowHeight/2)+this.moveDistanceY/2)+"px) translateZ("+(this.windowHeight/2-this.moveDistanceY/2)+"px)"))}else{if(this.moveDistanceY<0){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg) translateY(-"+this.windowHeight/2+"px) translateZ(-"+this.windowHeight/2+"px)"),this.cssAnimation(this.$con.get(0).style,"Perspective","700px"),this.cssAnimation(this.$con.get(0).style,"TransformStyle","preserve-3d")),this.activePage.section&&this.activePage.section.classList.contains("main-page")?(this.activePage.active(),$(this.activePage.section).css("zIndex",0),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX("+-this.moveDistanceY/this.windowHeight*90+"deg) translateY("+this.moveDistanceY/2+"px) translateZ("+-this.moveDistanceY/2+"px)"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX("+(-90-this.moveDistanceY/this.windowHeight*90)+"deg) translateY("+(this.windowHeight/2+this.moveDistanceY/2)+"px) translateZ("+(this.windowHeight/2+this.moveDistanceY/2)+"px)")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","translateX(0px) scale(1)"),this.activePage=null)}}}}function a(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-90deg) translateY("+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"):this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(90deg) translateY(-"+this.windowHeight/2+"px) translateZ("+this.windowHeight/2+"px)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"zIndex","0"),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(0deg) translateY(0px) translateZ(0px)"),this.cssAnimation(this.activePage.section.style,"zIndex","2"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}c.exports={cubeMove:d,cubeEnd:a}},function(c,b){function d(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage){return}(this.isNext||this.isFirstTime)&&(this.isNext=!1,this.isFirstTime=!1,this.activePage&&(this.activePage.section.classList.remove("z-fade-in"),this.activePage.deactive()),this.activePage=this.getCurAndActive(!0),this.eqxScene.currentPage.section.style.zIndex=1,this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.section.classList.add("z-fade-in"),this.activePage.active()))}else{if(this.moveDistanceY<0){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&(this.activePage.section.classList.remove("z-fade-in"),this.activePage.deactive()),this.activePage=this.getCurAndActive(!1),this.eqxScene.currentPage.section.style.zIndex=1,this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.section.classList.add("z-fade-in"),this.activePage.active()))}}}}function a(){var f=this;Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)?setTimeout(function(){$(f).trigger("flipend")},1600):(this._isDisableFlipPage=!1,this.cancelFlip())}c.exports={fadeInMove:d,fadeInEnd:a}},function(c,b){function d(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage){return}(this.isNext||this.isFirstTime)&&(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css({zIndex:0,opacity:1})),$(this.eqxScene.currentPage.section).css({opacity:1}),$(this.activePage.section).css({zIndex:0,opacity:1}),this.cssAnim($(this.activePage.section),"transform","translateY(0)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px"))}else{if(this.moveDistanceY<0){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),$(this.activePage.section).css({zIndex:0,opacity:1})),$(this.eqxScene.currentPage.section).css({opacity:1}),$(this.activePage.section).css({zIndex:0,opacity:1}),this.cssAnim($(this.activePage.section),"transform","translateY(0)"),this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px"))}}this.activePage&&(this.cssAnim($(this.eqxScene.currentPage.section),"transform-origin","0% 0% 0px"),this.cssAnim($(this.eqxScene.currentPage.section),"transform","rotate("+Math.abs(this.moveDistanceY)/this.windowHeight*90+"deg)"),this.eqxScene.currentPage.section.style.opacity=((this.windowHeight-Math.abs(this.moveDistanceY))/this.windowHeight).toFixed(1))}}function a(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.cssAnim($(this.eqxScene.currentPage.section),"transform","translateY("+this.windowHeight+"px) rotate("+Math.abs(this.moveDistanceY)/this.windowHeight*90+"deg)"),$(this.eqxScene.currentPage.section).css({opacity:0.5}),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}c.exports={fallMove:d,fallEnd:a}},function(c,b){function f(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.moveDistanceY>0?(this.activePage=this.getCurAndActive(!0),d.bind(this)(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(0deg)")):(this.activePage=this.getCurAndActive(!1),d.bind(this)(),this.cssAnimation(this.activePage.section.style,"Transform","rotateX(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(0deg)"))),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX("+this.moveDistanceY/this.windowHeight*90+"deg) "))}}function a(){var g=this;Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(70deg)"),setTimeout(function(){g.cssAnimation(g.activePage.section.style,"Transform","rotateX(0deg)")},400)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","rotateX(-70deg)"),setTimeout(function(){g.cssAnimation(g.activePage.section.style,"Transform","rotateX(0deg)")},400)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}function d(){this.cssAnimation(this.activePage.section.style,"TransformOrigin","center"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","center")}c.exports={flipMove:f,flipEnd:a}},function(c,b){function d(){if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)){if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage){return}this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),this.getMoveInit(!0,"center right","translateX",this.windowWidth)):this.setCssWhenMove(!0,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}else{if(this.moveDistanceX<0){if(this._isDisableFlipNextPage){return}!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),this.getMoveInit(!1,"center left","translateX",this.windowWidth)):this.setCssWhenMove(!1,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}}}}function a(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.setCssWhenEnd("translateX",this.moveDistanceX,this.windowWidth,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}c.exports={horizontalMove:d,horizontalEnd:a}},function(c,b){function f(){this._isDisableFlipNextPage||(this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),14===this._scrollMode?this.moveDistanceY>0?(this.activePage=this.getCurAndActive(!0),d.bind(this)(!1),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateX(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(0deg)")):(this.activePage=this.getCurAndActive(!1),d.bind(this)(!0),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateX(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(0deg)")):this.moveDistanceX>0?(this.activePage=this.getCurAndActive(!0),d.bind(this)(!1),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateY(90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(0deg)")):(this.activePage=this.getCurAndActive(!1),d.bind(this)(!0),this.cssAnimation(this.activePage.section.style,"Transform","perspective(700px) rotateY(-90deg)"),this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(0deg)"))),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),14===this._scrollMode?this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX("+this.moveDistanceY/this.windowHeight*90+"deg) "):this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY("+this.moveDistanceX/this.windowHeight*90+"deg) ")))}function a(){var g=this;14===this._scrollMode?Math.abs(this.moveDistanceY)>20?(this.moveDistanceY>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(90deg)"),setTimeout(function(){g.cssAnimation(g.activePage.section.style,"Transform","perspective(700px) rotateX(0deg)")},200)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateX(-90deg)"),setTimeout(function(){g.cssAnimation(g.activePage.section.style,"Transform","perspective(700px) rotateX(0deg)")},200)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip()):Math.abs(this.moveDistanceX)>20?(this.moveDistanceX>0?(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(-90deg)"),setTimeout(function(){g.cssAnimation(g.activePage.section.style,"Transform","perspective(700px) rotateY(0deg)")},200)):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transform","perspective(700px) rotateY(90deg)"),setTimeout(function(){g.cssAnimation(g.activePage.section.style,"Transform","perspective(700px) rotateY(0deg)")},200)),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}function d(g){g?14===this._scrollMode?(this.cssAnimation(this.activePage.section.style,"TransformOrigin","bottom"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","top")):(this.cssAnimation(this.activePage.section.style,"TransformOrigin","right"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","left")):14===this._scrollMode?(this.cssAnimation(this.activePage.section.style,"TransformOrigin","top"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","bottom")):(this.cssAnimation(this.activePage.section.style,"TransformOrigin","left"),this.cssAnimation(this.eqxScene.currentPage.section.style,"TransformOrigin","right"))}c.exports={pushMove:f,pushEnd:a}},function(c,b){function d(){if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage){return}(this.isNext||this.isFirstTime)&&(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&this.activePage.active(),this.activePage.section.style.opacity=0)}else{if(this.moveDistanceY<0){if(this._isDisableFlipNextPage){return}this.isNext&&!this.isFirstTime||(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.activePage.section.style.zIndex=2,this.activePage.section&&this.activePage.section.classList.contains("main-page")&&this.activePage.active(),this.activePage.section.style.opacity=0)}}var f=Math.abs(this.moveDistanceY)/this.windowHeight*1.3;this.activePage.section.style.opacity=f.toFixed(1),f.toFixed(3)<=1&&this.cssAnim($(this.activePage.section),"transform","scale("+f.toFixed(3)+")")}}function a(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.cssAnim($(this.activePage.section),"transform","scale(1)"),this.activePage.section.style.opacity=1,$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}c.exports={scaleMove:d,scaleEnd:a}},function(d,b,g){function a(){var h=c();if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)){if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage){return}this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),this.windowWidth=h?window.innerWidth:$(".nr").width(),this.getMoveInit(!0,"","translateX",this.windowWidth)):this.setCssWhenMove(!0,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}else{if(this.moveDistanceX<0){if(this._isDisableFlipNextPage){return}!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),this.windowWidth=h?window.innerWidth:$(".nr").width(),this.getMoveInit(!1,"","translateX",this.windowWidth)):this.setCssWhenMove(!1,"translateX",this.windowWidth,this.moveDistanceX,this._scrollMode)}}}}function f(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.setCssWhenEnd("translateX",this.moveDistanceX,this.windowWidth,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}var c=g(23).mobilecheck;d.exports={singleMove:a,singleEnd:f}},function(c,b){function d(){if(Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)){if(this.moveDistanceX>0){if(this._isDisableFlipPrevPage){return}this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!0),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnim($(this.activePage.section),"Transform","scale(0.3) translateX(0) translateZ(-"+this.windowHeight+"px) rotateY(45deg)"),this.activePage.section.style.zIndex="0"),this.cssAnim(this.$con,"perspective","1000px"),this.eqxScene.currentPage.section.style.zIndex="100"):this.activePage&&(this.moveDistanceX<=this.windowWidth/4?this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+this.moveDistanceX+"px)"):this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+1.5*this.moveDistanceX+"px) scale("+((5*this.windowWidth/4-this.moveDistanceX)/this.windowWidth).toFixed(3)+") rotateY("+this.moveDistanceX/this.windowWidth*45+"deg) translateZ(-"+(this.moveDistanceX-this.windowWidth/4)+"px)"))}else{if(this.moveDistanceX<0){if(this._isDisableFlipNextPage){return}!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage&&this.activePage.deactive(),this.activePage=this.getCurAndActive(!1),this.activePage.section&&this.activePage.section.classList.contains("main-page")&&(this.activePage.active(),this.cssAnim($(this.activePage.section),"Transform","scale(0.3) translateX("+(this.windowWidth+300)+"px) translateZ(-"+this.windowHeight+"px) rotateY(-45deg)"),this.activePage.section.style.zIndex="0"),this.cssAnim(this.$con,"perspective","1000px"),this.eqxScene.currentPage.section.style.zIndex="100"):this.activePage&&(this.moveDistanceX>=-this.windowWidth/4?this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+this.moveDistanceX+"px)"):this.cssAnim($(this.eqxScene.currentPage.section),"Transform","translateX("+1.5*this.moveDistanceX+"px) scale("+((5*this.windowWidth/4+this.moveDistanceX)/this.windowWidth).toFixed(3)+") rotateY("+this.moveDistanceX/this.windowWidth*45+"deg) translateZ("+(this.moveDistanceX+this.windowWidth/4)+"px)"),this.cssAnim($(this.activePage.section),"Transform","scale("+(0.3-(this.moveDistanceX+this.windowWidth/4)/this.windowWidth).toFixed(3)+") translateX("+(-this.moveDistanceX-this.windowWidth/4+200)+"px) translateZ("+(-this.moveDistanceX-3*this.windowWidth/4)+"px) rotateY(-"+(45+(this.moveDistanceX+this.windowWidth/4)/this.windowWidth*45)+"deg)"))}}}}function a(){Math.abs(this.moveDistanceX)>Math.abs(this.moveDistanceY)&&Math.abs(this.moveDistanceX)>20?(this.moveDistanceX>0?(this.eqxScene.currentPage.section.style.webkitTransformOrigin="left",this.eqxScene.currentPage.section.style.webkitTransform="translateX(0) translateZ(-"+this.windowHeight+"px) rotateY(0) scale(0.2)",this.activePage.section.style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",this.eqxScene.currentPage.section.style.zIndex="0",this.activePage.section.style.zIndex="1"):(this.eqxScene.currentPage.section.style.webkitTransformOrigin="right",this.eqxScene.currentPage.section.style.webkitTransform="translateX("+this.windowWidth+"px) translateZ(-"+this.windowHeight+"px) rotateY(0) scale(0.2)",this.activePage.section.style.webkitTransform="translateX(0) translateZ(0) rotateY(0) scale(1)",this.activePage.section.style.zIndex="1",this.eqxScene.currentPage.section.style.zIndex="0"),$(this).trigger("flipend")):(this.cssAnimation(this.eqxScene.currentPage.section.style,"Transition","none"),this.cssAnimation(this.activePage.section.style,"Transition","none"),this._isDisableFlipPage=!1,this.cancelFlip())}c.exports={swapMove:d,swapEnd:a}},function(c,b){function d(){var g=this,f=Math.abs(g.moveDistanceY)<=Math.abs(g.moveDistanceX)||0==g.moveDistanceY;if(!f){if(g.moveDistanceY>0){if(g._isDisableFlipPrevPage){return}g.isNext||g.isFirstTime?(g.isNext=!1,g.isFirstTime=!1,this.activePage=g.getCurAndActive(!0),g.getMoveInit(!0,"bottom center","translateY",g.windowHeight)):g.setCssWhenMove(!0,"translateY",g.windowHeight,g.moveDistanceY,g._scrollMode)}else{if(g.moveDistanceY<0){if(g._isDisableFlipNextPage){return}!g.isNext||g.isFirstTime?(g.isNext=!0,g.isFirstTime=!1,this.activePage=g.getCurAndActive(!1),g.getMoveInit(!1,"top center","translateY",g.windowHeight)):g.setCssWhenMove(!1,"translateY",g.windowHeight,g.moveDistanceY,g._scrollMode)}}}}function a(){var f=this;Math.abs(f.moveDistanceY)>Math.abs(f.moveDistanceX)&&Math.abs(f.moveDistanceY)>20?(f.setCssWhenEnd("translateY",f.moveDistanceY,f.windowHeight,f._scrollMode),$(this).trigger("flipend")):(f._isDisableFlipPage=!1,f.cancelFlip())}c.exports={verticalMove:d,verticalEnd:a}},function(d,b,g){function a(){var h=c();if(Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)){if(this.moveDistanceY>0){if(this._isDisableFlipPrevPage){return}this.isNext||this.isFirstTime?(this.isNext=!1,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!0),this.windowHeight=h?window.innerHeight:$(".nr").height(),this.getMoveInit(!0,"","translateY",this.windowHeight)):this.setCssWhenMove(!0,"translateY",this.windowHeight,this.moveDistanceY,this._scrollMode)}else{if(this.moveDistanceY<0){if(this._isDisableFlipNextPage){return}!this.isNext||this.isFirstTime?(this.isNext=!0,this.isFirstTime=!1,this.activePage=this.getCurAndActive(!1),this.windowHeight=h?window.innerHeight:$(".nr").height(),this.getMoveInit(!1,"","translateY",this.windowHeight)):this.setCssWhenMove(!1,"translateY",this.windowHeight,this.moveDistanceY,this._scrollMode)}}}}function f(){Math.abs(this.moveDistanceY)>Math.abs(this.moveDistanceX)&&Math.abs(this.moveDistanceY)>20?(this.setCssWhenEnd("translateY",this.moveDistanceY,this.windowHeight,this._scrollMode),$(this).trigger("flipend")):(this._isDisableFlipPage=!1,this.cancelFlip())}var c=g(23).mobilecheck;d.exports={verticalSingleMove:a,verticalSingleEnd:f}},function(h,l,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}var d=function(){function a(p,o){for(var q=0;q<o.length;q++){var c=o[q];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}();f(304);var b=f(305),m=f(306),k=f(115),j=function(){function a(c,e){g(this,a),this.bgAudioJson=c,this.eqxScene=e,this.$bgmBtn=$(b),this.bgAudioJson&&(this.soundAgent=new m(this,this.eqxScene.soundManager))}return d(a,[{key:"destroy",value:function(){this.$bgmBtn&&this.$bgmBtn.remove()}},{key:"updateJson",value:function(c){this.soundAgent.update(new k("src",c))}},{key:"show",value:function(){this.$bgmBtn.show()}},{key:"resumePlay",value:function(){this.soundAgent&&this.soundAgent.update(new k("end"))}},{key:"stopPlay",value:function(){this.soundAgent&&this.soundAgent.update(new k("stop"))}},{key:"hide",value:function(){this.$bgmBtn.hide()}},{key:"startRotate",value:function(){this.$bgmBtn.addClass("rotate")}},{key:"stopRotate",value:function(){this.$bgmBtn.removeClass("rotate")}}]),a}();h.exports=j},function(b,a){},function(b,a){b.exports='<div class="bgm-btn" data-event="11205"><audio loop="" src="" autoplay="" preload></audio></div>'},function(z,E,m){function v(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function k(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var F=function(){function a(f,d){for(var g=0;g<d.length;g++){var c=d[g];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(f,c.key,c)}}return function(d,e,c){return e&&a(d.prototype,e),c&&a(d,c),d}}(),C=m(123),B=m(20),D=m(22).resolveUrl,q=m(23).mobilecheck,j=m(79).bigDataXBData,w=m(76).getWxJSSDK,A=m(23).isWeixin,y=m(23).isIOS,x=function(c){function a(f,g){v(this,a);var d=k(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,f,g));return d.manager=g,d.isManualPause=!1,d.$audio=d.master.$bgmBtn.find("audio"),d.audio=d.$audio[0],d.type=3,d.wxJssdk=w(),window.EQX={startBgm:d.startPlay.bind(d),pauseBgm:d.stopPlay.bind(d)},d.init(),d}return b(a,c),F(a,[{key:"init",value:function(){var f=this.master.bgAudioJson,d=this;this.$audio.attr("src",D(B.FILE,f.url||f.src)),this.audio.load(),this.$audio.on("canplay",function(){d.audio.play()}),this.addEventListeners(),this.register(),this.master.show()}},{key:"update",value:function(f){var d=this;switch(f.type){case"src":var g=f.data;this.$audio.attr("src",D(B.FILE,g.url||g.src)),this.audio.load(),this.$audio.on("canplay",function(){d.audio.play()});break;case"stop":this.stopPlay();break;case"end":this.isManualPause||this.startPlay();break;case"down":y()?this.stopPlay():this.audio.volume=0.1;break;case"restore":y()?this.startPlay():this.audio.volume=1;break;case"play":this.startPlay()}}},{key:"addEventListeners",value:function(){var f=this;this.$audio.on("play",function(){return f.master.startRotate()}),this.$audio.on("pause",function(){return f.master.stopRotate()});var d=q()?"touchend":"click";this.master.$bgmBtn.on(d,function(e){e.cancelBubble=!0,e.stopPropagation(),f.isManualPause=!f.audio.paused,f.audio.paused?f.startPlay():f.stopPlay(),f.master.eqxScene.config.disableBigData||j(window.scene.id,4,null,8,"音乐图标")}),this.master.$bgmBtn.trigger(d)}},{key:"startPlay",value:function(){function f(h){4===h.readyState?h.paused&&(h.play(),d.manager.onPlay(d)):(h.load(),$(h).on("canplay",function(){h.play(),d.manager.onPlay(d)}))}var d=this,g=d.audio;A()?this.wxJssdk.then(function(){wx.checkJsApi({jsApiList:["checkJsApi"],success:function(){f(g)}})}):f(g)}},{key:"stopPlay",value:function(){this.audio.paused||this.audio.pause()}}]),a}(C);z.exports=x},function(f,b,h){function a(j,i){if(!(j instanceof i)){throw new TypeError("Cannot call a class as a function")}}var g=function(){function i(l,k){for(var m=0;m<k.length;m++){var j=k[m];j.enumerable=j.enumerable||!1,j.configurable=!0,"value" in j&&(j.writable=!0),Object.defineProperty(l,j.key,j)}}return function(j,k,e){return k&&i(j.prototype,k),e&&i(j,e),j}}(),d=h(115),c=function(){function i(){a(this,i),this.subscriberMap={}}return g(i,[{key:"subscribe",value:function(k,j){var l=this.subscriberMap[k];l||(l=this.subscriberMap[k]=[]),l.includes(j)||l.push(j)}},{key:"removeAll",value:function(k){for(var j in this.subscriberMap){this.subscriberMap.hasOwnProperty(j)&&this.remove(j,k)}}},{key:"remove",value:function(l,k){var m=this.subscriberMap[l];if(!m){return void (_DEBUG_&&console.error("remove subscriber form none existed event list"))}var j=m.indexOf(k);j>-1&&m.splice(j,1)}},{key:"publish",value:function(k,j){var l=this.subscriberMap[k];return l?void l.forEach(function(e){return e.update(new d(k,j))}):void (_DEBUG_&&console.error("event "+k+" no subscriber!"))}}]),i}();f.exports=c},function(h,l,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){return JSON.stringify(c)===JSON.stringify(a)}var b=function(){function a(p,o){for(var q=0;q<o.length;q++){var c=o[q];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(p,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),m=f(309).$postComment,k=f(309).$getCommentList,j=function(){function a(c){g(this,a),this.sceneId=c,this.comments=[],this.canLoadMore=!0,this.lastTime=0,this.registers=[]}return b(a,[{key:"addComment",value:function(c){return !this.comments.find(function(e){return d(e,c)})&&(this.comments.push(c),!0)}},{key:"getComments",value:function(){return this.comments.sort(function(i,c){return c.createTime-i.createTime}),this.comments}},{key:"postComment",value:function(i){var c=this;return m(i).then(function(o){var p=o.obj;return c.addComment(p),c.publish(),p})}},{key:"publish",value:function(){this.registers.forEach(function(c){return c.updateComments()})}},{key:"loadMoreComments",value:function(){var c=this;return k({sceneId:this.sceneId,time:this.lastTime}).then(function(e){var i=e.list;console.log("n------"+JSON.stringify(i));return 1==0?(c.lastTime=i[i.length-1].createTime,i):Promise.reject()}).then(function(e){return e=e.filter(function(i){return c.addComment(i)}),c.publish(),e})}},{key:"register",value:function(c){this.registers.includes(c)||this.registers.push(c)}}]),a}();h.exports=j},function(f,b,h){function a(l){var k=l.sceneId,m=l.time,j=d.SERVER_1+"scene/msg/list?sceneId="+k;return m&&(j+="&lastTime="+m),j+="&date="+(new Date).getTime(),c({type:"GET",url:j})}function g(i){return c({type:"POST",url:d.SERVER_1+"scene/send/msg",data:i})}var d=h(20),c=h(19).ajax;f.exports={$getCommentList:a,$postComment:g}},function(h,d,k){function c(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function")}}function j(a){return f.includes(""+a.type)}var g=function(){function a(o,m){for(var p=0;p<m.length;p++){var l=m[p];l.enumerable=l.enumerable||!1,l.configurable=!0,"value" in l&&(l.writable=!0),Object.defineProperty(o,l.key,l)}}return function(l,m,e){return m&&a(l.prototype,m),e&&a(l,e),l}}(),f=k(64).FORM_COMPS,b=function(){function a(){c(this,a),this.submited=!1,this.fromCompList=[]}return g(a,[{key:"add",value:function(i){if(j(i)){if(this.fromCompList.includes(i)){if(_DEBUG_){throw new Error("Duplicate EQX form element "+i)}}else{this.fromCompList.push(i)}}else{if(_DEBUG_){throw new Error("Invalid EQX Form Element "+i+", type: "+i.type)}}}},{key:"check",value:function(){for(var u={},m=this.fromCompList.map(function(i){return i.check()}),w=0;w<m.length;w++){var l=m[w],v=l.success,q=l.key,p=l.value;if(!v){return l}u[q]=p}return Object.values(u).every(function(i){return !i})?{success:!1,message:"请填写表单"}:{success:!0,form:u}}}]),a}();h.exports=b},function(q,y,g){function k(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function f(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var z=function(){function a(l,h){for(var o=0;o<h.length;o++){var c=h[o];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(l,c.key,c)}}return function(e,h,c){return h&&a(e.prototype,h),c&&a(e,c),e}}(),w=function m(l,c,s){null===l&&(l=Function.prototype);var a=Object.getOwnPropertyDescriptor(l,c);if(void 0===a){var p=Object.getPrototypeOf(l);return null===p?void 0:m(p,c,s)}if("value" in a){return a.value}var h=a.get;if(void 0!==h){return h.call(s)}},v=g(276),x=g(194).$getCountValues,j=g(64).COMP_TYPE,d=function(c){function a(i){k(this,a);var l=i.list.reduce(function(o,n){return o.concat(n.elements)},[]),h=f(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,l));return h.sceneJson=i,h.countIdArr=[],h.countValuesPromise=null,h}return b(a,c),z(a,[{key:"iterate",value:function(){var h=this;w(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"iterate",this).call(this),this.compJsonList.forEach(function(e){var i=j[e.type];"EqxCount"!==i||h.countIdArr.includes(e.id)||h.countIdArr.push(e.id)})}},{key:"getCountIds",value:function(){return this.countIdArr.join(",")}},{key:"getCounterValues",value:function(){if(this.countValuesPromise){return this.countValuesPromise}var i=this.getCountIds();if(i){var h=this.sceneJson.meta.id;this.countValuesPromise=x({sceneId:h,fieldIds:i}).then(function(l){return l.map})["catch"](function(){return{}})}else{this.countValuesPromise=Promise.resolve({})}return this.countValuesPromise}}]),a}(v);q.exports=d},function(h,m,f){function g(c,a){if(!(c instanceof a)){throw new TypeError("Cannot call a class as a function")}}function d(c,a){if(!c){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?c:a}function b(c,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(c,a):c.__proto__=a)}var p=function(){function a(q,o){for(var r=0;r<o.length;r++){var c=o[r];c.enumerable=c.enumerable||!1,c.configurable=!0,"value" in c&&(c.writable=!0),Object.defineProperty(q,c.key,c)}}return function(e,o,c){return o&&a(e.prototype,o),c&&a(e,c),e}}(),k=f(313),j=f(115),l=function(c){function a(){return g(this,a),d(this,(a.__proto__||Object.getPrototypeOf(a)).call(this))}return b(a,c),p(a,[{key:"onPlay",value:function(o){if(this.agents.includes(o)){switch(o.type){case 3:this.agents.forEach(function(e){5!==e.type||e.master.$context[0].paused||o.update(new j("stop"))});break;case 5:var i=this.agents.find(function(n){return 3===n.type});i&&i.update(new j("stop"));break;case 1:this.agents.forEach(function(e){e!==o&&(2===e.type||3===e.type?e.update(new j("down")):1===e.type&&(e.update(new j("stop")),e.update(new j("reset"))))});break;case 2:var q=this.agents.find(function(n){return 3===n.type});q&&q.update(new j("down")),this.agents.forEach(function(e){1!==e.type||e.audio.paused||o.update(new j("down"))});break;case 4:this.agents.forEach(function(n){2===n.type||3===n.type?n.update(new j("down")):1===n.type&&(n.update(new j("stop")),n.update(new j("reset")))})}}}},{key:"onEnd",value:function(y){if(y||this.agents.includes(y)){switch(y.type){case 5:var v=this.agents.find(function(i){return 3===i.type});v&&v.update(new j("play"));break;case 1:var A=null,u=this.agents.find(function(i){return 3===i.type});A=this.agents.findIndex(function(i){return 1===i.type&&!i.audio.paused})!==-1,this.agents.forEach(function(i){2!==i.type||A||i.update(new j("restore"))}),A=this.agents.findIndex(function(i){return(1===i.type||2===i.type)&&!i.audio.paused})!==-1,u&&!A&&u.update(new j("restore"));break;case 2:var z=this.agents.find(function(i){return 3===i.type}),x=!1;this.agents.forEach(function(e){e!==y&&(1!==e.type&&2!==e.type||e.audio.paused||(x=!0))}),z&&!x&&z.update(new j("restore"));break;case 4:var w=null,q=this.agents.find(function(i){return 3===i.type});w=this.agents.findIndex(function(i){return 1===i.type&&!i.audio.paused})!==-1,this.agents.forEach(function(i){2!==i.type||w||i.update(new j("restore"))}),w=this.agents.findIndex(function(i){return(1===i.type||2===i.type)&&!i.audio.paused})!==-1,q&&!w&&q.update(new j("restore"))}}}},{key:"stopAll",value:function(){this.agents.forEach(function(i){i.audio.paused||i.update(new j("stop"))})}},{key:"restoreAll",value:function(){this.agents.forEach(function(i){3===i.type&&i.audio.paused&&!i.isManualPause&&i.update(new j("play"))})}}]),a}(k);h.exports=l},function(c,b){function f(h,g){if(!(h instanceof g)){throw new TypeError("Cannot call a class as a function")}}var a=function(){function g(k,j){for(var l=0;l<j.length;l++){var h=j[l];h.enumerable=h.enumerable||!1,h.configurable=!0,"value" in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(h,j,e){return j&&g(h.prototype,j),e&&g(h,e),h}}(),d=function(){function g(e){f(this,g),this.agents=[],this.predict=e}return a(g,[{key:"add",value:function(h){this.predict&&!this.predict.call(this,h)||this.agents.includes(h)||this.agents.push(h)}},{key:"remove",value:function(i){var h=this.agents.indexOf(i);h>-1&&this.agents.splice(h,1)}}]),g}();c.exports=d},function(h,d,k){function c(i,a){if(!(i instanceof a)){throw new TypeError("Cannot call a class as a function")}}function j(i,a){if(!i){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return !a||"object"!=typeof a&&"function"!=typeof a?i:a}function g(i,a){if("function"!=typeof a&&null!==a){throw new TypeError("Super expression must either be null or a function, not "+typeof a)}i.prototype=Object.create(a&&a.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(i,a):i.__proto__=a)}var f=k(313),b=function(i){function a(){return c(this,a),j(this,(a.__proto__||Object.getPrototypeOf(a)).call(this))}return g(a,i),a}(f);h.exports=b},function(d,b,g){var a,f,c;!function(h,e){f=[b,g(316),g(318),g(319),g(320),g(321)],a=e,c="function"==typeof a?a.apply(b,f):a,!(void 0!==c&&(d.exports=c))}(this,function(w,A,m,v,k,h){function B(i){return i&&i.__esModule?i:{"default":i}}Object.defineProperty(w,"__esModule",{value:!0}),w.detailedDiff=w.updatedDiff=w.deletedDiff=w.diff=w.addedDiff=void 0;var y=B(A),x=B(m),z=B(v),q=B(k),j=B(h);w.addedDiff=x["default"],w.diff=y["default"],w.deletedDiff=z["default"],w.updatedDiff=q["default"],w.detailedDiff=j["default"]})},function(d,b,g){var a,f,c;!function(h,e){f=[d,b,g(317)],a=e,c="function"==typeof a?a.apply(b,f):a,!(void 0!==c&&(d.exports=c))}(this,function(m,j,q){function h(o,i,r){return i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r,o}Object.defineProperty(j,"__esModule",{value:!0});var p=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var u=arguments[r];for(var o in u){Object.prototype.hasOwnProperty.call(u,o)&&(s[o]=u[o])}}return s},l=function k(s,n){if(s===n){return{}}if(!(0,q.isObject)(s)||!(0,q.isObject)(n)){return n}var o=(0,q.properObject)(s),i=(0,q.properObject)(n),u=Object.keys(o).reduce(function(v,r){return i.hasOwnProperty(r)?v:p({},v,h({},r,void 0))},{});return(0,q.isDate)(o)||(0,q.isDate)(i)?o.valueOf()==i.valueOf()?{}:i:Object.keys(i).reduce(function(v,r){if(!o.hasOwnProperty(r)){return p({},v,h({},r,i[r]))}var w=k(o[r],i[r]);return(0,q.isObject)(w)&&(0,q.isEmpty)(w)&&!(0,q.isDate)(w)?v:p({},v,h({},r,w))},u)};j["default"]=l,m.exports=j["default"]})},function(d,b,g){var a,f,c;!function(h,e){f=[b],a=e,c="function"==typeof a?a.apply(b,f):a,!(void 0!==c&&(d.exports=c))}(this,function(k){Object.defineProperty(k,"__esModule",{value:!0});var j=Object.assign||function(p){for(var o=1;o<arguments.length;o++){var q=arguments[o];for(var m in q){Object.prototype.hasOwnProperty.call(q,m)&&(p[m]=q[m])}}return p},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(i){return typeof i}:function(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},h=(k.isDate=function(i){return i instanceof Date},k.isEmpty=function(i){return 0===Object.keys(i).length},k.isObject=function(i){return null!=i&&"object"===("undefined"==typeof i?"undefined":l(i))});k.properObject=function(i){return h(i)&&!i.hasOwnProperty?j({},i):i}})},function(d,b,g){var a,f,c;!function(h,e){f=[d,b,g(317)],a=e,c="function"==typeof a?a.apply(b,f):a,!(void 0!==c&&(d.exports=c))}(this,function(m,j,q){function h(o,i,r){return i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r,o}Object.defineProperty(j,"__esModule",{value:!0});var p=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var u=arguments[r];for(var o in u){Object.prototype.hasOwnProperty.call(u,o)&&(s[o]=u[o])}}return s},l=function k(s,n){if(s===n||!(0,q.isObject)(s)||!(0,q.isObject)(n)){return{}}var o=(0,q.properObject)(s),i=(0,q.properObject)(n);return Object.keys(i).reduce(function(u,r){if(o.hasOwnProperty(r)){var v=k(o[r],i[r]);return(0,q.isObject)(v)&&(0,q.isEmpty)(v)?u:p({},u,h({},r,v))}return p({},u,h({},r,i[r]))},{})};j["default"]=l,m.exports=j["default"]})},function(d,b,g){var a,f,c;!function(h,e){f=[d,b,g(317)],a=e,c="function"==typeof a?a.apply(b,f):a,!(void 0!==c&&(d.exports=c))}(this,function(m,j,q){function h(o,i,r){return i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r,o}Object.defineProperty(j,"__esModule",{value:!0});var p=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var u=arguments[r];for(var o in u){Object.prototype.hasOwnProperty.call(u,o)&&(s[o]=u[o])}}return s},l=function k(s,n){if(s===n||!(0,q.isObject)(s)||!(0,q.isObject)(n)){return{}}var o=(0,q.properObject)(s),i=(0,q.properObject)(n);return Object.keys(o).reduce(function(u,r){if(i.hasOwnProperty(r)){var v=k(o[r],i[r]);return(0,q.isObject)(v)&&(0,q.isEmpty)(v)?u:p({},u,h({},r,v))}return p({},u,h({},r,void 0))},{})};j["default"]=l,m.exports=j["default"]})},function(d,b,g){var a,f,c;!function(h,e){f=[d,b,g(317)],a=e,c="function"==typeof a?a.apply(b,f):a,!(void 0!==c&&(d.exports=c))}(this,function(m,j,q){function h(o,i,r){return i in o?Object.defineProperty(o,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):o[i]=r,o}Object.defineProperty(j,"__esModule",{value:!0});var p=Object.assign||function(s){for(var r=1;r<arguments.length;r++){var u=arguments[r];for(var o in u){Object.prototype.hasOwnProperty.call(u,o)&&(s[o]=u[o])}}return s},l=function k(s,n){if(s===n){return{}}if(!(0,q.isObject)(s)||!(0,q.isObject)(n)){return n}var o=(0,q.properObject)(s),i=(0,q.properObject)(n);return(0,q.isDate)(o)||(0,q.isDate)(i)?o.valueOf()==i.valueOf()?{}:i:Object.keys(i).reduce(function(u,r){if(o.hasOwnProperty(r)){var v=k(o[r],i[r]);return(0,q.isObject)(v)&&(0,q.isEmpty)(v)&&!(0,q.isDate)(v)?u:p({},u,h({},r,v))}return u},{})};j["default"]=l,m.exports=j["default"]})},function(d,b,g){var a,f,c;!function(h,e){f=[d,b,g(318),g(319),g(320)],a=e,c="function"==typeof a?a.apply(b,f):a,!(void 0!==c&&(d.exports=c))}(this,function(m,w,k,l,j){function h(i){return i&&i.__esModule?i:{"default":i}}Object.defineProperty(w,"__esModule",{value:!0});var x=h(k),q=h(l),p=h(j),v=function(n,i){return{added:(0,x["default"])(n,i),deleted:(0,q["default"])(n,i),updated:(0,p["default"])(n,i)}};w["default"]=v,m.exports=w["default"]})},function(f,b,h){function a(j,i){return d()||i||j.map.wxComponent?function(q){var t=q.type,m=q.id,e=q.properties.type;if(i){var x=i.headimgurl,w=i.nickname;"201"==t&&"own"==e&&(q.content=w),"401"==t&&"own"==e&&(q.properties.src=x,delete q.properties.imgStyle)}var y=j.map.wxComponent,s=void 0===y?{shareUserName:"",shareUserHeader:""}:y,k=s.shareUserName,v=s.shareUserHeader;(k||v)&&("201"==t&&"share"==e&&k&&(q.content=k),"401"==t&&"share"==e&&v&&(q.properties.src=v,delete q.properties.imgStyle)),"201"!=t&&"401"!=t||"share"!=e||c.generateUserKey(),s[m]&&(q.serverId=s[m])}:g}var g=h(25).noop,d=h(23).isWeixin,c=h(76);f.exports={wxAdaptor:a}}]);
