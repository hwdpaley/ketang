{
    "version": 3,
    "sources": [
        "../../../src/admin/controller/apirest.js"
    ],
    "names": [
        "init",
        "http",
        "model",
        "get",
        "modelInstance",
        "__before",
        "getAction",
        "console",
        "log",
        "resource",
        "id",
        "data",
        "think",
        "isNumberString",
        "getPk",
        "pk",
        "where",
        "find",
        "success",
        "select",
        "controller",
        "rest"
    ],
    "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAKE;;;;;mBAKAA,I,iBAAKC,I,EAAK;AACR,oCAAMD,IAAN,YAAWC,IAAX;AACA;AACA,QAAIC,QAAQ,KAAKC,GAAL,CAAS,OAAT,CAAZ;AACA,SAAKC,aAAL,GAAqB,KAAKF,KAAL,CAAWA,KAAX,CAArB;AACD,G;AACD;;;;;;mBAIAG,Q,uBAAU,CAET,C;;mBACKC,S;;;;;;;;AACJC,sBAAQC,GAAR,CAAY,KAAKC,QAAjB;AACAF,sBAAQC,GAAR,CAAY,KAAKE,EAAjB;AACIC,kB;;mBACAC,MAAMC,cAAN,CAAqB,KAAKH,EAA1B,C;;;;;;qBACa,KAAKN,aAAL,CAAmBU,KAAnB,E;;;AAAXC,gB;;qBACS,KAAKX,aAAL,CAAmBY,KAAnB,kDAA2BD,EAA3B,IAAgC,KAAKL,EAArC,yBAA0CO,IAA1C,E;;;AAAbN,kB;+CACO,KAAKO,OAAL,CAAaP,IAAb,C;;;;qBAEM,KAAKP,aAAL,CAAmBe,MAAnB,E;;;AAAbR,kB;;;+CAGK,KAAKO,OAAL,CAAaP,IAAb,C;;;;;;;;;;;;;;;;;;EA/BkBC,MAAMQ,UAAN,CAAiBC,I",
    "file": "../../../src/admin/controller/apirest.js",
    "sourcesContent": [
        "// +----------------------------------------------------------------------\n// | Bieber [ 美媒网站内容管理框架 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2017 http://www.gzxinbibo.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Author: Tony <912697590@qq.com>\n// +----------------------------------------------------------------------\n'use strict';\n/**\n * rest controller\n * @type {Class}\n */\nexport default class extends think.controller.rest {\n  /**\n   * init\n   * @param  {Object} http []\n   * @return {}      []\n   */\n  init(http){\n    super.init(http);\n    //this._method = \"_method\";\n    let model = this.get('model');\n    this.modelInstance = this.model(model);\n  }\n  /**\n   * before magic method\n   * @return {Promise} []\n   */\n  __before(){\n   \n  }\n  async getAction(){\n    console.log(this.resource)\n    console.log(this.id)\n    let data;\n    if (think.isNumberString(this.id)) {\n      let pk = await this.modelInstance.getPk();\n      data = await this.modelInstance.where({[pk]: this.id}).find();\n      return this.success(data);\n    }else {\n      data = await this.modelInstance.select();\n    }\n\n    return this.success(data);\n  }\n\n}"
    ]
}