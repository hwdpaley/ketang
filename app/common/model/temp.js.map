{
    "version": 3,
    "sources": [
        "../../../src/common/model/temp.js"
    ],
    "names": [
        "gettemp",
        "type",
        "where",
        "select",
        "temp",
        "template_index",
        "v",
        "obj",
        "module",
        "controller",
        "name",
        "action",
        "think",
        "config",
        "push",
        "template_lists",
        "split",
        "template_detail",
        "field",
        "sp",
        "template_sp",
        "model",
        "base"
    ],
    "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAII;;;;;qBAKMA,O;;gBAAQC,I,uEAAK,C;;;;;;;;;mCAEE,KAAKC,KAAL,CAAW,EAACD,MAAKA,IAAN,EAAX,EAAwBE,MAAxB,E;;;AAAbC,gC;;AACJ;AACIC,0C,GAAgB,E;wCACPD,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAALE,6B;AACAC,+B,GAAM,E;AACV;AACA;;AACA,gCAAGD,EAAEE,MAAF,IAAU,OAAV,IAAsBF,EAAEG,UAAF,IAAc,OAAvC,EAA+C;AAC3CF,oCAAIG,IAAJ,GAASJ,EAAEI,IAAX;AACAH,oCAAII,MAAJ,GAAWL,EAAEK,MAAF,GAASC,MAAMC,MAAN,CAAa,eAAb,CAApB;AACAR,+CAAeS,IAAf,CAAoBP,GAApB;AACH;;;;;;;AAGL;AACIQ,0C,GAAgB,E;yCACPX,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAALE,8B;AACAC,gC,GAAM,E;AACNI,kC,GAASL,GAAEK,MAAF,CAASK,KAAT,CAAe,GAAf,C;AACb;;AACA,gCAAGV,GAAEE,MAAF,IAAU,OAAV,IAAsBF,GAAEG,UAAF,IAAc,MAAvC,EAA8C;AAC1CF,qCAAIG,IAAJ,GAASJ,GAAEI,IAAX;AACAH,qCAAII,MAAJ,GAAWL,GAAEK,MAAF,GAASC,MAAMC,MAAN,CAAa,eAAb,CAApB;AACAE,+CAAeD,IAAf,CAAoBP,IAApB;AACH;;;;;;;AAGL;AACIU,2C,GAAiB,E;yCACRb,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAALE,+B;AACAC,iC,GAAK,E;AACLI,mC,GAASL,IAAEK,MAAF,CAASK,KAAT,CAAe,GAAf,C;;AACb,gCAAGV,IAAEE,MAAF,IAAU,OAAV,IAAsBF,IAAEG,UAAF,IAAc,QAAvC,EAAgD;AAC5CF,sCAAIG,IAAJ,GAASJ,IAAEI,IAAX;AACAH,sCAAII,MAAJ,GAAWL,IAAEK,MAAF,GAASC,MAAMC,MAAN,CAAa,eAAb,CAApB;AACAI,gDAAgBH,IAAhB,CAAqBP,KAArB;AACH;;;;;;;AACJ;AACD;;mCACe,KAAKL,KAAL,CAAW,EAACD,MAAKA,IAAN,EAAWO,QAAO,OAAlB,EAA0BC,YAAW,IAArC,EAAX,EAAwDS,KAAxD,CAA8D,aAA9D,EAA6Ef,MAA7E,E;;;AAAXgB,8B;yCACUA,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAALb,+B;;AACLA,gCAAEK,MAAF,GAAUL,IAAEK,MAAF,GAASC,MAAMC,MAAN,CAAa,eAAb,CAAnB;;;;;;;6DAEE;AACFE,gDAAeA,cADb;AAEFE,iDAAgBA,eAFd;AAGFZ,gDAAeA,cAHb;AAIFe,6CAAYD;AAJV,6B;;;;;;;;;;;;;;;;;;EAnDeP,MAAMS,KAAN,CAAYC,I",
    "file": "../../../src/common/model/temp.js",
    "sourcesContent": [
        "// +----------------------------------------------------------------------\n// | Bieber [ 美媒网站内容管理框架 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2017 http://www.gzxinbibo.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Author: Tony <912697590@qq.com>\n// +----------------------------------------------------------------------\n\n'use strict';\n/**\n * model\n */\nexport default class extends think.model.base {\n    /**\n     * 获取模版\n     * @param type\n     * @returns {{template_lists: Array, template_detail: Array, template_index: Array}}\n     */\n    async gettemp(type=1){\n        //获取模版列表\n        let temp = await this.where({type:type}).select();\n        //封面模版\n        let template_index =[]\n        for(let v of temp){\n            let obj = {}\n            //let action = v.action.split(\"_\")\n            //console.log(action[1]);\n            if(v.module=='topic' &&  v.controller=='cover'){\n                obj.name=v.name;\n                obj.action=v.action+think.config(\"view.file_ext\");\n                template_index.push(obj);\n            }\n\n        }\n        //列表模版\n        let template_lists =[]\n        for(let v of temp){\n            let obj = {}\n            let action = v.action.split(\"_\");\n            //console.log(action[1]);\n            if(v.module=='topic' &&  v.controller=='list'){\n                obj.name=v.name;\n                obj.action=v.action+think.config(\"view.file_ext\");\n                template_lists.push(obj);\n            }\n\n        }\n        //详情页模版\n        let template_detail =[];\n        for(let v of temp){\n            let obj ={};\n            let action = v.action.split(\"_\");\n            if(v.module=='topic' &&  v.controller=='detail'){\n                obj.name=v.name;\n                obj.action=v.action+think.config(\"view.file_ext\");\n                template_detail.push(obj);\n            }\n        };\n        //单页模版\n        let sp = await this.where({type:type,module:\"topic\",controller:\"sp\",}).field(\"name,action\").select();\n        for (let v of sp ){\n            v.action =v.action+think.config(\"view.file_ext\")\n        }\n        return{\n            template_lists:template_lists,\n            template_detail:template_detail,\n            template_index:template_index,\n            template_sp:sp\n        };\n\n    }\n}"
    ]
}