{
    "version": 3,
    "sources": [
        "../../../src/common/model/auth_role.js"
    ],
    "names": [
        "get_rolename",
        "uid",
        "model",
        "where",
        "user_id",
        "field",
        "find",
        "role_id",
        "name",
        "desc",
        "think",
        "base"
    ],
    "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAII;;;;AAID;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;qBACOA,Y;+FAAaC,G;;;;;;AACfA,kCAAMA,OAAO,CAAb;AACA;;;mCAEoB,KAAKC,KAAL,CAAW,gBAAX,EAA6BC,KAA7B,CAAmC,EAACC,SAAQH,GAAT,EAAnC,EAAkDI,KAAlD,CAAwD,SAAxD,EAAmEC,IAAnE,E;;;AAAhBC,mC;;mCACW,KAAKF,KAAL,CAAW,MAAX,EAAmBC,IAAnB,CAAwBC,QAAQA,OAAhC,C;;;AAAXC,gC;6DAEGA,KAAKC,I;;;;;;;;;;;;;;;;;;EAtBSC,MAAMR,KAAN,CAAYS,I",
    "file": "../../../src/common/model/auth_role.js",
    "sourcesContent": [
        "// +----------------------------------------------------------------------\n// | Bieber [ 美媒网站内容管理框架 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2017 http://www.gzxinbibo.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Author: Tony <912697590@qq.com>\n// +----------------------------------------------------------------------\n\n'use strict';\n/**\n * model\n */\nexport default class extends think.model.base {\n    /**\n     * 获取用户组并进行缓存\n     * @returns {Promise}\n     */\n   // async getgroup(map={}){\n   //     let list = await think.cache(\"all_member_group\", () => {\n   //         return this.select();\n   //     }, {timeout: 365 * 24 * 3600});\n   //     if(think.isEmpty(map)){\n   //         return list;\n   //     }else {\n   //         return think._.filter(list, map);\n   //     }\n   //  }\n    async get_rolename(uid) {\n        uid = uid || 0;\n        //TODO 缓存处理续\n        \n        let role_id = await this.model('auth_user_role').where({user_id:uid}).field(\"role_id\").find();\n        let name=await this.field('desc').find(role_id.role_id);\n        // console.log(\"get_rolename------\"+JSON.stringify(role_id));\n        return name.desc;\n\n    }\n}"
    ]
}