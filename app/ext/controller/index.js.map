{
    "version": 3,
    "sources": [
        "../../../src/ext/controller/index.js"
    ],
    "names": [
        "__before",
        "model",
        "where",
        "ext",
        "http",
        "controller",
        "split",
        "find",
        "meta_title",
        "name",
        "think",
        "isEmpty",
        "setting",
        "JSON",
        "parse",
        "gettype",
        "order",
        "select",
        "data"
    ],
    "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;;;;;;;;;;;;;AAGE;;;;mBAIMA,Q;;;;;;;qBACG,gBAAMA,QAAN,W;;;;qBACU,KAAKC,KAAL,CAAW,KAAX,EAAkBC,KAAlB,CAAwB,EAACC,KAAI,KAAKC,IAAL,CAAUC,UAAV,CAAqBC,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAL,EAAxB,EAAkEC,IAAlE,E;;;AAAjB,mBAAKJ,G;;AACL;AACA,mBAAKK,UAAL,GAAkB,KAAKL,GAAL,CAASM,IAA3B;AACA;AACA,kBAAG,CAACC,MAAMC,OAAN,CAAc,KAAKR,GAAL,CAASS,OAAvB,CAAJ,EAAoC;AAClC,qBAAKA,OAAL,GAAeC,KAAKC,KAAL,CAAW,KAAKX,GAAL,CAASS,OAApB,CAAf;AACD,eAFD,MAEM;AACJ,qBAAKA,OAAL,GAAe,EAAf;AACD;;;;;;;;;;;;;;;;AAEH;;;;;;mBAIMG,O;;;;;;;;qBACa,KAAKd,KAAL,CAAW,UAAX,EAAuBC,KAAvB,CAA6B,EAACC,KAAI,KAAKA,GAAL,CAASA,GAAd,EAA7B,EAAiDa,KAAjD,CAAuD,UAAvD,EAAmEC,MAAnE,E;;;AAAbC,kB;gDACGA,I",
    "file": "../../../src/ext/controller/index.js",
    "sourcesContent": [
        "// +----------------------------------------------------------------------\n// | Bieber [ 美媒网站内容管理框架 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2017 http://www.gzxinbibo.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Author: Tony <912697590@qq.com>\n// +----------------------------------------------------------------------\n\n'use strict';\n\nimport Base from '../../topic/controller/base.js';\n\nexport default class extends Base {\n  /**\n   * index action\n   * @return {Promise} []\n   */\n  async __before(){\n    await  super.__before();\n    this.ext = await this.model(\"ext\").where({ext:this.http.controller.split(\"/\")[0]}).find();\n    //console.log(this.ext);\n    this.meta_title = this.ext.name;\n    //获取插件配置\n    if(!think.isEmpty(this.ext.setting)){\n      this.setting = JSON.parse(this.ext.setting)\n    }else {\n      this.setting = {}\n    }\n  }\n  /**\n   * 获取当前插件分类\n   * @returns {*}\n   */\n  async gettype(){\n    let data = await this.model(\"ext_type\").where({ext:this.ext.ext}).order(\"sort ASC\").select();\n    return data;\n  }\n}"
    ]
}